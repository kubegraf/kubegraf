Analyze this codebase and create comprehensive Mermaid architecture diagrams in markdown format. Work with ANY programming language and framework.                                                                                                
                                                                                                                                                                                                                                                    
  **Supported Languages:** JavaScript, TypeScript, Python, Java, Go, C#, Ruby, PHP, Rust, Kotlin, Swift, Dart, Elixir, Scala, etc.                                                                                                                  
                                                                                                                                                                                                                                                    
  **Supported Frameworks:**                                                                                                                                                                                                                         
  - Frontend: React, Vue, Angular, Svelte, SolidJS, Next.js, Nuxt, Remix, Qwik, Astro, Preact                                                                                                                                                       
  - Backend: Express, NestJS, FastAPI, Django, Flask, Spring Boot, Laravel, Rails, Fiber, Gin, ASP.NET Core, Phoenix                                                                                                                                
  - Mobile: React Native, Flutter, SwiftUI, Jetpack Compose                                                                                                                                                                                         
  - Full-stack: Next.js, SvelteKit, SolidStart, Remix, Astro                                                                                                                                                                                        
                                                                                                                                                                                                                                                    
  ---                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                    
  ## Generate the following Mermaid diagrams:                                                                                                                                                                                                       
                                                                                                                                                                                                                                                    
  ### 1. System Architecture Overview                                                                                                                                                                                                               
  Show the complete system landscape:                                                                                                                                                                                                               
  - All services/applications (frontend, backend, microservices, workers)                                                                                                                                                                           
  - Databases (PostgreSQL, MySQL, MongoDB, Redis, etc.)                                                                                                                                                                                             
  - Message queues (RabbitMQ, Kafka, SQS, etc.)                                                                                                                                                                                                     
  - Storage (S3, GCS, local filesystem)                                                                                                                                                                                                             
  - External APIs and third-party services                                                                                                                                                                                                          
  - CDN, load balancers, reverse proxies                                                                                                                                                                                                            
  - How everything connects with actual protocols and ports                                                                                                                                                                                         
                                                                                                                                                                                                                                                    
  **Mermaid syntax:** `graph TB` or `flowchart TB`                                                                                                                                                                                                  
                                                                                                                                                                                                                                                    
  ### 2. Frontend Architecture                                                                                                                                                                                                                      
  Analyze and diagram the frontend structure:                                                                                                                                                                                                       
  - Component hierarchy and relationships                                                                                                                                                                                                           
  - State management (Redux, Zustand, Pinia, Solid Store, Jotai, MobX, Context API)                                                                                                                                                                 
  - Routing structure with actual route paths                                                                                                                                                                                                       
  - API service layer or data fetching (React Query, SWR, Apollo, tRPC, Solid Query)                                                                                                                                                                
  - Authentication state handling                                                                                                                                                                                                                   
  - For SolidJS specifically: Show reactive primitives (createSignal, createEffect, createResource)                                                                                                                                                 
  - For React: Show hooks usage patterns                                                                                                                                                                                                            
  - For Vue: Show composition API or options API structure                                                                                                                                                                                          
  - Layout components and page components                                                                                                                                                                                                           
  - Shared components and utilities                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                    
  **Mermaid syntax:** `graph TD` with subgraphs for logical grouping                                                                                                                                                                                
                                                                                                                                                                                                                                                    
  ### 3. API Endpoint Mapping                                                                                                                                                                                                                       
  Complete API inventory with frontend-backend mapping:                                                                                                                                                                                             
  - All REST/GraphQL/gRPC/tRPC endpoints                                                                                                                                                                                                            
  - HTTP methods: GET, POST, PUT, PATCH, DELETE                                                                                                                                                                                                     
  - Full endpoint paths: `/api/v1/users/:id`                                                                                                                                                                                                        
  - Request parameters (path, query, body)                                                                                                                                                                                                          
  - Response structure and status codes                                                                                                                                                                                                             
  - Authentication requirements (public, authenticated, admin)                                                                                                                                                                                      
  - Which frontend pages/components call which endpoints                                                                                                                                                                                            
  - Rate limiting or special middleware                                                                                                                                                                                                             
                                                                                                                                                                                                                                                    
  **Mermaid syntax:** `graph LR` or create a table in markdown after the diagram                                                                                                                                                                    
                                                                                                                                                                                                                                                    
  ### 4. Complete Request Flow (2-3 Key User Journeys)                                                                                                                                                                                              
  Pick critical flows and show end-to-end:                                                                                                                                                                                                          
                                                                                                                                                                                                                                                    
  **Example flows:**                                                                                                                                                                                                                                
  - User registration/login                                                                                                                                                                                                                         
  - Create/update main resource                                                                                                                                                                                                                     
  - Data fetching and display                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                    
  **Show:**                                                                                                                                                                                                                                         
  - User interaction in UI (button click, form submit)                                                                                                                                                                                              
  - Frontend event handler (onClick, onSubmit, onMount)                                                                                                                                                                                             
  - State updates (setState, signal setter, store mutation)                                                                                                                                                                                         
  - API call with actual function names                                                                                                                                                                                                             
  - HTTP request (method, headers, body)                                                                                                                                                                                                            
  - Backend route matching                                                                                                                                                                                                                          
  - Middleware execution (auth, validation, logging)                                                                                                                                                                                                
  - Controller/handler function                                                                                                                                                                                                                     
  - Service layer business logic                                                                                                                                                                                                                    
  - Repository/data access layer                                                                                                                                                                                                                    
  - Database query (SQL, MongoDB query, ORM call)                                                                                                                                                                                                   
  - External API calls if any                                                                                                                                                                                                                       
  - Response transformation (serializers, DTOs)                                                                                                                                                                                                     
  - Response sent to frontend                                                                                                                                                                                                                       
  - Frontend state update                                                                                                                                                                                                                           
  - UI re-render/reactivity                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                    
  **Include actual:**                                                                                                                                                                                                                               
  - File paths: `src/components/UserProfile.tsx`                                                                                                                                                                                                    
  - Function names: `handleSubmit()`, `userService.create()`, `UserRepository.save()`                                                                                                                                                               
  - Route paths: `POST /api/users`                                                                                                                                                                                                                  
  - Component names: `<UserForm />`, `UserController`                                                                                                                                                                                               
                                                                                                                                                                                                                                                    
  **Mermaid syntax:** `sequenceDiagram`                                                                                                                                                                                                             
                                                                                                                                                                                                                                                    
  ### 5. Backend Architecture                                                                                                                                                                                                                       
  Show backend layers and structure:                                                                                                                                                                                                                
  - Entry point (main.ts, app.py, server.js)                                                                                                                                                                                                        
  - Route definitions and router structure                                                                                                                                                                                                          
  - Controllers/handlers (request handling)                                                                                                                                                                                                         
  - Services (business logic layer)                                                                                                                                                                                                                 
  - Repositories/DAOs (data access)                                                                                                                                                                                                                 
  - Models/entities (domain objects)                                                                                                                                                                                                                
  - DTOs, validators, serializers                                                                                                                                                                                                                   
  - Middleware stack (auth, CORS, logging, error handling)                                                                                                                                                                                          
  - Dependency injection container (if used)                                                                                                                                                                                                        
  - Configuration management                                                                                                                                                                                                                        
  - Background jobs/workers (if any)                                                                                                                                                                                                                
                                                                                                                                                                                                                                                    
  **Mermaid syntax:** `graph TD` with layered subgraphs                                                                                                                                                                                             
                                                                                                                                                                                                                                                    
  ### 6. Frontend-Backend Integration Flow                                                                                                                                                                                                          
  Show how frontend and backend connect:                                                                                                                                                                                                            
  - Frontend application (React/SolidJS/Vue app)                                                                                                                                                                                                    
  - API client/service layer (axios, fetch, tRPC client)                                                                                                                                                                                            
  - HTTP/WebSocket connections                                                                                                                                                                                                                      
  - Authentication token handling (JWT in localStorage/cookies)                                                                                                                                                                                     
  - Request interceptors (add auth headers)                                                                                                                                                                                                         
  - Response interceptors (handle errors, refresh tokens)                                                                                                                                                                                           
  - Backend API gateway or routes                                                                                                                                                                                                                   
  - CORS configuration                                                                                                                                                                                                                              
  - API versioning strategy                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                    
  **For SolidJS specifically:**                                                                                                                                                                                                                     
  - Show createResource for data fetching                                                                                                                                                                                                           
  - Show how signals propagate to UI                                                                                                                                                                                                                
  - Show Suspense boundaries if used                                                                                                                                                                                                                
                                                                                                                                                                                                                                                    
  **Mermaid syntax:** `sequenceDiagram` or `graph LR`                                                                                                                                                                                               
                                                                                                                                                                                                                                                    
  ### 7. Data/Domain Model                                                                                                                                                                                                                          
  Database and domain structure:                                                                                                                                                                                                                    
  - Database schema (tables/collections with key fields)                                                                                                                                                                                            
  - Primary keys, foreign keys, indexes                                                                                                                                                                                                             
  - Relationships (one-to-many, many-to-many)                                                                                                                                                                                                       
  - Domain models in code (classes/types)                                                                                                                                                                                                           
  - ORM mappings if used (Prisma, TypeORM, SQLAlchemy, Eloquent)                                                                                                                                                                                    
  - Data validation rules (Zod, Yup, Joi, class-validator)                                                                                                                                                                                          
  - Enums and constants                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                    
  **Mermaid syntax:** `erDiagram` for database, `classDiagram` for domain models                                                                                                                                                                    
                                                                                                                                                                                                                                                    
  ### 8. Authentication & Authorization Flow                                                                                                                                                                                                        
  Complete auth system:                                                                                                                                                                                                                             
  - Login UI (form component)                                                                                                                                                                                                                       
  - Login API call                                                                                                                                                                                                                                  
  - Backend authentication (verify credentials)                                                                                                                                                                                                     
  - Token generation (JWT, session)                                                                                                                                                                                                                 
  - Token storage (localStorage, httpOnly cookies, memory)                                                                                                                                                                                          
  - Protected route handling in frontend (route guards, HOCs, wrappers)                                                                                                                                                                             
  - Protected endpoint handling in backend (middleware, decorators)                                                                                                                                                                                 
  - Token refresh flow                                                                                                                                                                                                                              
  - Logout process                                                                                                                                                                                                                                  
  - Role-based access control (RBAC)                                                                                                                                                                                                                
  - Permission checks                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                    
  **Mermaid syntax:** `sequenceDiagram` for flows, `graph TD` for structure                                                                                                                                                                         
                                                                                                                                                                                                                                                    
  ### 9. State Management Flow (if applicable)                                                                                                                                                                                                      
  For complex state management:                                                                                                                                                                                                                     
  - Global store structure                                                                                                                                                                                                                          
  - Actions/mutations/reducers                                                                                                                                                                                                                      
  - State selectors                                                                                                                                                                                                                                 
  - Side effects (thunks, sagas, effects)                                                                                                                                                                                                           
  - Local component state vs global state                                                                                                                                                                                                           
  - State persistence                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                    
  **For different frameworks:**                                                                                                                                                                                                                     
  - Redux: actions → reducers → store → selectors                                                                                                                                                                                                   
  - Zustand: store with actions                                                                                                                                                                                                                     
  - Pinia: stores with state/getters/actions                                                                                                                                                                                                        
  - SolidJS: createStore with nested reactivity                                                                                                                                                                                                     
  - MobX: observable state and computed values                                                                                                                                                                                                      
                                                                                                                                                                                                                                                    
  **Mermaid syntax:** `graph TD` or `flowchart LR`                                                                                                                                                                                                  
                                                                                                                                                                                                                                                    
  ### 10. Deployment Architecture                                                                                                                                                                                                                   
  Production infrastructure:                                                                                                                                                                                                                        
  - How services are deployed (Docker containers, Kubernetes pods, serverless functions, VMs)                                                                                                                                                       
  - Container orchestration (K8s namespaces, services)                                                                                                                                                                                              
  - Load balancers and ingress                                                                                                                                                                                                                      
  - Database instances (managed services, self-hosted)                                                                                                                                                                                              
  - Environment configurations (dev, staging, production)                                                                                                                                                                                           
  - CI/CD pipeline stages                                                                                                                                                                                                                           
  - Monitoring and logging setup                                                                                                                                                                                                                    
  - Backup and disaster recovery                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                    
  **Mermaid syntax:** `graph TB` with deployment-specific subgraphs                                                                                                                                                                                 
                                                                                                                                                                                                                                                    
  ---                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                    
  ## Diagram Quality Requirements:                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                    
  ### For ALL diagrams:                                                                                                                                                                                                                             
  - Use appropriate Mermaid diagram types: `graph TD`, `sequenceDiagram`, `flowchart LR`, `classDiagram`, `erDiagram`, `C4Context`                                                                                                                  
  - Show ACTUAL code references, not generic placeholders:                                                                                                                                                                                          
    - ✅ `src/pages/UserProfile.tsx → UserProfile component`                                                                                                                                                                                        
    - ✅ `POST /api/v1/users/:id/update`                                                                                                                                                                                                            
    - ✅ `UserController.updateUser()`                                                                                                                                                                                                              
    - ❌ `Component A → API endpoint`                                                                                                                                                                                                               
  - Include realistic data examples:                                                                                                                                                                                                                
    - ✅ `{userId: 123, name: "John"}`                                                                                                                                                                                                              
    - ✅ `Authorization: Bearer eyJhbGc...`                                                                                                                                                                                                         
  - Label all connections descriptively:                                                                                                                                                                                                            
    - ✅ `HTTP POST /api/login with credentials`                                                                                                                                                                                                    
    - ✅ `calls updateSignal(newValue)`                                                                                                                                                                                                             
    - ✅ `SELECT * FROM users WHERE id = ?`                                                                                                                                                                                                         
  - Use subgraphs to organize by:                                                                                                                                                                                                                   
    - Module/package/namespace                                                                                                                                                                                                                      
    - Layer (presentation, business, data)                                                                                                                                                                                                          
    - Service boundary (frontend, backend, database)                                                                                                                                                                                                
  - Add style classes for clarity:                                                                                                                                                                                                                  
    - Different colors for different layers                                                                                                                                                                                                         
    - Dashed lines for async/optional flows                                                                                                                                                                                                         
    - Bold lines for critical paths                                                                                                                                                                                                                 
  - Add notes for complex logic:                                                                                                                                                                                                                    
    - `note right of Component: Handles retry logic with exponential backoff`                                                                                                                                                                       
                                                                                                                                                                                                                                                    
  ### Framework-Specific Details:                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                    
  **For SolidJS:**                                                                                                                                                                                                                                  
  - Show reactive primitives: `const [count, setCount] = createSignal(0)`                                                                                                                                                                           
  - Show derived signals: `const doubled = createMemo(() => count() * 2)`                                                                                                                                                                           
  - Show effects: `createEffect(() => console.log(count()))`                                                                                                                                                                                        
  - Show resources: `const [user] = createResource(userId, fetchUser)`                                                                                                                                                                              
  - Show stores: `const [store, setStore] = createStore({...})`                                                                                                                                                                                     
  - Show control flow: `<Show when={...}>`, `<For each={...}>`, `<Switch>`                                                                                                                                                                          
  - Note fine-grained reactivity vs virtual DOM frameworks                                                                                                                                                                                          
                                                                                                                                                                                                                                                    
  **For React:**                                                                                                                                                                                                                                    
  - Show hooks: `useState`, `useEffect`, `useCallback`, `useMemo`, `useContext`                                                                                                                                                                     
  - Show custom hooks                                                                                                                                                                                                                               
  - Show HOCs or render props if used                                                                                                                                                                                                               
  - Note reconciliation and re-render patterns                                                                                                                                                                                                      
                                                                                                                                                                                                                                                    
  **For Vue:**                                                                                                                                                                                                                                      
  - Show composition API: `ref()`, `reactive()`, `computed()`, `watch()`                                                                                                                                                                            
  - Or options API: `data()`, `computed`, `methods`, `watch`                                                                                                                                                                                        
  - Show composables (custom composition functions)                                                                                                                                                                                                 
                                                                                                                                                                                                                                                    
  ---                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                    
  ## Additional Output Requirements:                                                                                                                                                                                                                
                                                                                                                                                                                                                                                    
  ### After each diagram, provide:                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                    
  1. **Plain Text Walkthrough**                                                                                                                                                                                                                     
     - Explain each component/step in the diagram                                                                                                                                                                                                   
     - Reference actual code locations                                                                                                                                                                                                              
     - Explain why it's architected this way                                                                                                                                                                                                        
                                                                                                                                                                                                                                                    
  2. **Technology Stack Table**                                                                                                                                                                                                                     
  ┌──────────┬──────────────┬───────────────────┐                                                                                                                                                                                                   
  │  Layer   │  Technology  │      Purpose      │                                                                                                                                                                                                   
  ├──────────┼──────────────┼───────────────────┤                                                                                                                                                                                                   
  │ Frontend │ SolidJS + TS │ Reactive UI       │                                                                                                                                                                                                   
  ├──────────┼──────────────┼───────────────────┤                                                                                                                                                                                                   
  │ State    │ Solid Store  │ Global state      │                                                                                                                                                                                                   
  ├──────────┼──────────────┼───────────────────┤                                                                                                                                                                                                   
  │ Styling  │ Tailwind CSS │ Component styling │                                                                                                                                                                                                   
  ├──────────┼──────────────┼───────────────────┤                                                                                                                                                                                                   
  │ Backend  │ Express + TS │ API server        │                                                                                                                                                                                                   
  ├──────────┼──────────────┼───────────────────┤                                                                                                                                                                                                   
  │ Database │ PostgreSQL   │ Data persistence  │                                                                                                                                                                                                   
  ├──────────┼──────────────┼───────────────────┤                                                                                                                                                                                                   
  │ Cache    │ Redis        │ Session storage   │                                                                                                                                                                                                   
  └──────────┴──────────────┴───────────────────┘                                                                                                                                                                                                   
  3. **API Endpoint Reference Table**                                                                                                                                                                                                               
  ┌────────┬────────────────┬────────────────────────┬──────┬─────────────┐                                                                                                                                                                         
  │ Method │    Endpoint    │     Frontend Usage     │ Auth │ Description │                                                                                                                                                                         
  ├────────┼────────────────┼────────────────────────┼──────┼─────────────┤                                                                                                                                                                         
  │ GET    │ /api/users/:id │ UserProfile.tsx (L45)  │ Yes  │ Get user    │                                                                                                                                                                         
  ├────────┼────────────────┼────────────────────────┼──────┼─────────────┤                                                                                                                                                                         
  │ POST   │ /api/users     │ SignupForm.tsx (L89)   │ No   │ Create user │                                                                                                                                                                         
  ├────────┼────────────────┼────────────────────────┼──────┼─────────────┤                                                                                                                                                                         
  │ PUT    │ /api/users/:id │ EditProfile.tsx (L112) │ Yes  │ Update user │                                                                                                                                                                         
  └────────┴────────────────┴────────────────────────┴──────┴─────────────┘                                                                                                                                                                         
  4. **Frontend-Backend Route Mapping**                                                                                                                                                                                                             
  Show which UI components call which backend endpoints                                                                                                                                                                                             
                                                                                                                                                                                                                                                    
  5. **Key Design Patterns Identified**                                                                                                                                                                                                             
  - Repository Pattern                                                                                                                                                                                                                              
  - Service Layer Pattern                                                                                                                                                                                                                           
  - Factory Pattern                                                                                                                                                                                                                                 
  - Observer Pattern (for reactivity)                                                                                                                                                                                                               
  - Middleware Pattern                                                                                                                                                                                                                              
  - etc.                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                    
  6. **Code Examples** (for complex flows)                                                                                                                                                                                                          
  Show actual code snippets that implement the diagrammed flow                                                                                                                                                                                      
                                                                                                                                                                                                                                                    
  ---                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                    
  ## Example Output Format:                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                    
  ```markdown                                                                                                                                                                                                                                       
  # Architecture Documentation                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                    
  ## 1. System Architecture Overview                                                                                                                                                                                                                
                                                                                                                                                                                                                                                    
  ```mermaid                                                                                                                                                                                                                                        
  graph TB                                                                                                                                                                                                                                          
   subgraph "Frontend (SolidJS)"                                                                                                                                                                                                                    
       UI[User Interface<br/>src/App.tsx]                                                                                                                                                                                                           
       Store[Solid Store<br/>src/store/userStore.ts]                                                                                                                                                                                                
   end                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                    
   subgraph "Backend (Express)"                                                                                                                                                                                                                     
       API[Express Server<br/>src/server.ts]                                                                                                                                                                                                        
       Auth[Auth Middleware<br/>src/middleware/auth.ts]                                                                                                                                                                                             
       UserCtrl[UserController<br/>src/controllers/user.ts]                                                                                                                                                                                         
   end                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                    
   subgraph "Data Layer"                                                                                                                                                                                                                            
       DB[(PostgreSQL<br/>users table)]                                                                                                                                                                                                             
       Cache[(Redis<br/>sessions)]                                                                                                                                                                                                                  
   end                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                    
   UI -->|HTTP POST /api/login| API                                                                                                                                                                                                                 
   API --> Auth                                                                                                                                                                                                                                     
   Auth --> UserCtrl                                                                                                                                                                                                                                
   UserCtrl --> DB                                                                                                                                                                                                                                  
   UserCtrl --> Cache                                                                                                                                                                                                                               
   DB -->|User data| UserCtrl                                                                                                                                                                                                                       
   UserCtrl -->|JWT token| UI                                                                                                                                                                                                                       
   UI --> Store                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                    
  [Text explanation here...]                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                    
  [Continue with other diagrams...]                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                    
  ---                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                    
  ## Special Instructions:                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                    
  - **Be thorough**: Include ALL major components, don't skip important pieces                                                                                                                                                                      
  - **Be specific**: Use actual file paths, function names, route definitions                                                                                                                                                                       
  - **Be practical**: Show real-world examples, not theoretical concepts                                                                                                                                                                            
  - **Be framework-aware**: Recognize and document framework-specific patterns                                                                                                                                                                      
  - **Be language-agnostic**: Work with any programming language syntax                                                                                                                                                                             
  - **Be comprehensive**: Cover frontend, backend, database, deployment, everything                                                                                                                                                                 
                                                                                                                                                                                                                                                    
  Generate diagrams that a new developer could use to understand the entire system architecture in 30 minutes.  
