{"version":3,"file":"YAMLEditor-8WjJlhy7.js","sources":["../../src/components/YAMLEditor.tsx"],"sourcesContent":["import { Component, createSignal, Show } from 'solid-js';\n\ninterface YAMLEditorProps {\n  yaml: string;\n  title?: string;\n  onSave?: (yaml: string) => Promise<void>;\n  onDryRun?: (yaml: string) => Promise<void>;\n  onCancel?: () => void;\n  loading?: boolean;\n}\n\nconst YAMLEditor: Component<YAMLEditorProps> = (props) => {\n  const [editedYaml, setEditedYaml] = createSignal(props.yaml);\n  const [saving, setSaving] = createSignal(false);\n  const [dryRunning, setDryRunning] = createSignal(false);\n  const [error, setError] = createSignal<string | null>(null);\n\n  const handleSave = async () => {\n    setError(null);\n    setSaving(true);\n    try {\n      await props.onSave?.(editedYaml());\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to save YAML');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDryRun = async () => {\n    if (!props.onDryRun) return;\n    setError(null);\n    setDryRunning(true);\n    try {\n      await props.onDryRun(editedYaml());\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Dry run failed');\n    } finally {\n      setDryRunning(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setEditedYaml(props.yaml);\n    setError(null);\n    props.onCancel?.();\n  };\n\n  return (\n    <div class=\"flex flex-col h-full\">\n      {/* Toolbar */}\n      <div class=\"flex items-center justify-between mb-2\">\n        <div class=\"flex items-center gap-2\">\n          <Show when={error()}>\n            <div class=\"px-3 py-1.5 rounded-lg text-sm\" style={{ background: 'rgba(239, 68, 68, 0.1)', color: 'var(--error-color)' }}>\n              {error()}\n            </div>\n          </Show>\n        </div>\n        <div class=\"flex items-center gap-2\">\n          <button\n            onClick={handleCancel}\n            disabled={saving() || props.loading}\n            class=\"px-4 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            style={{ background: 'var(--bg-tertiary)', color: 'var(--text-primary)', border: '1px solid var(--border-color)' }}\n          >\n            Cancel\n          </button>\n          <Show when={props.onDryRun}>\n            <button\n              onClick={handleDryRun}\n              disabled={saving() || props.loading || dryRunning()}\n              class=\"px-4 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n              style={{ background: 'var(--bg-secondary)', color: 'var(--warning-color)', border: '1px solid rgba(245, 158, 11, 0.4)' }}\n            >\n              <Show when={dryRunning() || props.loading} fallback=\"Dry run\">\n                <div class=\"spinner\" style={{ width: '16px', height: '16px' }} />\n                Dry running...\n              </Show>\n            </button>\n          </Show>\n          <button\n            onClick={handleSave}\n            disabled={saving() || props.loading || editedYaml() === props.yaml}\n            class=\"px-4 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n            style={{ background: 'var(--accent-primary)', color: 'white' }}\n          >\n            <Show when={saving() || props.loading} fallback=\"Save\">\n              <div class=\"spinner\" style={{ width: '16px', height: '16px' }} />\n              Saving...\n            </Show>\n          </button>\n        </div>\n      </div>\n\n      {/* Editor */}\n      <textarea\n        value={editedYaml()}\n        onInput={(e) => setEditedYaml(e.currentTarget.value)}\n        class=\"flex-1 w-full p-4 rounded-lg font-mono text-sm leading-relaxed resize-none focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)]\"\n        style={{\n          background: 'var(--bg-tertiary)',\n          color: 'var(--text-primary)',\n          border: '1px solid var(--border-color)',\n          fontFamily: 'ui-monospace, SFMono-Regular, \"SF Mono\", Menlo, Consolas, \"Liberation Mono\", monospace',\n        }}\n        spellcheck={false}\n      />\n    </div>\n  );\n};\n\nexport default YAMLEditor;\n\n"],"names":["YAMLEditor","props","editedYaml","setEditedYaml","createSignal","yaml","saving","setSaving","dryRunning","setDryRunning","error","setError","handleSave","onSave","err","Error","message","handleDryRun","onDryRun","handleCancel","onCancel","_el$","_tmpl$4","_el$2","firstChild","_el$3","_el$5","nextSibling","_el$6","_el$9","_el$1","_$insert","_$createComponent","Show","when","children","_el$4","_tmpl$","$$click","_el$7","_tmpl$3","loading","fallback","_tmpl$2","_$effect","disabled","$$input","e","currentTarget","value","_$setAttribute","_p$","_v$","_v$2","t","undefined","_$delegateEvents"],"mappings":"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"}