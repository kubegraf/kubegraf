(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(l){if(l.ep)return;l.ep=!0;const i=r(l);fetch(l.href,i)}})();const fa=!1,pa=(e,t)=>e===t,cl=Symbol("solid-proxy"),ga=typeof Proxy=="function",va=Symbol("solid-track"),Mn={equals:pa};let Ks=ri;const Jt=1,An=2,Qs={owned:null,cleanups:null,context:null,owner:null},Qn={};var Xe=null;let Zn=null,ma=null,We=null,lt=null,Gt=null,jn=0;function Fr(e,t){const r=We,n=Xe,l=e.length===0,i=t===void 0?n:t,s=l?Qs:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=l?e:()=>e(()=>ht(()=>Or(s)));Xe=s,We=null;try{return Zt(a,!0)}finally{We=r,Xe=n}}function F(e,t){t=t?Object.assign({},Mn,t):Mn;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=l=>(typeof l=="function"&&(l=l(r.value)),ti(r,l));return[ei.bind(r),n]}function xa(e,t,r){const n=Vn(e,t,!0,Jt);$r(n)}function te(e,t,r){const n=Vn(e,t,!1,Jt);$r(n)}function Wt(e,t,r){Ks=Sa;const n=Vn(e,t,!1,Jt);(!r||!r.render)&&(n.user=!0),Gt?Gt.push(n):$r(n)}function Pe(e,t,r){r=r?Object.assign({},Mn,r):Mn;const n=Vn(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,$r(n),ei.bind(n)}function ba(e){return e&&typeof e=="object"&&"then"in e}function De(e,t,r){let n,l,i;typeof t=="function"?(n=e,l=t,i={}):(n=!0,l=e,i=t||{});let s=null,a=Qn,c=!1,u="initialValue"in i,d=typeof n=="function"&&Pe(n);const g=new Set,[h,f]=(i.storage||F)(i.initialValue),[L,S]=F(void 0),[$,x]=F(void 0,{equals:!1}),[M,D]=F(u?"ready":"unresolved");function _(R,U,C,b){return s===R&&(s=null,b!==void 0&&(u=!0),(R===a||U===a)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(b,{value:U})),a=Qn,T(U,C)),U}function T(R,U){Zt(()=>{U===void 0&&f(()=>R),D(U!==void 0?"errored":u?"ready":"unresolved"),S(U);for(const C of g.keys())C.decrement();g.clear()},!1)}function X(){const R=wa,U=h(),C=L();if(C!==void 0&&!s)throw C;return We&&We.user,U}function V(R=!0){if(R!==!1&&c)return;c=!1;const U=d?d():n;if(U==null||U===!1){_(s,ht(h));return}let C;const b=a!==Qn?a:ht(()=>{try{return l(U,{value:h(),refetching:R})}catch(k){C=k}});if(C!==void 0){_(s,void 0,bn(C),U);return}else if(!ba(b))return _(s,b,void 0,U),b;return s=b,"v"in b?(b.s===1?_(s,b.v,void 0,U):_(s,void 0,bn(b.v),U),b):(c=!0,queueMicrotask(()=>c=!1),Zt(()=>{D(u?"refreshing":"pending"),x()},!1),b.then(k=>_(b,k,void 0,U),k=>_(b,void 0,bn(k),U)))}Object.defineProperties(X,{state:{get:()=>M()},error:{get:()=>L()},loading:{get(){const R=M();return R==="pending"||R==="refreshing"}},latest:{get(){if(!u)return X();const R=L();if(R&&!s)throw R;return h()}}});let P=Xe;return d?xa(()=>(P=Xe,V(!1))):V(!1),[X,{refetch:R=>Zs(P,()=>V(R)),mutate:f}]}function ht(e){if(We===null)return e();const t=We;We=null;try{return e()}finally{We=t}}function ya(e,t,r){const n=Array.isArray(e);let l;return i=>{let s;if(n){s=Array(e.length);for(let c=0;c<e.length;c++)s[c]=e[c]()}else s=e();const a=ht(()=>t(s,l,i));return l=s,a}}function On(e){Wt(()=>ht(e))}function Qt(e){return Xe===null||(Xe.cleanups===null?Xe.cleanups=[e]:Xe.cleanups.push(e)),e}function $a(){return Xe}function Zs(e,t){const r=Xe,n=We;Xe=e,We=null;try{return Zt(t,!0)}catch(l){kl(l)}finally{Xe=r,We=n}}const[nm,lm]=F(!1);function _a(e){const t=Pe(e),r=Pe(()=>dl(t()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}let wa;function ei(){if(this.sources&&this.state)if(this.state===Jt)$r(this);else{const e=lt;lt=null,Zt(()=>Ln(this),!1),lt=e}if(We){const e=this.observers?this.observers.length:0;We.sources?(We.sources.push(this),We.sourceSlots.push(e)):(We.sources=[this],We.sourceSlots=[e]),this.observers?(this.observers.push(We),this.observerSlots.push(We.sources.length-1)):(this.observers=[We],this.observerSlots=[We.sources.length-1])}return this.value}function ti(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&Zt(()=>{for(let l=0;l<e.observers.length;l+=1){const i=e.observers[l],s=Zn&&Zn.running;s&&Zn.disposed.has(i),(s?!i.tState:!i.state)&&(i.pure?lt.push(i):Gt.push(i),i.observers&&ni(i)),s||(i.state=Jt)}if(lt.length>1e6)throw lt=[],new Error},!1)),t}function $r(e){if(!e.fn)return;Or(e);const t=jn;ka(e,e.value,t)}function ka(e,t,r){let n;const l=Xe,i=We;We=Xe=e;try{n=e.fn(t)}catch(s){return e.pure&&(e.state=Jt,e.owned&&e.owned.forEach(Or),e.owned=null),e.updatedAt=r+1,kl(s)}finally{We=i,Xe=l}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?ti(e,n):e.value=n,e.updatedAt=r)}function Vn(e,t,r,n=Jt,l){const i={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:Xe,context:Xe?Xe.context:null,pure:r};return Xe===null||Xe!==Qs&&(Xe.owned?Xe.owned.push(i):Xe.owned=[i]),i}function zn(e){if(e.state===0)return;if(e.state===An)return Ln(e);if(e.suspense&&ht(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<jn);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===Jt)$r(e);else if(e.state===An){const n=lt;lt=null,Zt(()=>Ln(e,t[0]),!1),lt=n}}function Zt(e,t){if(lt)return e();let r=!1;t||(lt=[]),Gt?r=!0:Gt=[],jn++;try{const n=e();return Ca(r),n}catch(n){r||(Gt=null),lt=null,kl(n)}}function Ca(e){if(lt&&(ri(lt),lt=null),e)return;const t=Gt;Gt=null,t.length&&Zt(()=>Ks(t),!1)}function ri(e){for(let t=0;t<e.length;t++)zn(e[t])}function Sa(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:zn(n)}for(t=0;t<r;t++)zn(e[t])}function Ln(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const l=n.state;l===Jt?n!==t&&(!n.updatedAt||n.updatedAt<jn)&&zn(n):l===An&&Ln(n,t)}}}function ni(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=An,r.pure?lt.push(r):Gt.push(r),r.observers&&ni(r))}}function Or(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),l=r.observers;if(l&&l.length){const i=l.pop(),s=r.observerSlots.pop();n<l.length&&(i.sourceSlots[s]=n,l[n]=i,r.observerSlots[n]=s)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Or(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Or(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function bn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function kl(e,t=Xe){throw bn(e)}function dl(e){if(typeof e=="function"&&!e.length)return dl(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=dl(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}const Ma=Symbol("fallback");function ts(e){for(let t=0;t<e.length;t++)e[t]()}function Aa(e,t,r={}){let n=[],l=[],i=[],s=0,a=t.length>1?[]:null;return Qt(()=>ts(i)),()=>{let c=e()||[],u=c.length,d,g;return c[va],ht(()=>{let f,L,S,$,x,M,D,_,T;if(u===0)s!==0&&(ts(i),i=[],n=[],l=[],s=0,a&&(a=[])),r.fallback&&(n=[Ma],l[0]=Fr(X=>(i[0]=X,r.fallback())),s=1);else if(s===0){for(l=new Array(u),g=0;g<u;g++)n[g]=c[g],l[g]=Fr(h);s=u}else{for(S=new Array(u),$=new Array(u),a&&(x=new Array(u)),M=0,D=Math.min(s,u);M<D&&n[M]===c[M];M++);for(D=s-1,_=u-1;D>=M&&_>=M&&n[D]===c[_];D--,_--)S[_]=l[D],$[_]=i[D],a&&(x[_]=a[D]);for(f=new Map,L=new Array(_+1),g=_;g>=M;g--)T=c[g],d=f.get(T),L[g]=d===void 0?-1:d,f.set(T,g);for(d=M;d<=D;d++)T=n[d],g=f.get(T),g!==void 0&&g!==-1?(S[g]=l[d],$[g]=i[d],a&&(x[g]=a[d]),g=L[g],f.set(T,g)):i[d]();for(g=M;g<u;g++)g in S?(l[g]=S[g],i[g]=$[g],a&&(a[g]=x[g],a[g](g))):l[g]=Fr(h);l=l.slice(0,s=u),n=c.slice(0)}return l});function h(f){if(i[g]=f,a){const[L,S]=F(g);return a[g]=S,t(c[g],L)}return t(c[g])}}}function p(e,t){return ht(()=>e(t||{}))}function cn(){return!0}const rs={get(e,t,r){return t===cl?r:e.get(t)},has(e,t){return t===cl?!0:e.has(t)},set:cn,deleteProperty:cn,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:cn,deleteProperty:cn}},ownKeys(e){return e.keys()}};function za(e,...t){const r=t.length;if(ga&&cl in e){const l=r>1?t.flat():t[0],i=t.map(s=>new Proxy({get(a){return s.includes(a)?e[a]:void 0},has(a){return s.includes(a)&&a in e},keys(){return s.filter(a=>a in e)}},rs));return i.push(new Proxy({get(s){return l.includes(s)?void 0:e[s]},has(s){return l.includes(s)?!1:s in e},keys(){return Object.keys(e).filter(s=>!l.includes(s))}},rs)),i}const n=[];for(let l=0;l<=r;l++)n[l]={};for(const l of Object.getOwnPropertyNames(e)){let i=r;for(let c=0;c<t.length;c++)if(t[c].includes(l)){i=c;break}const s=Object.getOwnPropertyDescriptor(e,l);!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable?n[i][l]=s.value:Object.defineProperty(n[i],l,s)}return n}const li=e=>`Stale read from <${e}>.`;function Ee(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Pe(Aa(()=>e.each,e.children,t||void 0))}function le(e){const t=e.keyed,r=Pe(()=>e.when,void 0,void 0),n=t?r:Pe(r,void 0,{equals:(l,i)=>!l==!i});return Pe(()=>{const l=n();if(l){const i=e.children;return typeof i=="function"&&i.length>0?ht(()=>i(t?l:()=>{if(!ht(n))throw li("Show");return r()})):i}return e.fallback},void 0,void 0)}function ns(e){const t=_a(()=>e.children),r=Pe(()=>{const n=t(),l=Array.isArray(n)?n:[n];let i=()=>{};for(let s=0;s<l.length;s++){const a=s,c=l[s],u=i,d=Pe(()=>u()?void 0:c.when,void 0,void 0),g=c.keyed?d:Pe(d,void 0,{equals:(h,f)=>!h==!f});i=()=>u()||(g()?[a,d,c]:void 0)}return i});return Pe(()=>{const n=r()();if(!n)return e.fallback;const[l,i,s]=n,a=s.children;return typeof a=="function"&&a.length>0?ht(()=>a(s.keyed?i():()=>{if(ht(r)()?.[0]!==l)throw li("Match");return i()})):a},void 0,void 0)}function gr(e){return e}const La=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],Pa=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...La]),Ta=new Set(["innerHTML","textContent","innerText","children"]),Na=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Da=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function Ra(e,t){const r=Da[e];return typeof r=="object"?r[t]?r.$:void 0:r}const Ia=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ea=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Fa={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Re=e=>Pe(()=>e());function Ha(e,t,r){let n=r.length,l=t.length,i=n,s=0,a=0,c=t[l-1].nextSibling,u=null;for(;s<l||a<i;){if(t[s]===r[a]){s++,a++;continue}for(;t[l-1]===r[i-1];)l--,i--;if(l===s){const d=i<n?a?r[a-1].nextSibling:r[i-a]:c;for(;a<i;)e.insertBefore(r[a++],d)}else if(i===a)for(;s<l;)(!u||!u.has(t[s]))&&t[s].remove(),s++;else if(t[s]===r[i-1]&&r[a]===t[l-1]){const d=t[--l].nextSibling;e.insertBefore(r[a++],t[s++].nextSibling),e.insertBefore(r[--i],d),t[l]=r[i]}else{if(!u){u=new Map;let g=a;for(;g<i;)u.set(r[g],g++)}const d=u.get(t[s]);if(d!=null)if(a<d&&d<i){let g=s,h=1,f;for(;++g<l&&g<i&&!((f=u.get(t[g]))==null||f!==d+h);)h++;if(h>d-a){const L=t[s];for(;a<d;)e.insertBefore(r[a++],L)}else e.replaceChild(r[a++],t[s++])}else s++;else t[s++].remove()}}}const ls="_$DX_DELEGATE";function Ba(e,t,r,n={}){let l;return Fr(i=>{l=i,t===document?e():o(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{l(),t.textContent=""}}function m(e,t,r,n){let l;const i=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},s=()=>(l||(l=i())).cloneNode(!0);return s.cloneNode=s,s}function qe(e,t=window.document){const r=t[ls]||(t[ls]=new Set);for(let n=0,l=e.length;n<l;n++){const i=e[n];r.has(i)||(r.add(i),t.addEventListener(i,Ja))}}function Ze(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}function ja(e,t,r,n){n==null?e.removeAttributeNS(t,r):e.setAttributeNS(t,r,n)}function Oa(e,t,r){r?e.setAttribute(t,""):e.removeAttribute(t)}function Ie(e,t){t==null?e.removeAttribute("class"):e.className=t}function cr(e,t,r,n){if(n)Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r;else if(Array.isArray(r)){const l=r[0];e.addEventListener(t,r[0]=i=>l.call(e,r[1],i))}else e.addEventListener(t,r,typeof r!="function"&&r)}function Va(e,t,r={}){const n=Object.keys(t||{}),l=Object.keys(r);let i,s;for(i=0,s=l.length;i<s;i++){const a=l[i];!a||a==="undefined"||t[a]||(ss(e,a,!1),delete r[a])}for(i=0,s=n.length;i<s;i++){const a=n[i],c=!!t[a];!a||a==="undefined"||r[a]===c||!c||(ss(e,a,!0),r[a]=c)}return r}function Ua(e,t,r){if(!t)return r?Ze(e,"style"):t;const n=e.style;if(typeof t=="string")return n.cssText=t;typeof r=="string"&&(n.cssText=r=void 0),r||(r={}),t||(t={});let l,i;for(i in r)t[i]==null&&n.removeProperty(i),delete r[i];for(i in t)l=t[i],l!==r[i]&&(n.setProperty(i,l),r[i]=l);return r}function ke(e,t,r){r!=null?e.style.setProperty(t,r):e.style.removeProperty(t)}function Ya(e,t={},r,n){const l={};return te(()=>l.children=Vr(e,t.children,l.children)),te(()=>typeof t.ref=="function"&&At(t.ref,e)),te(()=>Ga(e,t,r,!0,l,!0)),l}function At(e,t,r){return ht(()=>e(t,r))}function o(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return Vr(e,t,n,r);te(l=>Vr(e,t(),l,r),n)}function Ga(e,t,r,n,l={},i=!1){t||(t={});for(const s in l)if(!(s in t)){if(s==="children")continue;l[s]=is(e,s,null,l[s],r,i,t)}for(const s in t){if(s==="children")continue;const a=t[s];l[s]=is(e,s,a,l[s],r,i,t)}}function qa(e){return e.toLowerCase().replace(/-([a-z])/g,(t,r)=>r.toUpperCase())}function ss(e,t,r){const n=t.trim().split(/\s+/);for(let l=0,i=n.length;l<i;l++)e.classList.toggle(n[l],r)}function is(e,t,r,n,l,i,s){let a,c,u,d,g;if(t==="style")return Ua(e,r,n);if(t==="classList")return Va(e,r,n);if(r===n)return n;if(t==="ref")i||r(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);n&&e.removeEventListener(h,n,typeof n!="function"&&n),r&&e.addEventListener(h,r,typeof r!="function"&&r)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);n&&e.removeEventListener(h,n,!0),r&&e.addEventListener(h,r,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),f=Ia.has(h);if(!f&&n){const L=Array.isArray(n)?n[0]:n;e.removeEventListener(h,L)}(f||r)&&(cr(e,h,r,f),f&&qe([h]))}else if(t.slice(0,5)==="attr:")Ze(e,t.slice(5),r);else if(t.slice(0,5)==="bool:")Oa(e,t.slice(5),r);else if((g=t.slice(0,5)==="prop:")||(u=Ta.has(t))||!l&&((d=Ra(t,e.tagName))||(c=Pa.has(t)))||(a=e.nodeName.includes("-")||"is"in s))g&&(t=t.slice(5),c=!0),t==="class"||t==="className"?Ie(e,r):a&&!c&&!u?e[qa(t)]=r:e[d||t]=r;else{const h=l&&t.indexOf(":")>-1&&Fa[t.split(":")[0]];h?ja(e,h,t,r):Ze(e,Na[t]||t,r)}return r}function Ja(e){let t=e.target;const r=`$$${e.type}`,n=e.target,l=e.currentTarget,i=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),s=()=>{const c=t[r];if(c&&!t.disabled){const u=t[`${r}Data`];if(u!==void 0?c.call(t,u,e):c.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},a=()=>{for(;s()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const c=e.composedPath();i(c[0]);for(let u=0;u<c.length-2&&(t=c[u],!!s());u++){if(t._$host){t=t._$host,a();break}if(t.parentNode===l)break}}else a();i(n)}function Vr(e,t,r,n,l){for(;typeof r=="function";)r=r();if(t===r)return r;const i=typeof t,s=n!==void 0;if(e=s&&r[0]&&r[0].parentNode||e,i==="string"||i==="number"){if(i==="number"&&(t=t.toString(),t===r))return r;if(s){let a=r[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),r=vr(e,r,n,a)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||i==="boolean")r=vr(e,r,n);else{if(i==="function")return te(()=>{let a=t();for(;typeof a=="function";)a=a();r=Vr(e,a,r,n)}),()=>r;if(Array.isArray(t)){const a=[],c=r&&Array.isArray(r);if(ul(a,t,r,l))return te(()=>r=Vr(e,a,r,n,!0)),()=>r;if(a.length===0){if(r=vr(e,r,n),s)return r}else c?r.length===0?as(e,a,n):Ha(e,r,a):(r&&vr(e),as(e,a));r=a}else if(t.nodeType){if(Array.isArray(r)){if(s)return r=vr(e,r,n,t);vr(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function ul(e,t,r,n){let l=!1;for(let i=0,s=t.length;i<s;i++){let a=t[i],c=r&&r[e.length],u;if(!(a==null||a===!0||a===!1))if((u=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))l=ul(e,a,c)||l;else if(u==="function")if(n){for(;typeof a=="function";)a=a();l=ul(e,Array.isArray(a)?a:[a],Array.isArray(c)?c:[c])||l}else e.push(a),l=!0;else{const d=String(a);c&&c.nodeType===3&&c.data===d?e.push(c):e.push(document.createTextNode(d))}}return l}function as(e,t,r=null){for(let n=0,l=t.length;n<l;n++)e.insertBefore(t[n],r)}function vr(e,t,r,n){if(r===void 0)return e.textContent="";const l=n||document.createTextNode("");if(t.length){let i=!1;for(let s=t.length-1;s>=0;s--){const a=t[s];if(l!==a){const c=a.parentNode===e;!i&&!s?c?e.replaceChild(l,a):e.insertBefore(l,r):c&&a.remove()}else i=!0}}else e.insertBefore(l,r);return[l]}const Wa="http://www.w3.org/2000/svg";function si(e,t=!1,r=void 0){return t?document.createElementNS(Wa,e):document.createElement(e,{is:r})}function Un(e){const{useShadow:t}=e,r=document.createTextNode(""),n=()=>e.mount||document.body,l=$a();let i;return Wt(()=>{i||(i=Zs(l,()=>Pe(()=>e.children)));const s=n();if(s instanceof HTMLHeadElement){const[a,c]=F(!1),u=()=>c(!0);Fr(d=>o(s,()=>a()?d():i(),null)),Qt(u)}else{const a=si(e.isSVG?"g":"div",e.isSVG),c=t&&a.attachShadow?a.attachShadow({mode:"open"}):a;Object.defineProperty(a,"_$host",{get(){return r.parentNode},configurable:!0}),o(c,i),s.appendChild(a),e.ref&&e.ref(a),Qt(()=>s.removeChild(a))}},void 0,{render:!0}),r}function Xa(e,t){const r=Pe(e);return Pe(()=>{const n=r();switch(typeof n){case"function":return ht(()=>n(t));case"string":const l=Ea.has(n),i=si(n,l,ht(()=>t.is));return Ya(i,t,l),i}})}function Ka(e){const[,t]=za(e,["component"]);return Xa(()=>e.component,t)}const[hl,St]=F("dashboard"),[vt,Qa]=F(!1),[ii,ai]=F(!1),[sm,im]=F(null),[am,om]=F(!1),[oi,Za]=F(""),[eo,cm]=F([]);function to(){Qa(!vt())}function ro(){ai(!ii())}var no=m('<span class="font-bold text-xl gradient-text">KubeGraf'),lo=m('<div class="flex items-center gap-2 text-xs"style=color:var(--text-muted)><span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span><span>KubeGraf v1.0.0 - Solid.js UI'),so=m('<aside><div class="h-16 flex items-center justify-between px-4 border-b border-white/10"><button class="flex items-center gap-3 hover:opacity-80 transition-opacity"title="Go to Dashboard"><svg viewBox="0 0 100 100"width=40 height=40 xmlns=http://www.w3.org/2000/svg><defs><linearGradient id=logoGrad x1=0% y1=0% x2=100% y2=100%><stop offset=0% style=stop-color:#06b6d4></stop><stop offset=50% style=stop-color:#3b82f6></stop><stop offset=100% style=stop-color:#8b5cf6></stop></linearGradient><filter id=glow><feGaussianBlur stdDeviation=2 result=coloredBlur></feGaussianBlur><feMerge><feMergeNode in=coloredBlur></feMergeNode><feMergeNode in=SourceGraphic></feMergeNode></feMerge></filter></defs><circle cx=50 cy=50 r=46 fill="rgba(6, 182, 212, 0.1)"stroke=url(#logoGrad) stroke-width=2></circle><g filter=url(#glow)><circle cx=50 cy=50 r=12 fill=url(#logoGrad)></circle><line x1=50 y1=38 x2=50 y2=18 stroke=url(#logoGrad) stroke-width=4 stroke-linecap=round></line><line x1=61 y1=41 x2=76 y2=26 stroke=url(#logoGrad) stroke-width=4 stroke-linecap=round></line><line x1=62 y1=54 x2=80 y2=60 stroke=url(#logoGrad) stroke-width=4 stroke-linecap=round></line><line x1=56 y1=61 x2=64 y2=80 stroke=url(#logoGrad) stroke-width=4 stroke-linecap=round></line><line x1=44 y1=61 x2=36 y2=80 stroke=url(#logoGrad) stroke-width=4 stroke-linecap=round></line><line x1=38 y1=54 x2=20 y2=60 stroke=url(#logoGrad) stroke-width=4 stroke-linecap=round></line><line x1=39 y1=41 x2=24 y2=26 stroke=url(#logoGrad) stroke-width=4 stroke-linecap=round></line><circle cx=50 cy=16 r=5 fill=#06b6d4></circle><circle cx=78 cy=24 r=5 fill=#22d3ee></circle><circle cx=82 cy=60 r=5 fill=#3b82f6></circle><circle cx=66 cy=82 r=5 fill=#6366f1></circle><circle cx=34 cy=82 r=5 fill=#8b5cf6></circle><circle cx=18 cy=60 r=5 fill=#a855f7></circle><circle cx=22 cy=24 r=5 fill=#06b6d4></circle></g></svg></button><button><svg fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M11 19l-7-7 7-7m8 14l-7-7 7-7"></path></svg></button></div><nav class="p-2 space-y-4 overflow-y-auto"style="height:calc(100% - 4rem - 3rem)"></nav><div class="absolute bottom-0 left-0 right-0 p-3 border-t"style=border-color:var(--border-color)>'),io=m('<div class="px-3 py-2 text-xs font-semibold uppercase tracking-wider"style=color:var(--text-muted)>'),ao=m("<div><div class=space-y-0.5>"),oo=m('<span class="text-sm font-medium">'),co=m('<div class="fixed px-3 py-1.5 rounded-md text-sm font-medium whitespace-nowrap z-[9999]"style="transform:translateY(-50%);background:#1e293b;color:#fff;border:1px solid #334155;box-shadow:0 4px 12px rgba(0,0,0,0.4)">'),uo=m('<button><svg class="w-5 h-5 flex-shrink-0"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2>');const ho=[{title:"Overview",items:[{id:"dashboard",label:"Dashboard",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}]},{title:"Workloads",items:[{id:"pods",label:"Pods",icon:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},{id:"deployments",label:"Deployments",icon:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"},{id:"statefulsets",label:"StatefulSets",icon:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"},{id:"daemonsets",label:"DaemonSets",icon:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"},{id:"cronjobs",label:"CronJobs",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},{id:"jobs",label:"Jobs",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"}]},{title:"Network",items:[{id:"services",label:"Services",icon:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"},{id:"ingresses",label:"Ingresses",icon:"M13 10V3L4 14h7v7l9-11h-7z"}]},{title:"Config",items:[{id:"configmaps",label:"ConfigMaps",icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},{id:"certificates",label:"Certificates",icon:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"}]},{title:"Cluster",items:[{id:"nodes",label:"Nodes",icon:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"},{id:"resourcemap",label:"Resource Map",icon:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"}]},{title:"Tools",items:[{id:"security",label:"Security",icon:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},{id:"cost",label:"Cost Analysis",icon:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},{id:"drift",label:"Drift Detection",icon:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"},{id:"plugins",label:"Plugins",icon:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"}]}],fo=()=>(()=>{var e=so(),t=e.firstChild,r=t.firstChild;r.firstChild;var n=r.nextSibling,l=n.firstChild,i=t.nextSibling,s=i.nextSibling;return r.$$click=()=>St("dashboard"),o(r,p(le,{get when(){return!vt()},get children(){return no()}}),null),cr(n,"click",to,!0),o(i,p(Ee,{each:ho,children:a=>(()=>{var c=ao(),u=c.firstChild;return o(c,p(le,{get when(){return!vt()},get children(){var d=io();return o(d,()=>a.title),d}}),u),o(u,p(Ee,{get each(){return a.items},children:d=>{const[g,h]=F(!1),[f,L]=F({top:0,left:0});return(()=>{var S=uo(),$=S.firstChild,x=$.firstChild;return S.addEventListener("mouseleave",()=>h(!1)),S.addEventListener("mouseenter",M=>{if(vt()){const D=M.currentTarget.getBoundingClientRect();L({top:D.top+D.height/2,left:D.right+8}),h(!0)}}),S.$$click=()=>St(d.id),o(S,p(le,{get when(){return!vt()},get children(){var M=oo();return o(M,()=>d.label),M}}),null),o(S,p(le,{get when(){return Re(()=>!!vt())()&&g()},get children(){return p(Un,{get children(){var M=co();return o(M,()=>d.label),te(D=>{var _=`${f().top}px`,T=`${f().left}px`;return _!==D.e&&ke(M,"top",D.e=_),T!==D.t&&ke(M,"left",D.t=T),D},{e:void 0,t:void 0}),M}})}}),null),te(M=>{var D=`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-all ${hl()===d.id?"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border border-cyan-500/30":"hover:bg-white/5"}`,_=hl()===d.id?"var(--accent-primary)":"var(--text-secondary)",T=d.icon;return D!==M.e&&Ie(S,M.e=D),_!==M.t&&ke(S,"color",M.t=_),T!==M.a&&Ze(x,"d",M.a=T),M},{e:void 0,t:void 0,a:void 0}),S})()}})),c})()})),o(s,p(le,{get when(){return!vt()},get children(){return lo()}})),te(a=>{var c=`fixed left-0 top-0 h-full sidebar-glass transition-all duration-300 z-40 ${vt()?"w-16":"w-52"}`,u=`p-1.5 rounded-lg transition-colors ${vt()?"bg-cyan-500/20 hover:bg-cyan-500/30 border border-cyan-500/40":"hover:bg-white/10"}`,d=vt()?"Expand":"Collapse",g=`w-5 h-5 transition-transform ${vt()?"rotate-180":""}`,h=vt()?"#06b6d4":"var(--text-muted)";return c!==a.e&&Ie(e,a.e=c),u!==a.t&&Ie(n,a.t=u),d!==a.a&&Ze(n,"title",a.a=d),g!==a.o&&Ze(l,"class",a.o=g),h!==a.i&&ke(l,"color",a.i=h),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),e})();qe(["click"]);const[Ue,po]=F("_all"),[el,ci]=F(["default"]),[Pr,di]=F([]),[os,ui]=F(""),[cs,go]=F({connected:!1,context:"",server:"",namespace:"default",nodeCount:0,podCount:0,cpuUsage:0,memoryUsage:0});async function vo(){const e=await fetch("/api/namespaces");if(!e.ok)throw new Error("Failed to fetch namespaces");return(await e.json()).namespaces||[]}async function mo(e){const t=e==="_all"?"/api/pods?all=true":`/api/pods?namespace=${e}`,r=await fetch(t);if(!r.ok)throw new Error("Failed to fetch pods");const n=await r.json();return Array.isArray(n)?n:n.pods||[]}async function xo(e){const t=e==="_all"?"/api/deployments?all=true":`/api/deployments?namespace=${e}`,r=await fetch(t);if(!r.ok)throw new Error("Failed to fetch deployments");const n=await r.json();return Array.isArray(n)?n:n.deployments||[]}async function bo(e){const t=e==="_all"?"/api/services?all=true":`/api/services?namespace=${e}`,r=await fetch(t);if(!r.ok)throw new Error("Failed to fetch services");const n=await r.json();return Array.isArray(n)?n:n.services||[]}async function yo(){const e=await fetch("/api/nodes");if(!e.ok)throw new Error("Failed to fetch nodes");const t=await e.json();return Array.isArray(t)?t:t.nodes||[]}async function $o(){const e=await fetch("/api/status");if(!e.ok)throw new Error("Failed to fetch status");const t=await e.json();return{connected:t.connected||!1,context:t.cluster||t.context||"",server:t.server||"",namespace:t.namespace||"default",nodeCount:t.nodeCount||0,podCount:t.podCount||0,cpuUsage:t.cpuUsage||0,memoryUsage:t.memoryUsage||0}}async function hi(){const e=await fetch("/api/contexts");if(!e.ok)throw new Error("Failed to fetch contexts");return(await e.json()).contexts||[]}async function _o(e){if(!(await fetch("/api/contexts/switch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context:e})})).ok)throw new Error("Failed to switch context");ui(e),pi();const r=await hi();di(r);const n=await fetch("/api/namespaces");if(n.ok){const l=await n.json();ci(l.namespaces||[])}}const[Pn]=De(vo),[ds,{refetch:wo}]=De(Ue,mo),[dm,{refetch:ko}]=De(Ue,xo),[um,{refetch:Co}]=De(Ue,bo),[Hr,{refetch:fi}]=De(yo),[fl,{refetch:So}]=De($o),[pl,{refetch:hm}]=De(hi);Wt(()=>{const e=Pn();e&&ci(e)});Wt(()=>{const e=fl();console.log("Status resource loaded:",e),e&&(go(e),ui(e.context))});Wt(()=>{const e=pl();console.log("Contexts resource loaded:",e),e&&di(e)});Wt(()=>{fl.error&&console.error("Status error:",fl.error),Pn.error&&console.error("Namespaces error:",Pn.error),ds.error&&console.error("Pods error:",ds.error),Hr.error&&console.error("Nodes error:",Hr.error)});function pi(){wo(),ko(),Co(),fi(),So()}const Br={dark:{name:"dark",label:"Dark",icon:"moon",colors:{bgPrimary:"#0f172a",bgSecondary:"#1e293b",bgTertiary:"#334155",bgCard:"rgba(30, 41, 59, 0.8)",bgNavbar:"rgba(15, 23, 42, 0.95)",bgInput:"rgba(30, 41, 59, 0.8)",textPrimary:"#ffffff",textSecondary:"#94a3b8",textMuted:"#64748b",borderColor:"rgba(100, 116, 139, 0.3)",borderLight:"rgba(100, 116, 139, 0.5)",accentPrimary:"#06b6d4",accentSecondary:"#3b82f6",accentGradient:"linear-gradient(135deg, #06b6d4 0%, #3b82f6 50%, #8b5cf6 100%)",successColor:"#22c55e",warningColor:"#f59e0b",errorColor:"#ef4444"}},light:{name:"light",label:"Light",icon:"sun",colors:{bgPrimary:"#f8fafc",bgSecondary:"#e2e8f0",bgTertiary:"#cbd5e1",bgCard:"rgba(255, 255, 255, 0.95)",bgNavbar:"rgba(248, 250, 252, 0.95)",bgInput:"rgba(255, 255, 255, 0.9)",textPrimary:"#0f172a",textSecondary:"#475569",textMuted:"#64748b",borderColor:"rgba(148, 163, 184, 0.4)",borderLight:"rgba(148, 163, 184, 0.6)",accentPrimary:"#0891b2",accentSecondary:"#2563eb",accentGradient:"linear-gradient(135deg, #0891b2 0%, #2563eb 100%)",successColor:"#16a34a",warningColor:"#d97706",errorColor:"#dc2626"}},midnight:{name:"midnight",label:"Midnight",icon:"stars",colors:{bgPrimary:"#030712",bgSecondary:"#111827",bgTertiary:"#1f2937",bgCard:"rgba(17, 24, 39, 0.9)",bgNavbar:"rgba(3, 7, 18, 0.98)",bgInput:"rgba(17, 24, 39, 0.9)",textPrimary:"#f9fafb",textSecondary:"#9ca3af",textMuted:"#6b7280",borderColor:"rgba(75, 85, 99, 0.4)",borderLight:"rgba(75, 85, 99, 0.6)",accentPrimary:"#8b5cf6",accentSecondary:"#a855f7",accentGradient:"linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%)",successColor:"#10b981",warningColor:"#f59e0b",errorColor:"#f43f5e"}},cyberpunk:{name:"cyberpunk",label:"Cyberpunk",icon:"bolt",colors:{bgPrimary:"#0a0a0f",bgSecondary:"#12121a",bgTertiary:"#1a1a25",bgCard:"rgba(18, 18, 26, 0.95)",bgNavbar:"rgba(10, 10, 15, 0.98)",bgInput:"rgba(18, 18, 26, 0.9)",textPrimary:"#00ff9f",textSecondary:"#ff00ff",textMuted:"#00d4ff",borderColor:"rgba(0, 255, 159, 0.3)",borderLight:"rgba(255, 0, 255, 0.4)",accentPrimary:"#00ff9f",accentSecondary:"#ff00ff",accentGradient:"linear-gradient(135deg, #00ff9f 0%, #ff00ff 100%)",successColor:"#00ff9f",warningColor:"#ffff00",errorColor:"#ff0055"}},ocean:{name:"ocean",label:"Ocean",icon:"wave",colors:{bgPrimary:"#0c1929",bgSecondary:"#132f4c",bgTertiary:"#1a4971",bgCard:"rgba(19, 47, 76, 0.9)",bgNavbar:"rgba(12, 25, 41, 0.98)",bgInput:"rgba(19, 47, 76, 0.9)",textPrimary:"#ffffff",textSecondary:"#b2bac2",textMuted:"#8b949e",borderColor:"rgba(48, 98, 139, 0.5)",borderLight:"rgba(48, 98, 139, 0.7)",accentPrimary:"#29b6f6",accentSecondary:"#4fc3f7",accentGradient:"linear-gradient(135deg, #29b6f6 0%, #4fc3f7 100%)",successColor:"#66bb6a",warningColor:"#ffa726",errorColor:"#ef5350"}}};function Mo(){if(typeof window<"u"){const e=localStorage.getItem("kubegraf-theme");if(e&&Br[e])return e}return"dark"}const[Rr,Ao]=F(Mo());function gi(e){const t=Br[e],r=document.documentElement;Object.entries(t.colors).forEach(([n,l])=>{const i=n.replace(/([A-Z])/g,"-$1").toLowerCase();r.style.setProperty(`--${i}`,l)}),localStorage.setItem("kubegraf-theme",e)}function zo(e){Ao(e),gi(e)}typeof window<"u"&&gi(Rr());var Lo=m('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="w-5 h-5"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z">'),Po=m('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="w-5 h-5"><circle cx=12 cy=12 r=5></circle><line x1=12 y1=1 x2=12 y2=3></line><line x1=12 y1=21 x2=12 y2=23></line><line x1=4.22 y1=4.22 x2=5.64 y2=5.64></line><line x1=18.36 y1=18.36 x2=19.78 y2=19.78></line><line x1=1 y1=12 x2=3 y2=12></line><line x1=21 y1=12 x2=23 y2=12></line><line x1=4.22 y1=19.78 x2=5.64 y2=18.36></line><line x1=18.36 y1=5.64 x2=19.78 y2=4.22>'),To=m('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="w-5 h-5"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2">'),No=m('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="w-5 h-5"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2">'),Do=m('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="w-5 h-5"><path d="M2 12c2-2 4-4 6-4s4 2 6 4 4 4 6 4 4-2 6-4"></path><path d="M2 6c2-2 4-4 6-4s4 2 6 4 4 4 6 4 4-2 6-4"></path><path d="M2 18c2-2 4-4 6-4s4 2 6 4 4 4 6 4 4-2 6-4">'),Ro=m('<div class="fixed inset-0"style=z-index:99998>'),Io=m('<div class="fixed w-48 rounded-lg border border-[var(--border-color)] shadow-xl"style=background:var(--bg-secondary);z-index:99999>'),Eo=m('<div class=relative><button class="icon-btn border border-[var(--border-color)] hover:border-[var(--accent-primary)]">'),Fo=m("<button><span class=font-medium>"),Ho=m('<svg class="w-4 h-4 ml-auto"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>');const Bo=()=>{const[e,t]=F(!1),[r,n]=F({top:0,right:0});let l;const i={dark:Lo(),light:Po(),midnight:To(),cyberpunk:No(),ocean:Do()},s=()=>{if(!e()&&l){const a=l.getBoundingClientRect();n({top:a.bottom+8,right:window.innerWidth-a.right})}t(!e())};return(()=>{var a=Eo(),c=a.firstChild;c.$$click=s;var u=l;return typeof u=="function"?At(u,c):l=c,o(c,()=>i[Rr()]),o(a,p(Un,{get children(){return p(le,{get when(){return e()},get children(){return[(()=>{var d=Ro();return d.$$click=()=>t(!1),d})(),(()=>{var d=Io();return o(d,()=>Object.keys(Br).map(g=>(()=>{var h=Fo(),f=h.firstChild;return h.$$click=()=>{zo(g),t(!1)},o(h,()=>i[g],f),o(f,()=>Br[g].label),o(h,(()=>{var L=Re(()=>Rr()===g);return()=>L()&&Ho()})(),null),te(()=>Ie(h,`w-full flex items-center gap-3 px-4 py-3 transition-colors hover:bg-[var(--bg-tertiary)] ${Rr()===g?"text-[var(--accent-primary)]":"text-[var(--text-primary)]"} ${g==="dark"?"rounded-t-lg":""} ${g==="ocean"?"rounded-b-lg":""}`)),h})())),te(g=>{var h=`${r().top}px`,f=`${r().right}px`;return h!==g.e&&ke(d,"top",g.e=h),f!==g.t&&ke(d,"right",g.t=f),g},{e:void 0,t:void 0}),d})()]}})}}),null),te(()=>Ze(c,"title",`Theme: ${Br[Rr()].label}`)),a})()};qe(["click"]);const jo="/api";async function _e(e,t){const r=await fetch(`${jo}${e}`,{headers:{"Content-Type":"application/json",...t?.headers},...t});if(!r.ok){const n=await r.text();throw new Error(n||`API error: ${r.status}`)}return r.json()}const Me={getStatus:()=>_e("/status"),getMetrics:()=>_e("/metrics"),getNamespaces:async()=>(await _e("/namespaces")).namespaces||[],getPods:async e=>{const t=e&&e!=="_all"?`/pods?namespace=${e}`:"/pods?namespace=",r=await _e(t);return Array.isArray(r)?r:[]},getPodDetails:(e,t)=>_e(`/pod/details?name=${e}&namespace=${t}`),getPodYAML:(e,t)=>_e(`/pod/yaml?name=${e}&namespace=${t}`),getPodDescribe:(e,t)=>_e(`/pod/describe?name=${e}&namespace=${t}`),deletePod:(e,t)=>_e(`/pod/delete?name=${e}&namespace=${t}`,{method:"DELETE"}),restartPod:(e,t)=>_e(`/pod/restart?name=${e}&namespace=${t}`,{method:"POST"}),getPodMetrics:async e=>{const t=e&&e!=="_all"?`/pods/metrics?namespace=${e}`:"/pods/metrics?namespace=";return await _e(t)||{}},getDeployments:async e=>{const t=e&&e!=="_all"?`/deployments?namespace=${e}`:"/deployments?namespace=",r=await _e(t);return Array.isArray(r)?r:[]},getDeploymentDetails:(e,t)=>_e(`/deployment/details?name=${e}&namespace=${t}`),getDeploymentYAML:(e,t)=>_e(`/deployment/yaml?name=${e}&namespace=${t}`),getDeploymentDescribe:(e,t)=>_e(`/deployment/describe?name=${e}&namespace=${t}`),deleteDeployment:(e,t)=>_e(`/deployment/delete?name=${e}&namespace=${t}`,{method:"DELETE"}),restartDeployment:(e,t)=>_e(`/deployment/restart?name=${e}&namespace=${t}`,{method:"POST"}),scaleDeployment:(e,t,r)=>_e(`/deployment/scale?name=${e}&namespace=${t}&replicas=${r}`,{method:"POST"}),getStatefulSets:async e=>{const t=e&&e!=="_all"?`/statefulsets?namespace=${e}`:"/statefulsets?namespace=",r=await _e(t);return Array.isArray(r)?r:[]},getStatefulSetYAML:(e,t)=>_e(`/statefulset/yaml?name=${e}&namespace=${t}`),getStatefulSetDescribe:(e,t)=>_e(`/statefulset/describe?name=${e}&namespace=${t}`),restartStatefulSet:(e,t)=>_e(`/statefulset/restart?name=${e}&namespace=${t}`,{method:"POST"}),getDaemonSets:async e=>{const t=e&&e!=="_all"?`/daemonsets?namespace=${e}`:"/daemonsets?namespace=",r=await _e(t);return Array.isArray(r)?r:[]},getDaemonSetYAML:(e,t)=>_e(`/daemonset/yaml?name=${e}&namespace=${t}`),getDaemonSetDescribe:(e,t)=>_e(`/daemonset/describe?name=${e}&namespace=${t}`),getCronJobs:async e=>{const t=e&&e!=="_all"?`/cronjobs?namespace=${e}`:"/cronjobs?namespace=",r=await _e(t);return Array.isArray(r)?r:[]},getCronJobYAML:(e,t)=>_e(`/cronjob/yaml?name=${e}&namespace=${t}`),getJobs:async e=>{const t=e&&e!=="_all"?`/jobs?namespace=${e}`:"/jobs?namespace=",r=await _e(t);return Array.isArray(r)?r:[]},getJobYAML:(e,t)=>_e(`/job/yaml?name=${e}&namespace=${t}`),getServices:async e=>{const t=e&&e!=="_all"?`/services?namespace=${e}`:"/services?namespace=",r=await _e(t);return Array.isArray(r)?r:[]},getServiceYAML:(e,t)=>_e(`/service/yaml?name=${e}&namespace=${t}`),getServiceDescribe:(e,t)=>_e(`/service/describe?name=${e}&namespace=${t}`),getIngresses:async e=>{const t=e&&e!=="_all"?`/ingresses?namespace=${e}`:"/ingresses?namespace=",r=await _e(t);return Array.isArray(r)?r:[]},getIngressYAML:(e,t)=>_e(`/ingress/yaml?name=${e}&namespace=${t}`),getConfigMaps:async e=>{const t=e&&e!=="_all"?`/configmaps?namespace=${e}`:"/configmaps?namespace=",r=await _e(t);return Array.isArray(r)?r:[]},getConfigMapYAML:(e,t)=>_e(`/configmap/yaml?name=${e}&namespace=${t}`),getSecrets:async e=>{const t=e&&e!=="_all"?`/secrets?namespace=${e}`:"/secrets?namespace=",r=await _e(t);return Array.isArray(r)?r:[]},getCertificates:async e=>{const t=e&&e!=="_all"?`/certificates?namespace=${e}`:"/certificates?namespace=",r=await _e(t);return Array.isArray(r)?r:[]},getCertificateYAML:(e,t)=>_e(`/certificate/yaml?name=${e}&namespace=${t}`),getCertificateDescribe:(e,t)=>_e(`/certificate/describe?name=${e}&namespace=${t}`),deleteCertificate:(e,t)=>_e(`/certificate/delete?name=${e}&namespace=${t}`,{method:"DELETE"}),getNodes:async()=>{const e=await _e("/nodes");return Array.isArray(e)?e:[]},getNodeDetails:e=>_e(`/node/details?name=${e}`),getNodeYAML:e=>_e(`/node/yaml?name=${e}`),getNodeDescribe:e=>_e(`/node/describe?name=${e}`),getEvents:async()=>(await _e("/events")).events||[],getTopology:e=>{const t=e&&e!=="All Namespaces"?`/topology?namespace=${e}`:"/topology";return _e(t)},getResourceMap:()=>_e("/resourcemap"),getImpactAnalysis:(e,t,r)=>_e(`/impact?kind=${e}&name=${t}&namespace=${r}`),getSecurityAnalysis:()=>_e("/security"),startPortForward:(e,t,r,n,l)=>_e("/portforward/start",{method:"POST",body:JSON.stringify({type:e,name:t,namespace:r,localPort:n,remotePort:l})}),stopPortForward:e=>_e(`/portforward/stop?id=${e}`,{method:"POST"}),listPortForwards:()=>_e("/portforward/list"),getAIStatus:()=>_e("/ai/status"),queryAI:e=>_e("/ai/query",{method:"POST",body:JSON.stringify({query:e})}),analyzePod:(e,t)=>_e(`/ai/analyze/pod?name=${e}&namespace=${t}`),explainError:(e,t)=>_e("/ai/explain",{method:"POST",body:JSON.stringify({error:e,resourceType:t})}),runDiagnostics:(e,t)=>{const r=new URLSearchParams;e&&r.append("namespace",e),t&&r.append("category",t);const n=r.toString()?`?${r.toString()}`:"";return _e(`/diagnostics/run${n}`)},getDiagnosticsCategories:()=>_e("/diagnostics/categories"),getClusterCost:()=>_e("/cost/cluster"),getNamespaceCost:e=>_e(`/cost/namespace?namespace=${e}`),getPodCost:(e,t)=>_e(`/cost/pod?name=${e}&namespace=${t}`),getDeploymentCost:(e,t)=>_e(`/cost/deployment?name=${e}&namespace=${t}`),getIdleResources:(e,t,r)=>{const n=new URLSearchParams;e&&n.append("namespace",e),t&&n.append("cpuThreshold",t.toString()),r&&n.append("memThreshold",r.toString());const l=n.toString()?`?${n.toString()}`:"";return _e(`/cost/idle${l}`)},checkDrift:(e,t,r)=>{const n=new URLSearchParams({kind:e,name:t});return r&&n.append("namespace",r),_e(`/drift/check?${n.toString()}`)},getNamespaceDrift:e=>_e(`/drift/namespace?namespace=${e}`),getDriftSummary:e=>_e(`/drift/summary?namespace=${e}`),revertDrift:(e,t,r)=>_e("/drift/revert",{method:"POST",body:JSON.stringify({kind:e,name:t,namespace:r})}),getNetworkTopology:()=>_e("/network/topology"),getPodHeatmap:()=>_e("/heatmap/pods"),getNodeHeatmap:()=>_e("/heatmap/nodes"),getPluginsList:()=>_e("/plugins/list"),installPlugin:e=>_e("/plugins/install",{method:"POST",body:JSON.stringify({source:e})}),uninstallPlugin:e=>_e("/plugins/uninstall",{method:"POST",body:JSON.stringify({name:e})}),getHelmReleases:async e=>{const t=e?`/plugins/helm/releases?namespace=${e}`:"/plugins/helm/releases";return(await _e(t)).releases||[]},getHelmReleaseDetails:(e,t)=>_e(`/plugins/helm/release?name=${e}&namespace=${t}`),getHelmReleaseHistory:(e,t)=>_e(`/plugins/helm/history?name=${e}&namespace=${t}`),rollbackHelmRelease:(e,t,r)=>_e("/plugins/helm/rollback",{method:"POST",body:JSON.stringify({name:e,namespace:t,revision:r})}),getArgoCDApps:async()=>(await _e("/plugins/argocd/apps")).apps||[],getArgoCDAppDetails:(e,t)=>_e(`/plugins/argocd/app?name=${e}&namespace=${t}`),syncArgoCDApp:(e,t)=>_e("/plugins/argocd/sync",{method:"POST",body:JSON.stringify({name:e,namespace:t})}),refreshArgoCDApp:(e,t)=>_e("/plugins/argocd/refresh",{method:"POST",body:JSON.stringify({name:e,namespace:t})}),getFluxResources:async()=>(await _e("/plugins/flux/resources")).resources||[],getKustomizeResources:()=>_e("/plugins/kustomize/resources"),getCloudInfo:()=>_e("/cloud"),getContexts:()=>_e("/contexts"),getCurrentContext:()=>_e("/contexts/current"),switchContext:e=>_e("/contexts/switch",{method:"POST",body:JSON.stringify({context:e})})};var Oo=m('<svg viewBox="0 0 256 206"class="w-5 h-5"fill=none><path d="M170.252 56.819l22.253-22.253 1.483-9.37C153.437-11.677 88.976-7.496 52.42 33.92 42.267 45.423 34.734 59.764 30.717 74.573l7.97-1.123 44.505-7.34 3.436-3.513c19.797-21.742 53.27-24.667 76.128-5.632l7.496-.146z"fill=#EA4335></path><path d="M224.205 73.918a100.249 100.249 0 00-30.217-48.722l-31.232 31.232a55.515 55.515 0 0120.379 44.037v5.544c15.35 0 27.797 12.446 27.797 27.796 0 15.352-12.446 27.573-27.797 27.573h-55.671l-5.466 5.621v33.339l5.466 5.389h55.67c40.143.312 73.076-31.857 73.388-72 .178-23.106-10.736-44.898-29.84-59.653l-2.477.844z"fill=#4285F4></path><path d="M71.87 205.796h55.593V161.29H71.87a27.275 27.275 0 01-11.467-2.545l-7.97 2.468-22.331 22.253-1.949 7.65c12.758 9.603 28.39 14.758 44.484 14.68h-.767z"fill=#34A853></path><path d="M71.87 50.525C31.727 50.837-1.207 84.447.081 124.59c.72 22.632 11.389 43.821 28.925 57.476l32.25-32.25c-16.292-7.378-23.503-26.672-16.125-42.964a31.86 31.86 0 0116.125-16.125l-32.25-32.25A72.002 72.002 0 0071.87 50.525z"fill=#FBBC05>'),Vo=m('<svg viewBox="0 0 256 153"class="w-5 h-5"fill=none><path d="M72.392 55.438c0 3.137.34 5.68.933 7.545a45.373 45.373 0 002.712 6.103c.424.678.593 1.356.593 1.95 0 .847-.508 1.695-1.61 2.543l-5.34 3.56c-.763.509-1.526.763-2.205.763-.847 0-1.695-.424-2.543-1.187a26.224 26.224 0 01-3.051-3.984 65.48 65.48 0 01-2.628-5.001c-6.612 7.798-14.92 11.698-24.922 11.698-7.12 0-12.8-2.035-16.954-6.103-4.153-4.07-6.272-9.495-6.272-16.277 0-7.206 2.543-13.054 7.714-17.462 5.17-4.408 12.037-6.612 20.682-6.612 2.882 0 5.849.254 8.985.678 3.137.424 6.358 1.102 9.749 1.865V29.33c0-6.443-1.356-10.935-3.984-13.563-2.712-2.628-7.29-3.9-13.817-3.9-2.967 0-6.018.34-9.155 1.103-3.136.762-6.188 1.695-9.155 2.882-.763.34-1.441.593-1.95.763-.508.17-.932.254-1.271.254-1.102 0-1.61-.763-1.61-2.374v-4.153c0-1.272.17-2.205.593-2.713.424-.508 1.187-1.017 2.374-1.525 2.967-1.526 6.527-2.798 10.68-3.815C24.922.678 29.33.085 33.992.085c10.256 0 17.716 2.374 22.463 7.12 4.662 4.747 7.036 11.952 7.036 21.615v28.618h-.1z"fill=#252F3E></path><path d="M30.94 67.052c2.798 0 5.68-.509 8.731-1.526 3.052-1.017 5.765-2.882 8.054-5.425 1.356-1.61 2.374-3.39 2.882-5.51.509-2.12.848-4.661.848-7.629v-3.646a70.732 70.732 0 00-7.799-1.44 63.56 63.56 0 00-7.968-.509c-5.68 0-9.833 1.102-12.63 3.39-2.798 2.289-4.154 5.51-4.154 9.749 0 3.984 1.017 6.95 3.136 8.985 2.035 2.12 5.001 3.137 8.9 3.137v.424z"fill=#252F3E></path><path d="M126.434 74.087c-1.441 0-2.374-.254-2.967-.847-.593-.509-1.102-1.61-1.525-3.052l-17.039-56.05c-.424-1.526-.678-2.543-.678-3.136 0-1.272.593-1.95 1.78-1.95h8.308c1.526 0 2.543.254 3.052.847.593.509 1.017 1.61 1.44 3.052l12.206 48.082 11.359-48.082c.34-1.526.763-2.543 1.356-3.052.593-.508 1.695-.847 3.136-.847h6.782c1.526 0 2.543.254 3.136.847.593.509 1.102 1.61 1.357 3.052l11.528 48.675 12.545-48.675c.424-1.526.932-2.543 1.441-3.052.593-.508 1.61-.847 3.051-.847h7.883c1.187 0 1.865.678 1.865 1.95 0 .338-.085.678-.17 1.101-.084.424-.254 1.017-.508 1.78l-17.378 56.219c-.424 1.526-.932 2.543-1.526 3.052-.593.508-1.61.847-2.966.847h-7.29c-1.526 0-2.544-.254-3.137-.847-.593-.593-1.102-1.61-1.356-3.136l-11.274-46.877-11.19 46.793c-.339 1.526-.763 2.543-1.356 3.136-.593.593-1.695.848-3.137.848h-7.29z"fill=#252F3E></path><path d="M201.462 78.325c-4.408 0-8.816-.508-13.055-1.525-4.238-1.017-7.544-2.12-9.748-3.39-1.357-.763-2.29-1.61-2.629-2.374-.339-.763-.508-1.61-.508-2.374v-4.322c0-1.61.593-2.374 1.695-2.374.423 0 .847.085 1.271.254.424.17 1.102.424 1.865.763 2.543 1.187 5.34 2.12 8.308 2.798 3.051.678 6.018 1.017 9.07 1.017 4.831 0 8.562-.847 11.105-2.543 2.543-1.695 3.9-4.153 3.9-7.29 0-2.119-.678-3.9-2.035-5.34-1.356-1.441-3.984-2.713-7.798-3.9l-11.19-3.475c-5.68-1.78-9.918-4.408-12.546-7.883-2.628-3.39-3.984-7.205-3.984-11.274 0-3.306.678-6.188 2.035-8.731 1.356-2.543 3.136-4.747 5.425-6.527 2.288-1.865 4.916-3.221 8.053-4.153 3.136-.932 6.442-1.356 9.918-1.356 1.78 0 3.645.085 5.425.339 1.865.254 3.56.593 5.255.932 1.61.424 3.136.847 4.577 1.356 1.44.508 2.543 1.017 3.305 1.525.932.593 1.61 1.187 1.95 1.865.339.593.508 1.44.508 2.458v3.984c0 1.61-.593 2.458-1.695 2.458-.593 0-1.526-.254-2.798-.763-4.238-1.95-9.07-2.882-14.495-2.882-4.408 0-7.883.678-10.341 2.12-2.459 1.44-3.73 3.645-3.73 6.781 0 2.12.763 3.9 2.289 5.34 1.525 1.441 4.408 2.882 8.562 4.153l10.935 3.475c5.595 1.78 9.665 4.238 12.122 7.374 2.459 3.136 3.646 6.697 3.646 10.681 0 3.39-.678 6.442-1.95 9.155-1.356 2.713-3.22 5.086-5.594 7.036-2.374 2.035-5.255 3.56-8.647 4.577-3.56 1.102-7.374 1.61-11.444 1.61z"fill=#252F3E></path><path d="M237.596 145.256c-29.126 21.531-71.418 32.974-107.813 32.974-50.996 0-96.927-18.853-131.65-50.235-2.713-2.459-.339-5.849 2.967-3.9 37.517 21.785 83.787 34.922 131.65 34.922 32.296 0 67.78-6.697 100.414-20.598 4.916-2.12 9.07 3.221 4.432 6.837z"fill=#FF9900></path><path d="M249.548 131.524c-3.73-4.747-24.668-2.289-34.078-1.102-2.882.339-3.306-2.12-.678-3.9 16.7-11.698 43.99-8.308 47.127-4.408 3.136 3.984-.848 31.314-16.531 44.369-2.374 2.035-4.662.932-3.56-1.78 3.475-8.562 11.189-28.449 7.72-33.179z"fill=#FF9900>'),Uo=m('<svg viewBox="0 0 96 96"class="w-5 h-5"fill=none><path d="M33.337 6.11L2.305 81.954h21.792L57.67 6.11H33.337z"fill=#0078D4></path><path d="M71.175 26.316H43.09L20.97 82.097h22.125l28.08-55.781z"fill=#0078D4></path><path d="M79.04 6.11L57.8 89.9h18.41l21.484-83.79H79.04z"fill=#0078D4>'),Yo=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=#0530AD><path d="M0 7.5h4.05v.9H0zm5.4 0v.9H6.3v-.9h-.9zm3.6 0v.9h4.05v-.9H9zm8.1 0v.9h.9v-.9h-.9zm3.6 0v.9H24v-.9h-3.3zM0 9.3h4.05v.9H0zm5.4 0v.9H6.3v-.9h-.9zm3.6 0v.9h4.05v-.9H9zm8.1 0v.9h.9v-.9h-.9zm3.6 0v.9H24v-.9h-3.3zM0 11.1h2.7v.9H0zm3.6 0v.9h1.35c.124-.31.248-.6.45-.9H3.6zm5.4 0v.9h1.35c.186.31.31.6.45.9H9zm8.1 0c.124.31.248.6.45.9h1.35v-.9h-.9zm2.7 0v.9h.9c.186-.31.31-.6.45-.9h-.45zm2.7 0c.124.31.248.6.45.9H24v-.9h-3.3zM0 12.9h2.7v.9H0zm3.6 0v.9h.45c-.186-.31-.31-.6-.45-.9zm5.4 0c-.124-.31-.248-.6-.45-.9v.9H9zm8.1 0v.9c.124-.31.248-.6.45-.9h-.45zm2.7 0c-.186.31-.31.6-.45.9h.45v-.9zm2.7 0v.9H24v-.9h-3.3zM0 14.7h4.05v.9H0zm5.4 0v.9H6.3v-.9h-.9zm3.6 0v.9h4.05v-.9H9zm8.1 0v.9h.9v-.9h-.9zm3.6 0v.9H24v-.9h-3.3zM0 16.5h4.05v.9H0zm5.4 0v.9H6.3v-.9h-.9zm3.6 0v.9h4.05v-.9H9zm8.1 0v.9h.9v-.9h-.9zm3.6 0v.9H24v-.9h-3.3z">'),Go=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=#F80000><path d="M6.754 16.15h10.492c2.294 0 4.254-1.96 4.254-4.254S19.54 7.642 17.246 7.642H6.754C4.46 7.642 2.5 9.602 2.5 11.896s1.96 4.254 4.254 4.254zm0-6.204h10.492c1.078 0 1.95.872 1.95 1.95s-.872 1.95-1.95 1.95H6.754c-1.078 0-1.95-.872-1.95-1.95s.872-1.95 1.95-1.95z">'),qo=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=#0080FF><path d="M12.04 24v-4.8h-4.8V24H12zm-4.8-4.8v-3.6H3.6v3.6h3.64zm0-3.6v-3.6H3.6v3.6h3.64zm6-3.6v-3.6H9.6v3.6h3.64zm0 0a7.2 7.2 0 007.2-7.2H12.04v4.8h4.8v-4.8h-4.8v7.2z"></path><path d="M12 0C5.37 0 0 5.37 0 12h4.8A7.2 7.2 0 0112 4.8V0z">'),Jo=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=#FF6A00><path d="M21.692 18.5L12 13.5l-9.692 5L0 17l12-6.154L24 17l-2.308 1.5zm0-6L12 7.5l-9.692 5L0 11l12-6.154L24 11l-2.308 1.5z">'),Wo=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=#00A95C><path d="M12 2L2 7l10 5 10-5-10-5zm0 7.5L4.5 7 12 4.5l7.5 2.5L12 9.5zm0 3L4.5 10 12 7.5l7.5 2.5L12 12.5zm0 3L4.5 13 12 10.5l7.5 2.5L12 15.5zm0 3L4.5 16 12 13.5l7.5 2.5L12 18.5zm0 3L2 17v2l10 5 10-5v-2l-10 4.5z">'),Xo=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=#007BFC><path d="M19.743 6H23.5l-7 12h-3.757L19.743 6zM.5 6h3.757l7 12H7.5L.5 6zm7.28 0h3.757l5.723 9.8h-3.757L7.78 6z">'),Ko=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=#123F6D><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-4h2v2h-2zm0-8h2v6h-2z">'),Qo=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=#D50C2D><path d="M4 4h16v16H4V4zm2 2v12h12V6H6zm2 2h3v8H8V8zm5 0h3v8h-3V8z">'),Zo=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=#326CE5><path d="M12 2L2 7l10 5 10-5-10-5zm0 12l-8-4v7l8 4 8-4v-7l-8 4z">'),ec=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=#326CE5><path d="M12 2a10 10 0 100 20 10 10 0 000-20zm0 18a8 8 0 110-16 8 8 0 010 16zm-2-6l5-3-5-3v6z">'),tc=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=#2496ED><path d="M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185zm-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.186zm0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186zm-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186zm-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186zm5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185zm-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185zm-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.185-.186h-2.12a.186.186 0 00-.185.186v1.887c0 .102.084.185.186.185zm-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185zM23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288z">'),rc=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=#FFC61C><path d="M12 2L2 7v10l10 5 10-5V7L12 2zm0 2.5L19 8l-7 3.5L5 8l7-3.5zM4 9.5l7 3.5v7l-7-3.5v-7zm16 0v7l-7 3.5v-7l7-3.5z">'),nc=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=#0075A8><path d="M12 2L2 7v10l10 5 10-5V7L12 2zm0 3l6 3-6 3-6-3 6-3zm-7 5l6 3v5l-6-3v-5zm14 0v5l-6 3v-5l6-3z">'),lc=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=#EE0000><path d="M21.665 11.812l-9.027-3.046a.67.67 0 00-.423 0l-9.027 3.046a.67.67 0 00-.445.631v5.545c0 .286.18.542.445.632l9.027 3.046a.67.67 0 00.423 0l9.027-3.046a.67.67 0 00.445-.632v-5.545a.67.67 0 00-.445-.631zm-9.242 7.726l-7.37-2.49v-3.62l7.37 2.488v3.622zm.408-4.97l-7.576-2.558 7.576-2.558 7.576 2.558-7.576 2.558zm8.03 2.48l-7.37 2.49v-3.622l7.37-2.488v3.62z">'),sc=m('<svg viewBox="0 0 24 24"class="w-5 h-5"fill=currentColor><path d="M19.35 10.04A7.49 7.49 0 0012 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 000 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z">'),ic=m('<svg class="w-4 h-4 ml-auto"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>'),ac=m('<button class="w-full px-3 py-2 text-sm text-left flex items-center gap-2 transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>All Namespaces'),oc=m('<div class="px-3 py-4 text-sm text-center"style=color:var(--text-muted)>No namespaces found'),cc=m('<div class="absolute top-full left-0 mt-1 w-64 rounded-lg shadow-xl z-[200] overflow-hidden"style="background:var(--bg-card);border:1px solid var(--border-color)"><div class="p-2 border-b"style=border-color:var(--border-color)><div class=relative><svg class="absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"style=color:var(--text-muted)><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg><input type=text placeholder="Search namespaces..."class="w-full rounded-md pl-8 pr-3 py-1.5 text-sm"autofocus style="background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)"></div></div><div class="max-h-64 overflow-y-auto"></div><div class="px-3 py-2 text-xs border-t"style=border-color:var(--border-color);color:var(--text-muted)> namespaces available'),dc=m('<kbd class="absolute right-3 top-1/2 -translate-y-1/2 px-1.5 py-0.5 rounded text-xs font-mono"style="background:var(--bg-tertiary);color:var(--text-muted);border:1px solid var(--border-color)">K'),us=m("<span class=text-xs style=color:var(--text-muted)>"),uc=m('<div class="px-3 py-4 text-sm text-center"style=color:var(--text-muted)>No clusters found'),hc=m('<div class="px-3 py-4 text-sm text-center"style=color:var(--text-muted)>No clusters available'),fc=m('<div class="absolute top-full right-0 mt-1 w-72 rounded-lg shadow-xl z-[200] overflow-hidden"style="background:var(--bg-card);border:1px solid var(--border-color)"><div class="p-2 border-b"style=border-color:var(--border-color)><div class=relative><svg class="absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"style=color:var(--text-muted)><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg><input type=text placeholder="Search clusters..."class="w-full rounded-md pl-8 pr-3 py-1.5 text-sm"autofocus style="background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)"></div></div><div class="max-h-64 overflow-y-auto"></div><div class="px-3 py-2 text-xs border-t"style=border-color:var(--border-color);color:var(--text-muted)> cluster<!> available'),pc=m('<header class="h-16 header-glass flex items-center justify-between px-6 relative"style=z-index:100><div class="flex items-center gap-4"><div class="flex items-center gap-2 relative"><label class=text-sm style=color:var(--text-secondary)>Namespace:</label><button class="flex items-center gap-2 rounded-lg px-3 py-1.5 text-sm min-w-[180px] justify-between"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><span class=truncate></span><svg fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></path></svg></button></div><div class=relative><svg class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"style=color:var(--text-muted)><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg><input id=global-search type=text placeholder="Search resources..."class="w-72 rounded-lg pl-10 pr-16 py-1.5 text-sm"></div></div><div class="flex items-center gap-4"><div class="flex items-center gap-2 relative"><label class=text-sm style=color:var(--text-secondary)>Cluster:</label><button class="flex items-center gap-2 rounded-lg px-3 py-1.5 text-sm min-w-[200px] justify-between"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><div class="flex items-center gap-2"><div class="flex flex-col items-start"><span class=truncate></span></div></div><div class="flex items-center gap-1"><span></span><svg fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></path></svg></div></button></div><button class=icon-btn title="Refresh all data"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button><button class="flex items-center gap-2 px-4 py-2 btn-accent rounded-lg"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><span>AI</span></button><div class="flex items-center gap-2 px-3 py-1.5 rounded-lg"style="background:var(--bg-secondary);border:1px solid var(--border-color)"><span class="text-sm font-medium"style=color:var(--text-primary)>'),gc=m('<div class="px-3 py-2 text-sm"style=color:var(--text-muted)>Loading...'),hs=m('<svg class="w-4 h-4 flex-shrink-0"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>'),vc=m('<button class="w-full px-3 py-2 text-sm text-left flex items-center gap-2 transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"style=color:var(--text-muted)><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path></svg><span class="truncate flex-1">'),mc=m("<span>"),xc=m('<div class="px-3 py-2 text-sm"style=color:var(--text-muted)>Loading clusters...'),bc=m('<button class="w-full px-3 py-2 text-sm text-left flex items-center gap-2 transition-colors"><span></span><div class="flex-1 min-w-0"><span class="truncate block">');const fs={gcp:()=>Oo(),aws:()=>Vo(),azure:()=>Uo(),ibm:()=>Yo(),oracle:()=>Go(),digitalocean:()=>qo(),alibaba:()=>Jo(),linode:()=>Wo(),vultr:()=>Xo(),ovh:()=>Ko(),hetzner:()=>Qo(),kind:()=>Zo(),minikube:()=>ec(),"docker-desktop":()=>tc(),k3s:()=>rc(),rancher:()=>nc(),openshift:()=>lc(),generic:()=>sc()},yc=()=>{const[e,t]=F(!1),[r,n]=F(!1),[l,i]=F(""),[s,a]=F(!1),[c,u]=F(""),[d,g]=F(!1);let h,f,L,S;const[$]=De(()=>Me.getCloudInfo().catch(()=>null)),x=()=>{const P=$()?.provider?.toLowerCase()||"generic";return fs[P]||fs.generic},M=()=>{const P=$()?.provider?.toLowerCase();return{gcp:"GCP",aws:"AWS",azure:"Azure",ibm:"IBM",oracle:"Oracle",digitalocean:"DO",alibaba:"Alibaba",linode:"Linode",vultr:"Vultr",ovh:"OVH",hetzner:"Hetzner",kind:"Kind",minikube:"Minikube","docker-desktop":"Docker",k3s:"K3s",rancher:"Rancher",openshift:"OpenShift"}[P||""]||$()?.displayName||"Cloud"},D=Pe(()=>{const P=l().toLowerCase();return P?el().filter(R=>R.toLowerCase().includes(P)):el()}),_=Pe(()=>{const P=c().toLowerCase();return P?Pr().filter(R=>R.name.toLowerCase().includes(P)):Pr()});if(typeof window<"u"){document.addEventListener("keydown",R=>{(R.ctrlKey||R.metaKey)&&R.key==="k"&&(R.preventDefault(),document.getElementById("global-search")?.focus())});const P=R=>{r()&&h&&!h.contains(R.target)&&f&&!f.contains(R.target)&&(n(!1),i("")),s()&&L&&!L.contains(R.target)&&S&&!S.contains(R.target)&&(a(!1),u(""))};document.addEventListener("mousedown",P),Qt(()=>document.removeEventListener("mousedown",P))}const T=P=>{po(P),n(!1),i("")},X=async P=>{if(P!==os()){g(!0);try{await _o(P)}catch(R){console.error("Failed to switch context:",R)}finally{g(!1),a(!1),u("")}}},V=()=>Ue()==="_all"?"All Namespaces":Ue();return(()=>{var P=pc(),R=P.firstChild,U=R.firstChild,C=U.firstChild,b=C.nextSibling,k=b.firstChild,y=k.nextSibling,z=U.nextSibling,w=z.firstChild,N=w.nextSibling,v=R.nextSibling,A=v.firstChild,O=A.firstChild,ee=O.nextSibling,I=ee.firstChild,j=I.firstChild,Y=j.firstChild,be=I.nextSibling,ye=be.firstChild,K=ye.nextSibling,ge=A.nextSibling,we=ge.nextSibling,Se=we.nextSibling,B=Se.firstChild;b.$$click=()=>n(!r());var he=f;typeof he=="function"?At(he,b):f=b,o(k,V),o(U,p(le,{get when(){return r()},get children(){var H=cc(),G=H.firstChild,re=G.firstChild,oe=re.firstChild,ie=oe.nextSibling,$e=G.nextSibling,fe=$e.nextSibling,ne=fe.firstChild,ae=h;return typeof ae=="function"?At(ae,H):h=H,ie.$$input=xe=>i(xe.target.value),o($e,p(le,{get when(){return!l()||"all namespaces".includes(l().toLowerCase())},get children(){var xe=ac(),ve=xe.firstChild;return ve.nextSibling,xe.addEventListener("mouseleave",J=>J.currentTarget.style.background=Ue()==="_all"?"var(--bg-tertiary)":"transparent"),xe.addEventListener("mouseenter",J=>J.currentTarget.style.background="var(--bg-tertiary)"),xe.$$click=()=>T("_all"),o(xe,p(le,{get when(){return Ue()==="_all"},get children(){return ic()}}),null),te(J=>{var W=Ue()==="_all"?"var(--bg-tertiary)":"transparent",me=Ue()==="_all"?"var(--accent-primary)":"var(--text-primary)";return W!==J.e&&ke(xe,"background",J.e=W),me!==J.t&&ke(xe,"color",J.t=me),J},{e:void 0,t:void 0}),xe}}),null),o($e,p(le,{get when(){return!Pn.loading},get fallback(){return gc()},get children(){return p(Ee,{get each(){return D()},children:xe=>(()=>{var ve=vc(),J=ve.firstChild,W=J.nextSibling;return ve.addEventListener("mouseleave",me=>me.currentTarget.style.background=Ue()===xe?"var(--bg-tertiary)":"transparent"),ve.addEventListener("mouseenter",me=>me.currentTarget.style.background="var(--bg-tertiary)"),ve.$$click=()=>T(xe),o(W,xe),o(ve,p(le,{get when(){return Ue()===xe},get children(){return hs()}}),null),te(me=>{var pe=Ue()===xe?"var(--bg-tertiary)":"transparent",de=Ue()===xe?"var(--accent-primary)":"var(--text-primary)";return pe!==me.e&&ke(ve,"background",me.e=pe),de!==me.t&&ke(ve,"color",me.t=de),me},{e:void 0,t:void 0}),ve})()})}}),null),o($e,p(le,{get when(){return Re(()=>!!l())()&&D().length===0},get children(){return oc()}}),null),o(fe,()=>el().length,ne),te(()=>ie.value=l()),H}}),null),N.addEventListener("blur",()=>t(!1)),N.addEventListener("focus",()=>t(!0)),N.$$input=H=>Za(H.target.value),o(z,p(le,{get when(){return!e()},get children(){return dc()}}),null),ee.$$click=()=>a(!s());var Q=S;return typeof Q=="function"?At(Q,ee):S=ee,o(I,p(le,{get when(){return Re(()=>!!$())()&&!$.loading},get fallback(){return(()=>{var H=mc();return te(()=>Ie(H,`w-2 h-2 rounded-full ${cs().connected?"bg-green-500":"bg-red-500"}`)),H})()},get children(){return x()()}}),j),o(Y,(()=>{var H=Re(()=>!!d());return()=>H()?"Switching...":os()||"Select cluster"})()),o(j,p(le,{get when(){return Re(()=>!!$())()&&!$.loading},get children(){var H=us();return o(H,()=>$()?.region||""),H}}),null),o(A,p(le,{get when(){return s()},get children(){var H=fc(),G=H.firstChild,re=G.firstChild,oe=re.firstChild,ie=oe.nextSibling,$e=G.nextSibling,fe=$e.nextSibling,ne=fe.firstChild,ae=ne.nextSibling;ae.nextSibling;var xe=L;return typeof xe=="function"?At(xe,H):L=H,ie.$$input=ve=>u(ve.target.value),o($e,p(le,{get when(){return!pl.loading},get fallback(){return xc()},get children(){return p(Ee,{get each(){return _()},children:ve=>(()=>{var J=bc(),W=J.firstChild,me=W.nextSibling,pe=me.firstChild;return J.addEventListener("mouseleave",de=>de.currentTarget.style.background=ve.isCurrent?"var(--bg-tertiary)":"transparent"),J.addEventListener("mouseenter",de=>de.currentTarget.style.background="var(--bg-tertiary)"),J.$$click=()=>X(ve.name),o(pe,()=>ve.name),o(me,p(le,{get when(){return ve.serverVersion},get children(){var de=us();return o(de,()=>ve.serverVersion),de}}),null),o(J,p(le,{get when(){return ve.isCurrent},get children(){return hs()}}),null),te(de=>{var se=ve.isCurrent?"var(--bg-tertiary)":"transparent",q=ve.isCurrent?"var(--accent-primary)":"var(--text-primary)",ue=`w-2 h-2 rounded-full flex-shrink-0 ${ve.connected?"bg-green-500":"bg-red-500"}`;return se!==de.e&&ke(J,"background",de.e=se),q!==de.t&&ke(J,"color",de.t=q),ue!==de.a&&Ie(W,de.a=ue),de},{e:void 0,t:void 0,a:void 0}),J})()})}}),null),o($e,p(le,{get when(){return Re(()=>!!c())()&&_().length===0},get children(){return uc()}}),null),o($e,p(le,{get when(){return Re(()=>!pl.loading)()&&Pr().length===0},get children(){return hc()}}),null),o(fe,()=>Pr().length,ne),o(fe,()=>Pr().length!==1?"s":"",ae),te(()=>ie.value=c()),H}}),null),ge.$$click=H=>{const G=H.currentTarget;G.classList.add("refreshing"),setTimeout(()=>G.classList.remove("refreshing"),500),pi()},o(v,p(Bo,{}),we),cr(we,"click",ro,!0),o(Se,()=>x()(),B),o(B,(()=>{var H=Re(()=>!!$.loading);return()=>H()?"...":M()})()),te(H=>{var G=`w-4 h-4 transition-transform ${r()?"rotate-180":""}`,re=d(),oe=d()?.7:1,ie=`w-2 h-2 rounded-full ${cs().connected?"bg-green-500":"bg-red-500"}`,$e=`w-4 h-4 transition-transform ${s()?"rotate-180":""}`,fe=`${$()?.displayName||"Cloud"} - ${$()?.region||""}`;return G!==H.e&&Ze(y,"class",H.e=G),re!==H.t&&(ee.disabled=H.t=re),oe!==H.a&&ke(ee,"opacity",H.a=oe),ie!==H.o&&Ie(ye,H.o=ie),$e!==H.i&&Ze(K,"class",H.i=$e),fe!==H.n&&Ze(Se,"title",H.n=fe),H},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),te(()=>N.value=oi()),P})()};qe(["click","input"]);var $c=m('<svg class="w-6 h-6"viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><rect x=4 y=4 width=16 height=16 rx=2></rect><rect x=9 y=9 width=6 height=6></rect><line x1=9 y1=1 x2=9 y2=4></line><line x1=15 y1=1 x2=15 y2=4></line><line x1=9 y1=20 x2=9 y2=23></line><line x1=15 y1=20 x2=15 y2=23></line><line x1=20 y1=9 x2=23 y2=9></line><line x1=20 y1=14 x2=23 y2=14></line><line x1=1 y1=9 x2=4 y2=9></line><line x1=1 y1=14 x2=4 y2=14>'),_c=m('<svg class="w-6 h-6"viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><rect x=3 y=4 width=18 height=16 rx=2></rect><line x1=7 y1=8 x2=7 y2=16></line><line x1=11 y1=8 x2=11 y2=16></line><line x1=15 y1=8 x2=15 y2=16></line><line x1=3 y1=12 x2=21 y2=12>'),wc=m('<svg class="w-6 h-6"viewBox="0 0 24 24"fill=currentColor><path d="M12 2L3 7v10l9 5 9-5V7l-9-5zm0 2.18l6.9 3.85L12 11.9 5.1 8.03 12 4.18zM5 9.48l6 3.35v6.7l-6-3.35v-6.7zm8 10.05v-6.7l6-3.35v6.7l-6 3.35z">'),kc=m('<svg class="w-6 h-6"viewBox="0 0 24 24"fill=currentColor><path d="M4 4h16v4H4V4zm0 6h16v4H4v-4zm0 6h16v4H4v-4z"></path><circle cx=6 cy=6 r=1></circle><circle cx=6 cy=12 r=1></circle><circle cx=6 cy=18 r=1>'),Cc=m('<svg class="w-5 h-5"viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z">'),Sc=m('<svg class="w-5 h-5"viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1=12 y1=9 x2=12 y2=13></line><line x1=12 y1=17 x2=12.01 y2=17>'),Mc=m('<svg class="w-4 h-4"viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><polyline points="20 6 9 17 4 12">'),Ac=m('<svg class="w-4 h-4"viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><line x1=18 y1=6 x2=6 y2=18></line><line x1=6 y1=6 x2=18 y2=18>'),zc=m('<div class="text-sm mt-1"style=color:var(--text-muted)>'),Lc=m('<div class="card p-5 cursor-pointer transition-all hover:scale-[1.02] hover:shadow-lg"><div class="flex items-start justify-between"><div><div class="text-sm font-medium"style=color:var(--text-muted)></div><div class="text-3xl font-bold mt-2"></div></div><div class="w-12 h-12 rounded-xl flex items-center justify-center">'),Pc=m('<div class="space-y-2 max-h-64 overflow-auto">'),Tc=m('<div class=space-y-6><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>Dashboard</h1><p style=color:var(--text-secondary)>Cluster overview and health monitoring</p></div><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"></div><div class="card p-6"><h2 class="text-lg font-semibold mb-4"style=color:var(--text-primary)>Resource Overview</h2><div class="grid grid-cols-2 md:grid-cols-5 gap-4"><div class="p-4 rounded-lg text-center cursor-pointer hover:opacity-80 transition-opacity"style=background:var(--bg-tertiary)><div class="text-3xl font-bold"style=color:#06b6d4></div><div class="text-sm mt-1"style=color:var(--text-secondary)>Pods</div></div><div class="p-4 rounded-lg text-center cursor-pointer hover:opacity-80 transition-opacity"style=background:var(--bg-tertiary)><div class="text-3xl font-bold"style=color:#3b82f6></div><div class="text-sm mt-1"style=color:var(--text-secondary)>Deployments</div></div><div class="p-4 rounded-lg text-center cursor-pointer hover:opacity-80 transition-opacity"style=background:var(--bg-tertiary)><div class="text-3xl font-bold"style=color:#8b5cf6></div><div class="text-sm mt-1"style=color:var(--text-secondary)>Services</div></div><div class="p-4 rounded-lg text-center cursor-pointer hover:opacity-80 transition-opacity"style=background:var(--bg-tertiary)><div class="text-3xl font-bold"style=color:#22c55e></div><div class="text-sm mt-1"style=color:var(--text-secondary)>Nodes</div></div><div class="p-4 rounded-lg text-center cursor-pointer hover:opacity-80 transition-opacity"style=background:var(--bg-tertiary)><div class="text-3xl font-bold"style=color:#f59e0b>$</div><div class="text-sm mt-1"style=color:var(--text-secondary)>Est. Monthly Cost</div></div></div></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><div class="card p-6"><h2 class="text-lg font-semibold mb-4 flex items-center gap-2"style=color:var(--text-primary)><svg class="w-5 h-5"viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M12 2a10 10 0 1 0 10 10H12V2z"></path><path d="M12 2a10 10 0 0 1 10 10"></path><circle cx=12 cy=12 r=3></circle></svg>AI Insights & Recommendations</h2><div class=space-y-3></div></div><div class="card p-6"><h2 class="text-lg font-semibold mb-4 flex items-center gap-2 cursor-pointer hover:opacity-80"style=color:var(--text-primary)>Security Overview<svg class="w-4 h-4 ml-auto"viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M9 18l6-6-6-6"></path></svg></h2><div class=space-y-4><div class="flex items-center justify-between p-4 rounded-lg"style=background:var(--bg-tertiary)><span style=color:var(--text-secondary)>Security Score</span><span class="text-2xl font-bold">/100</span></div><div class=space-y-2></div></div></div></div><div class="card p-6"><h2 class="text-lg font-semibold mb-4"style=color:var(--text-primary)>Recent Events'),Nc=m('<ul class="mt-2 text-xs space-y-1"style=color:var(--text-muted)>'),Dc=m('<button class="mt-3 px-3 py-1.5 text-xs font-medium rounded-md transition-all hover:opacity-80"> '),Rc=m('<div class="p-4 rounded-lg border"><div class="flex items-start gap-3"><div></div><div class=flex-1><div class=font-medium></div><div class="text-sm mt-1"style=color:var(--text-secondary)>'),Ic=m('<li class="flex items-center gap-2"><span class="w-1 h-1 rounded-full">'),Ec=m('<span class="text-xs px-1.5 py-0.5 rounded"style=background:var(--bg-tertiary);color:var(--text-muted)>'),Fc=m('<div class="flex items-center justify-between p-3 rounded-lg"style=background:var(--bg-secondary)><div class="flex items-center gap-2"><span></span><span style=color:var(--text-primary)></span></div><span>'),Hc=m('<div class="text-center py-8"style=color:var(--text-muted)>No recent events'),Bc=m('<div class="flex items-start gap-3 p-3 rounded-lg"style=background:var(--bg-secondary)><span></span><div class="flex-1 min-w-0"><div class="text-sm font-medium truncate"style=color:var(--text-primary)>: </div><div class="text-xs truncate"style=color:var(--text-muted)>');const jc=()=>$c(),Oc=()=>_c(),Vc=()=>wc(),Uc=()=>kc(),ps=()=>Cc(),dn=()=>Sc(),tl=()=>Mc(),gs=()=>Ac(),un=e=>(()=>{var t=Lc(),r=t.firstChild,n=r.firstChild,l=n.firstChild,i=l.nextSibling,s=n.nextSibling;return cr(t,"click",e.onClick,!0),o(l,()=>e.label),o(i,()=>e.value),o(n,p(le,{get when(){return e.subtext},get children(){var a=zc();return o(a,()=>e.subtext),a}}),null),o(s,()=>e.icon({})),te(a=>{var c=`4px solid ${e.color}`,u=e.color,d=`${e.color}20`,g=e.color;return c!==a.e&&ke(t,"border-left",a.e=c),u!==a.t&&ke(i,"color",a.t=u),d!==a.a&&ke(s,"background",a.a=d),g!==a.o&&ke(s,"color",a.o=g),a},{e:void 0,t:void 0,a:void 0,o:void 0}),t})(),Yc=()=>{const[e]=De(Me.getMetrics),[t]=De(()=>Me.getPods("_all")),[r]=De(()=>Me.getDeployments("_all")),[n]=De(()=>Me.getServices("_all")),[l]=De(Me.getNodes),[i]=De(Me.getEvents),[s]=De(Me.getClusterCost),a=()=>(t()||[]).filter($=>$.status==="Running").length,c=()=>(t()||[]).length,u=()=>(l()||[]).filter($=>$.status==="Ready").length,d=()=>(l()||[]).length,g=()=>(i()||[]).slice(0,10),h=Pe(()=>{const $=t()||[],x=[],M=$.filter(V=>!V.securityContext);M.length>0?x.push({name:"Security Context Missing",status:"fail",severity:"critical",count:M.length,details:`${M.length} pods have no security context defined`}):$.length>0&&x.push({name:"Security Context",status:"pass",severity:"critical",details:"All pods have security context configured"});const D=$.filter(V=>V.securityContext?.runAsRoot===!0||!V.securityContext?.runAsNonRoot&&!V.securityContext?.runAsUser);D.length>0?x.push({name:"Running as Root",status:"fail",severity:"critical",count:D.length,details:`${D.length} pods may run as root user`}):$.length>0&&x.push({name:"Non-Root User",status:"pass",severity:"critical",details:"All pods run as non-root"});const _=$.filter(V=>V.privileged===!0);_.length>0?x.push({name:"Privileged Containers",status:"fail",severity:"critical",count:_.length,details:`${_.length} containers running in privileged mode`}):$.length>0&&x.push({name:"No Privileged Containers",status:"pass",severity:"critical",details:"No privileged containers detected"});const T=$.filter(V=>!V.resources?.limits);T.length>0?x.push({name:"Resource Limits Missing",status:"warning",severity:"high",count:T.length,details:`${T.length} pods without resource limits`}):$.length>0&&x.push({name:"Resource Limits",status:"pass",severity:"high",details:"All pods have resource limits configured"});const X=$.filter(V=>V.securityContext?.readOnlyRootFilesystem!==!0);return X.length>0&&$.length>0&&x.push({name:"Writable Root Filesystem",status:"warning",severity:"medium",count:X.length,details:`${X.length} pods have writable root filesystem`}),$.length===0&&x.push({name:"No Pods to Analyze",status:"warning",severity:"low",details:"No pods found for security analysis"}),x}),f=Pe(()=>{const $=h();if($.length===0)return 100;const x={critical:25,high:15,medium:10,low:5};let M=0,D=0;return $.forEach(_=>{const T=x[_.severity];M+=T,_.status==="pass"?D+=T:_.status==="warning"&&(D+=T*.5)}),M>0?Math.round(D/M*100):100}),L=()=>{const $=[],x=t()||[],M=l()||[],D=e(),_=x.filter(C=>C.status==="Pending");_.length>0&&$.push({type:"warning",title:"Pending Pods Detected",message:`${_.length} pods are in Pending state.`,details:_.slice(0,3).map(C=>`${C.namespace}/${C.name}`),navigateTo:"pods",actionLabel:"View Pods"});const T=x.filter(C=>C.status==="Failed"||C.status==="Error"||C.status==="CrashLoopBackOff");T.length>0&&$.push({type:"error",title:"Failed Pods Alert",message:`${T.length} pods are failing. Immediate attention recommended.`,details:T.slice(0,3).map(C=>`${C.namespace}/${C.name} (${C.status})`),navigateTo:"pods",actionLabel:"View Failed Pods"});const X=M.filter(C=>C.status!=="Ready");X.length>0&&$.push({type:"error",title:"Node Health Issue",message:`${X.length} nodes are not ready.`,details:X.slice(0,3).map(C=>C.name),navigateTo:"nodes",actionLabel:"View Nodes"});const V=D?.cpu!=null?typeof D.cpu=="object"?D.cpu.percentage:Number(D.cpu):null,P=D?.memory!=null?typeof D.memory=="object"?D.memory.percentage:Number(D.memory):null;V&&V>80&&$.push({type:"warning",title:"High CPU Usage",message:`Cluster CPU at ${V.toFixed(1)}%. Consider scaling or optimizing workloads.`}),P&&P>85&&$.push({type:"warning",title:"High Memory Usage",message:`Cluster memory at ${P.toFixed(1)}%. Consider adding capacity.`});const R=h().filter(C=>C.status==="fail"&&C.severity==="critical");R.length>0&&$.push({type:"error",title:"Critical Security Issues",message:`${R.length} critical security findings require immediate attention.`,details:R.map(C=>`${C.name}${C.count?` (${C.count} affected)`:""}`),navigateTo:"security",actionLabel:"View Security Details"});const U=h().filter(C=>C.status==="fail"&&C.severity==="high");return U.length>0&&R.length===0&&$.push({type:"warning",title:"Security Warnings",message:`${U.length} high-severity security findings detected.`,details:U.map(C=>C.name),navigateTo:"security",actionLabel:"View Security Details"}),$.length===0&&$.push({type:"success",title:"Cluster Healthy",message:"All systems operating normally. No issues detected."}),$},S=$=>$>=80?"var(--success-color)":$>=60?"var(--warning-color)":"var(--error-color)";return(()=>{var $=Tc(),x=$.firstChild,M=x.firstChild;M.nextSibling;var D=x.nextSibling,_=D.nextSibling,T=_.firstChild,X=T.nextSibling,V=X.firstChild,P=V.firstChild;P.nextSibling;var R=V.nextSibling,U=R.firstChild;U.nextSibling;var C=R.nextSibling,b=C.firstChild;b.nextSibling;var k=C.nextSibling,y=k.firstChild;y.nextSibling;var z=k.nextSibling,w=z.firstChild;w.firstChild,w.nextSibling;var N=_.nextSibling,v=N.firstChild,A=v.firstChild,O=A.nextSibling,ee=v.nextSibling,I=ee.firstChild,j=I.firstChild,Y=I.nextSibling,be=Y.firstChild,ye=be.firstChild,K=ye.nextSibling,ge=K.firstChild,we=be.nextSibling,Se=N.nextSibling;return Se.firstChild,o(D,p(un,{label:"CPU Usage",get value(){return Re(()=>e()?.cpu!=null)()?`${typeof e().cpu=="object"?e().cpu.percentage?.toFixed(1):Number(e().cpu).toFixed(1)}%`:"--"},subtext:"Cluster average",color:"#06b6d4",icon:jc}),null),o(D,p(un,{label:"Memory Usage",get value(){return Re(()=>e()?.memory!=null)()?`${typeof e().memory=="object"?e().memory.percentage?.toFixed(1):Number(e().memory).toFixed(1)}%`:"--"},subtext:"Cluster average",color:"#8b5cf6",icon:Oc}),null),o(D,p(un,{label:"Running Pods",get value(){return`${a()}/${c()}`},get subtext(){return`${c()>0?(a()/c()*100).toFixed(0):0}% healthy`},color:"#22c55e",icon:Vc,onClick:()=>St("pods")}),null),o(D,p(un,{label:"Nodes",get value(){return`${u()}/${d()}`},get subtext(){return u()===d()?"All healthy":"Some unhealthy"},get color(){return u()===d()?"#22c55e":"#f59e0b"},icon:Uc,onClick:()=>St("nodes")}),null),V.$$click=()=>St("pods"),o(P,c),R.$$click=()=>St("deployments"),o(U,()=>(r()||[]).length),C.$$click=()=>St("services"),o(b,()=>(n()||[]).length),k.$$click=()=>St("nodes"),o(y,d),z.$$click=()=>St("cost"),o(w,()=>s()?.monthlyCost?.toFixed(0)||"--",null),o(O,p(Ee,{get each(){return L()},children:B=>(()=>{var he=Rc(),Q=he.firstChild,H=Q.firstChild,G=H.nextSibling,re=G.firstChild,oe=re.nextSibling;return o(H,(()=>{var ie=Re(()=>B.type==="error");return()=>ie()?p(dn,{}):Re(()=>B.type==="warning")()?p(dn,{}):Re(()=>B.type==="success")()?p(tl,{}):p(ps,{})})()),o(re,()=>B.title),o(oe,()=>B.message),o(G,p(le,{get when(){return Re(()=>!!B.details)()&&B.details.length>0},get children(){var ie=Nc();return o(ie,p(Ee,{get each(){return B.details},children:$e=>(()=>{var fe=Ic(),ne=fe.firstChild;return o(fe,$e,null),te(ae=>ke(ne,"background",B.type==="error"?"var(--error-color)":B.type==="warning"?"var(--warning-color)":"var(--accent-primary)")),fe})()})),ie}}),null),o(G,p(le,{get when(){return Re(()=>!!B.navigateTo)()&&B.actionLabel},get children(){var ie=Dc(),$e=ie.firstChild;return ie.$$click=()=>St(B.navigateTo),o(ie,()=>B.actionLabel,$e),te(fe=>{var ne=B.type==="error"?"rgba(239, 68, 68, 0.2)":B.type==="warning"?"rgba(245, 158, 11, 0.2)":"rgba(6, 182, 212, 0.2)",ae=B.type==="error"?"var(--error-color)":B.type==="warning"?"var(--warning-color)":"var(--accent-primary)",xe=`1px solid ${B.type==="error"?"rgba(239, 68, 68, 0.3)":B.type==="warning"?"rgba(245, 158, 11, 0.3)":"rgba(6, 182, 212, 0.3)"}`;return ne!==fe.e&&ke(ie,"background",fe.e=ne),ae!==fe.t&&ke(ie,"color",fe.t=ae),xe!==fe.a&&ke(ie,"border",fe.a=xe),fe},{e:void 0,t:void 0,a:void 0}),ie}}),null),te(ie=>{var $e=B.type==="error"?"rgba(239, 68, 68, 0.1)":B.type==="warning"?"rgba(245, 158, 11, 0.1)":B.type==="success"?"rgba(34, 197, 94, 0.1)":"rgba(6, 182, 212, 0.1)",fe=B.type==="error"?"rgba(239, 68, 68, 0.3)":B.type==="warning"?"rgba(245, 158, 11, 0.3)":B.type==="success"?"rgba(34, 197, 94, 0.3)":"rgba(6, 182, 212, 0.3)",ne=B.type==="error"?"var(--error-color)":B.type==="warning"?"var(--warning-color)":B.type==="success"?"var(--success-color)":"var(--accent-primary)",ae=B.type==="error"?"var(--error-color)":B.type==="warning"?"var(--warning-color)":B.type==="success"?"var(--success-color)":"var(--accent-primary)";return $e!==ie.e&&ke(he,"background",ie.e=$e),fe!==ie.t&&ke(he,"border-color",ie.t=fe),ne!==ie.a&&ke(H,"color",ie.a=ne),ae!==ie.o&&ke(re,"color",ie.o=ae),ie},{e:void 0,t:void 0,a:void 0,o:void 0}),he})()})),I.$$click=()=>St("security"),o(I,p(ps,{}),j),o(K,f,ge),o(we,p(Ee,{get each(){return h()},children:B=>(()=>{var he=Fc(),Q=he.firstChild,H=Q.firstChild,G=H.nextSibling,re=Q.nextSibling;return o(H,()=>B.severity.toUpperCase()),o(G,()=>B.name),o(Q,p(le,{get when(){return B.count},get children(){var oe=Ec();return o(oe,()=>B.count),oe}}),null),o(re,(()=>{var oe=Re(()=>B.status==="pass");return()=>oe()?p(tl,{}):Re(()=>B.status==="fail")()?p(gs,{}):p(dn,{})})(),null),o(re,(()=>{var oe=Re(()=>B.status==="pass");return()=>oe()?"Pass":B.status==="fail"?"Fail":"Warning"})(),null),te(oe=>{var ie=`px-1.5 py-0.5 rounded text-xs font-medium ${B.severity==="critical"?"bg-red-500/20 text-red-400":B.severity==="high"?"bg-orange-500/20 text-orange-400":B.severity==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,$e=`flex items-center gap-1 text-sm ${B.status==="pass"?"text-green-400":B.status==="fail"?"text-red-400":"text-yellow-400"}`;return ie!==oe.e&&Ie(H,oe.e=ie),$e!==oe.t&&Ie(re,oe.t=$e),oe},{e:void 0,t:void 0}),he})()})),o(Se,p(le,{get when(){return g().length>0},get fallback(){return Hc()},get children(){var B=Pc();return o(B,p(Ee,{get each(){return g()},children:he=>(()=>{var Q=Bc(),H=Q.firstChild,G=H.nextSibling,re=G.firstChild,oe=re.firstChild,ie=re.nextSibling;return o(H,(()=>{var $e=Re(()=>he.type==="Warning");return()=>$e()?p(dn,{}):Re(()=>he.type==="Normal")()?p(tl,{}):p(gs,{})})()),o(re,()=>he.reason,oe),o(re,()=>he.object,null),o(ie,()=>he.message),te(()=>Ie(H,`mt-0.5 ${he.type==="Warning"?"text-yellow-400":he.type==="Normal"?"text-green-400":"text-red-400"}`)),Q})()})),B}}),null),te(B=>ke(K,"color",S(f()))),$})()};qe(["click"]);var Gc=m('<div class="modal-overlay animate-fade-in"><div><div class="flex items-center justify-between p-4 border-b"style=border-color:var(--border-color)><h2 class="text-lg font-semibold"style=color:var(--text-primary)></h2><button class="p-1 rounded-lg transition-colors hover:bg-[var(--bg-tertiary)]"style=color:var(--text-secondary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="p-4 max-h-[70vh] overflow-auto">');const Qe=e=>{Wt(()=>{if(e.isOpen){const r=n=>{n.key==="Escape"&&e.onClose()};document.addEventListener("keydown",r),document.body.style.overflow="hidden",Qt(()=>{document.removeEventListener("keydown",r),document.body.style.overflow=""})}});const t={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-[90vw] w-full"};return p(le,{get when(){return e.isOpen},get children(){return p(Un,{get children(){var r=Gc(),n=r.firstChild,l=n.firstChild,i=l.firstChild,s=i.nextSibling,a=l.nextSibling;return cr(r,"click",e.onClose,!0),n.$$click=c=>c.stopPropagation(),o(i,()=>e.title),cr(s,"click",e.onClose,!0),o(a,()=>e.children),te(()=>Ie(n,`modal-content ${t[e.size||"lg"]} animate-slide-up`)),r}})}})};qe(["click"]);var qc=m('<svg class="w-4 h-4 text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 13l4 4L19 7">'),Jc=m("<span class=text-green-400>Copied!"),Wc=m('<div class=relative><div class="flex items-center justify-end gap-2 mb-2"><button class="flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors"style=background:var(--bg-tertiary);color:var(--text-secondary)></button><button class="flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors"style=background:var(--bg-tertiary);color:var(--text-secondary)><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>Download</button></div><div class="code-block overflow-auto max-h-[60vh]"><pre class="text-sm leading-relaxed">'),Xc=m('<svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">');const Ft=e=>{const[t,r]=F(!1),n=async()=>{await navigator.clipboard.writeText(e.yaml),r(!0),e.onCopy?.(),setTimeout(()=>r(!1),2e3)},l=()=>{const a=new Blob([e.yaml],{type:"text/yaml"}),c=URL.createObjectURL(a),u=document.createElement("a");u.href=c,u.download=`${e.title||"resource"}.yaml`,u.click(),URL.revokeObjectURL(c)},i=a=>a.split(`
`).map(c=>{if(c.trim().startsWith("#"))return`<span class="text-gray-500">${s(c)}</span>`;const u=c.match(/^(\s*)([a-zA-Z0-9_-]+)(:)/);if(u){const[,d,g,h]=u,f=c.slice(u[0].length);return`${d}<span class="text-cyan-400">${s(g)}</span>${h}<span class="text-amber-300">${s(f)}</span>`}return c.trim().startsWith("-")?`<span class="text-purple-400">${s(c)}</span>`:s(c)}).join(`
`),s=a=>a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return(()=>{var a=Wc(),c=a.firstChild,u=c.firstChild,d=u.nextSibling,g=c.nextSibling,h=g.firstChild;return u.$$click=n,o(u,p(le,{get when(){return t()},get fallback(){return[Xc(),"Copy"]},get children(){return[qc(),Jc()]}})),d.$$click=l,te(()=>h.innerHTML=i(e.yaml)),a})()};qe(["click"]);var Kc=m("<div class=text-red-400>Error: "),Qc=m("<pre class=whitespace-pre-wrap>"),Zc=m('<div class="flex flex-col h-[60vh]"><div class="flex items-center justify-end gap-2 mb-2"><button class="flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors"style=background:var(--bg-tertiary);color:var(--text-secondary)><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>Copy</button></div><div class="flex-1 font-mono text-sm p-4 rounded-lg overflow-auto"style="background:#0d1117;color:#c9d1d9;border:1px solid var(--border-color)">'),ed=m('<div class="flex items-center justify-center h-full"><div class=spinner>');const zt=e=>{const[t]=De(()=>({type:e.resourceType,name:e.name,ns:e.namespace,open:e.isOpen}),async i=>{if(!i.open||!i.name)return"";const s=i.ns?`&namespace=${i.ns}`:"",a=await fetch(`/api/${i.type}/describe?name=${i.name}${s}`);if(!a.ok)throw new Error("Failed to fetch describe output");return(await a.json()).describe||""}),r=async()=>{await navigator.clipboard.writeText(t()||"")},n=i=>i.split(`
`).map(s=>{const a=s.match(/^([A-Za-z][A-Za-z\s]+):\s*(.*)$/);if(a&&s.indexOf(":")<30){const[,u,d]=a;return`<span class="text-cyan-400">${l(u)}:</span> <span class="text-amber-300">${l(d)}</span>`}const c=s.match(/^(\s+)([A-Za-z][A-Za-z\s-]+):\s*(.*)$/);if(c){const[,u,d,g]=c;return`${u}<span class="text-blue-400">${l(d)}:</span> ${l(g)}`}return l(s)}).join(`
`),l=i=>i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return p(Qe,{get isOpen(){return e.isOpen},get onClose(){return e.onClose},get title(){return`Describe: ${e.name}`},size:"xl",get children(){var i=Zc(),s=i.firstChild,a=s.firstChild,c=s.nextSibling;return a.$$click=r,o(c,p(le,{get when(){return!t.loading},get fallback(){return ed()},get children(){return[p(le,{get when(){return t.error},get children(){var u=Kc();return u.firstChild,o(u,()=>t.error?.message,null),u}}),(()=>{var u=Qc();return te(()=>u.innerHTML=n(t()||"")),u})()]}})),i}})};qe(["click"]);var td=m('<div class="fixed z-50 py-2 rounded-lg shadow-xl min-w-[180px]"style="background:var(--bg-card);border:1px solid var(--border-color);box-shadow:0 10px 40px rgba(0, 0, 0, 0.3)">'),rd=m('<div class=relative><button class="flex items-center justify-center p-1 rounded transition-all hover:bg-opacity-80"title=Actions style="background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z">'),nd=m('<div class="my-1 border-t"style=border-color:var(--border-color)>'),ld=m('<button class="w-full flex items-center gap-3 px-4 py-2 text-sm transition-colors hover:bg-opacity-50"style=background:transparent><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2>');const vs={shell:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",portforward:"M13 10V3L4 14h7v7l9-11h-7z",logs:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",yaml:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4",describe:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",restart:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",delete:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",scale:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4",details:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},Ht=e=>{const[t,r]=F(!1),[n,l]=F({top:0,left:0});let i;const s=u=>{if(u.stopPropagation(),i){const d=i.getBoundingClientRect();l({top:d.bottom+4,left:d.right-180})}r(!t())},a=u=>{r(!1),u.onClick()},c=u=>{t()&&i&&!i.contains(u.target)&&r(!1)};return typeof window<"u"&&(document.addEventListener("click",c),Qt(()=>document.removeEventListener("click",c))),(()=>{var u=rd(),d=u.firstChild;d.$$click=s;var g=i;return typeof g=="function"?At(g,d):i=d,o(u,p(le,{get when(){return t()},get children(){return p(Un,{get children(){var h=td();return o(h,p(Ee,{get each(){return e.actions},children:f=>[p(le,{get when(){return f.divider},get children(){return nd()}}),(()=>{var L=ld(),S=L.firstChild,$=S.firstChild;return L.addEventListener("mouseleave",x=>{x.currentTarget.style.background="transparent"}),L.addEventListener("mouseenter",x=>{x.currentTarget.style.background=f.variant==="danger"?"rgba(239, 68, 68, 0.1)":"var(--bg-tertiary)"}),L.$$click=()=>a(f),o(L,()=>f.label,null),te(x=>{var M=f.variant==="danger"?"var(--error-color)":"var(--text-primary)",D=vs[f.icon]||vs.details;return M!==x.e&&ke(L,"color",x.e=M),D!==x.t&&Ze($,"d",x.t=D),x},{e:void 0,t:void 0}),L})()]})),te(f=>{var L=`${n().top}px`,S=`${n().left}px`;return L!==f.e&&ke(h,"top",f.e=L),S!==f.t&&ke(h,"left",f.t=S),f},{e:void 0,t:void 0}),h}})}}),null),u})()};qe(["click"]);var sd=m('<span class="ml-1 inline-flex flex-col text-xs leading-none"><span></span><span>'),id=m('<div class="card p-4"><h3 class="font-semibold mb-3 flex items-center gap-2"style=color:var(--text-primary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>Active Port Forwards</h3><div class="flex flex-wrap gap-2">'),ad=m('<div class=overflow-x-auto><table class="data-table terminal-table"style=table-layout:auto><thead><tr><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Name </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Status </div></th><th class=whitespace-nowrap>Ready</th><th class=whitespace-nowrap>IP</th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">CPU </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Mem </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Restarts </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Age </div></th><th class=whitespace-nowrap>Node</th><th class=whitespace-nowrap>Actions</th></tr></thead><tbody>'),od=m('<div class="flex items-center justify-between p-4 font-mono text-sm"style=background:#161b22><div style=color:#8b949e>Showing <!> - <!> of <!> pods</div><div class="flex items-center gap-2"><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>First</button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9> Prev</button><span class="px-3 py-1"style=color:#c9d1d9>Page <!> of </span><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Next </button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Last'),cd=m('<div class="text-red-400 mb-2">Error: '),dd=m("<pre class=whitespace-pre-wrap>"),ud=m('<div class="flex flex-col h-[60vh]"><div class="flex flex-wrap items-center gap-3 mb-3"><select class="px-3 py-2 rounded-lg text-sm"style="background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)"><option value=50>Last 50 lines</option><option value=100>Last 100 lines</option><option value=500>Last 500 lines</option><option value=1000>Last 1000 lines</option></select><input type=text placeholder="Search logs..."class="px-3 py-2 rounded-lg text-sm flex-1 min-w-[150px]"style="background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)"><button class="p-2 rounded-lg hover:bg-[var(--bg-secondary)]"title="Refresh Logs"style=background:var(--bg-tertiary);color:var(--text-secondary)><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button><button class="px-3 py-2 rounded-lg text-sm flex items-center gap-1"style=background:var(--bg-tertiary);color:var(--text-secondary)><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>Download</button></div><div class="flex-1 font-mono text-xs p-4 rounded-lg overflow-auto"style="background:#0d1117;color:#c9d1d9;border:1px solid var(--border-color)">'),hd=m('<div class=space-y-4><div><label class="block text-sm mb-2"style=color:var(--text-secondary)>Local Port</label><input type=number min=1024 max=65535 class="w-full px-4 py-2 rounded-lg"style="background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)"></div><div><label class="block text-sm mb-2"style=color:var(--text-secondary)>Remote Port</label><input type=number min=1 max=65535 class="w-full px-4 py-2 rounded-lg"style="background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)"></div><div class="p-3 rounded-lg text-sm"style=background:var(--bg-tertiary);color:var(--text-muted)>This will forward <code class="px-1 rounded"style=background:var(--bg-secondary)>localhost:</code> to <code class="px-1 rounded"style=background:var(--bg-secondary)>:</code></div><div class="flex gap-2"><button class="btn-secondary flex-1">Cancel</button><button class="btn-primary flex-1">Start'),fd=m('<div class=space-y-4><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>Pods</h1><p style=color:var(--text-secondary)>Manage and monitor your Kubernetes pods</p></div><div class="flex items-center gap-3"><button class=icon-btn title="Refresh Pods"style=background:var(--bg-secondary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div><div class="flex flex-wrap items-center gap-3"><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--accent-primary)"><span class=text-sm style=color:var(--text-secondary)>Total</span><span class="text-xl font-bold"style=color:var(--text-primary)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--success-color)"><span class=text-sm style=color:var(--text-secondary)>Running</span><span class="text-xl font-bold"style=color:var(--success-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--warning-color)"><span class=text-sm style=color:var(--text-secondary)>Pending</span><span class="text-xl font-bold"style=color:var(--warning-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--error-color)"><span class=text-sm style=color:var(--text-secondary)>Failed</span><span class="text-xl font-bold"style=color:var(--error-color)></span></div><div class=flex-1></div><select class="px-3 py-2 rounded-lg text-sm"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><option value=all>All Status</option><option value=running>Running</option><option value=pending>Pending</option><option value=failed>Failed/Error</option><option value=succeeded>Succeeded</option></select><input type=text placeholder=Search... class="px-3 py-2 rounded-lg text-sm w-48"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><select class="px-3 py-2 rounded-lg text-sm"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><option value=20>20</option><option value=50>50</option><option value=100>100</option></select></div><div class="overflow-hidden rounded-lg"style=background:#0d1117>'),pd=m('<div class="flex items-center gap-2 px-3 py-2 rounded-lg"style=background:var(--bg-tertiary)><span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span><span style=color:var(--text-primary)></span><span style=color:var(--text-muted)>localhost:<!>  </span><a target=_blank class="text-xs px-2 py-1 rounded"style=background:var(--accent-primary);color:white>Open</a><button class="text-red-400 hover:text-red-300"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12">'),gd=m('<div class="p-8 text-center"><div class="spinner mx-auto mb-2"></div><span style=color:var(--text-muted)>Loading pods...'),vd=m('<tr><td colspan=10 class="text-center py-8"style=color:var(--text-muted)>No pods found'),md=m('<tr><td><button class="font-medium hover:underline text-xs"style=color:var(--accent-primary)></button></td><td><span></span></td><td></td><td class=font-mono style=color:var(--text-secondary)></td><td><span class="flex items-center"style=color:#ec4899;font-weight:600></span></td><td><span class="flex items-center"style=color:#f59e0b;font-weight:600></span></td><td></td><td></td><td style=color:var(--text-muted)></td><td>'),ms=m("<span style=color:#ef4444;font-size:0.6rem>"),xs=m("<span style=color:#22c55e;font-size:0.6rem>"),xd=m('<div class="spinner mx-auto">'),bd=m('<div class="flex items-center justify-center h-full"><div class=spinner>'),yd=m("<div class=space-y-3>"),$d=m('<div class=space-y-6><div><h3 class="text-sm font-semibold mb-3"style=color:var(--text-secondary)>Basic Information</h3><div class="grid grid-cols-2 md:grid-cols-4 gap-3"><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-xs style=color:var(--text-muted)>Status</div><div><span></span></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-xs style=color:var(--text-muted)>Ready</div><div style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-xs style=color:var(--text-muted)>CPU</div><div style=color:#ec4899;font-weight:600></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-xs style=color:var(--text-muted)>Memory</div><div style=color:#f59e0b;font-weight:600></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-xs style=color:var(--text-muted)>Restarts</div><div style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-xs style=color:var(--text-muted)>Age</div><div style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-xs style=color:var(--text-muted)>IP</div><div style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-xs style=color:var(--text-muted)>Namespace</div><div style=color:var(--text-primary)></div></div></div><div class="mt-3 p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-xs style=color:var(--text-muted)>Node</div><div class="text-sm break-all"style=color:var(--text-primary)></div></div></div><div><h3 class="text-sm font-semibold mb-3"style=color:var(--text-secondary)>Containers</h3></div><div class="grid grid-cols-2 sm:grid-cols-3 gap-3 pt-4"><button class="btn-primary flex items-center justify-center gap-2 px-4 py-3 rounded-lg"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>Shell</button><button class="btn-primary flex items-center justify-center gap-2 px-4 py-3 rounded-lg"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>Port Forward</button><button class="btn-secondary flex items-center justify-center gap-2 px-4 py-3 rounded-lg"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>Logs</button><button class="btn-secondary flex items-center justify-center gap-2 px-4 py-3 rounded-lg"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>YAML</button><button class="btn-secondary flex items-center justify-center gap-2 px-4 py-3 rounded-lg"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>Describe'),_d=m('<div class="p-4 text-center"><div class="spinner mx-auto">'),wd=m('<div class="p-4 rounded-lg border"style=background:var(--bg-secondary);border-color:var(--border-color)><div class="flex items-center justify-between mb-3"><div class="flex items-center gap-2"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"style=color:var(--accent-primary)><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg><span class=font-medium style=color:var(--text-primary)></span></div><span></span></div><div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm"><div><div class="text-xs mb-1"style=color:var(--text-muted)>Image</div><div class="p-2 rounded text-xs font-mono break-all"style=background:var(--bg-tertiary);color:var(--accent-primary)></div></div><div><div class="text-xs mb-1"style=color:var(--text-muted)>Container ID</div><div class="p-2 rounded text-xs font-mono truncate"style=background:var(--bg-tertiary);color:var(--text-secondary)>...</div></div><div><div class="text-xs mb-1"style=color:var(--text-muted)>Restart Count</div><div></div></div><div><div class="text-xs mb-1"style=color:var(--text-muted)>Started At</div><div style=color:var(--text-secondary)>');const kd=()=>{const[e,t]=F(""),[r,n]=F("all"),[l,i]=F("name"),[s,a]=F("asc"),[c,u]=F(1),[d,g]=F(20),[h,f]=F(null),[L,S]=F(!1),[$,x]=F(!1),[M,D]=F(!1),[_,T]=F(!1),[X,V]=F(!1),[P,R]=F(!1),[U,C]=F(8080),[b,k]=F(80),[y,{refetch:z}]=De(Me.listPortForwards),[w,N]=F(""),[v,A]=F(!1),[O,ee]=F(null),[I,j]=F(100),[Y,be]=F(""),[ye,K]=F({}),[ge,we]=F({});let Se=null;const B=E=>{if(!E||E==="-")return 0;const Z=E.match(/^(\d+)/);return Z?parseInt(Z[1]):0},he=(E,Z)=>{const ce=ye()[E]?.[Z],Ne=ge()[E]?.[Z];if(!ce||!Ne)return null;const Te=B(ce),ze=B(Ne);return Te>ze?"up":Te<ze?"down":null},Q=async()=>{try{const E=ye(),Z=await Me.getPodMetrics(Ue());Object.keys(E).length>0&&we(E),K(Z)}catch(E){console.error("Failed to fetch metrics:",E)}};On(()=>{Q(),Se=setInterval(Q,1e4)}),Qt(()=>{Se&&clearInterval(Se)}),De(Me.getNamespaces);const[H,{refetch:G}]=De(Ue,Me.getPods),[re]=De(()=>L()&&h()?{name:h().name,ns:h().namespace}:null,async E=>E&&(await Me.getPodYAML(E.name,E.ns)).yaml||""),oe=E=>{if(!E)return 0;const Z=E.match(/^(\d+)m?$/);return Z?parseInt(Z[1]):0},ie=E=>{if(!E)return 0;const Z=E.match(/^(\d+)(Ki|Mi|Gi)?$/);if(!Z)return 0;const ce=parseInt(Z[1]),Ne=Z[2];return Ne==="Gi"?ce*1024:Ne==="Ki"?ce/1024:ce},$e=E=>{if(!E)return 0;let Z=0;const ce=E.match(/(\d+)d/),Ne=E.match(/(\d+)h/),Te=E.match(/(\d+)m/);return ce&&(Z+=parseInt(ce[1])*24*60),Ne&&(Z+=parseInt(Ne[1])*60),Te&&(Z+=parseInt(Te[1])),Z},fe=Pe(()=>{let E=H()||[];const Z=e().toLowerCase(),ce=r();Z&&(E=E.filter(ze=>ze.name.toLowerCase().includes(Z)||ze.namespace.toLowerCase().includes(Z)||ze.node?.toLowerCase().includes(Z)||ze.ip?.toLowerCase().includes(Z))),ce!=="all"&&(ce==="running"?E=E.filter(ze=>ze.status==="Running"):ce==="pending"?E=E.filter(ze=>ze.status==="Pending"):ce==="failed"?E=E.filter(ze=>["Failed","Error","CrashLoopBackOff"].includes(ze.status)):ce==="succeeded"&&(E=E.filter(ze=>ze.status==="Succeeded")));const Ne=l(),Te=s();return E=[...E].sort((ze,Ce)=>{let Fe=0;switch(Ne){case"name":Fe=ze.name.localeCompare(Ce.name);break;case"namespace":Fe=ze.namespace.localeCompare(Ce.namespace);break;case"status":Fe=ze.status.localeCompare(Ce.status);break;case"cpu":Fe=oe(ze.cpu)-oe(Ce.cpu);break;case"memory":Fe=ie(ze.memory)-ie(Ce.memory);break;case"restarts":Fe=ze.restarts-Ce.restarts;break;case"age":Fe=$e(ze.age)-$e(Ce.age);break}return Te==="asc"?Fe:-Fe}),E}),ne=Pe(()=>Math.ceil(fe().length/d())),ae=Pe(()=>{const E=(c()-1)*d();return fe().slice(E,E+d())}),xe=Pe(()=>{const E=H()||[];return{running:E.filter(Z=>Z.status==="Running").length,pending:E.filter(Z=>Z.status==="Pending").length,failed:E.filter(Z=>["Failed","Error","CrashLoopBackOff"].includes(Z.status)).length,total:E.length}}),ve=E=>{l()===E?a(Z=>Z==="asc"?"desc":"asc"):(i(E),a("asc")),u(1)},J=E=>(()=>{var Z=sd(),ce=Z.firstChild,Ne=ce.nextSibling;return te(Te=>{var ze=l()===E.field&&s()==="asc"?"var(--accent-primary)":"var(--text-muted)",Ce=l()===E.field&&s()==="desc"?"var(--accent-primary)":"var(--text-muted)";return ze!==Te.e&&ke(ce,"color",Te.e=ze),Ce!==Te.t&&ke(Ne,"color",Te.t=Ce),Te},{e:void 0,t:void 0}),Z})(),W=(E,Z)=>{switch(f(E),Z){case"yaml":S(!0);break;case"describe":x(!0);break;case"logs":se(E),D(!0);break;case"details":T(!0);break;case"shell":V(!0);break;case"portforward":R(!0);break}},me=async()=>{const E=h();if(E)try{await Me.startPortForward("pod",E.name,E.namespace,U(),b()),R(!1),z()}catch(Z){console.error("Failed to start port forward:",Z)}},pe=async E=>{try{await Me.stopPortForward(E),z()}catch(Z){console.error("Failed to stop port forward:",Z)}},de=E=>{const Z=E.containers?.[0]||"";window.open(`/api/pod/exec?name=${E.name}&namespace=${E.namespace}&container=${Z}`,"_blank")},se=async E=>{A(!0),ee(null);try{const Z=E.containers?.[0]||"",ce=await fetch(`/api/pod/logs?name=${E.name}&namespace=${E.namespace}&container=${Z}&tail=${I()}`);if(!ce.ok){const Te=await ce.text();throw new Error(Te||`HTTP ${ce.status}`)}const Ne=await ce.json();N(Ne.logs||"No logs available")}catch(Z){ee(Z.message||"Failed to fetch logs"),N("")}finally{A(!1)}},q=Pe(()=>{const E=w(),Z=Y().toLowerCase();return Z?E.split(`
`).filter(ce=>ce.toLowerCase().includes(Z)).join(`
`):E}),ue=()=>{const E=new Blob([w()],{type:"text/plain"}),Z=URL.createObjectURL(E),ce=document.createElement("a");ce.href=Z,ce.download=`${h()?.name}-logs.txt`,ce.click(),URL.revokeObjectURL(Z)},Le=async E=>{if(confirm(`Are you sure you want to delete pod ${E.name}?`))try{await Me.deletePod(E.name,E.namespace),G()}catch(Z){console.error("Failed to delete pod:",Z)}},Ae=async E=>{try{await Me.restartPod(E.name,E.namespace),G()}catch(Z){console.error("Failed to restart pod:",Z)}};return(()=>{var E=fd(),Z=E.firstChild,ce=Z.firstChild,Ne=ce.firstChild;Ne.nextSibling;var Te=ce.nextSibling,ze=Te.firstChild,Ce=Z.nextSibling,Fe=Ce.firstChild,Be=Fe.firstChild,et=Be.nextSibling,Ve=Fe.nextSibling,yt=Ve.firstChild,wt=yt.nextSibling,kt=Ve.nextSibling,Ct=kt.firstChild,jt=Ct.nextSibling,$t=kt.nextSibling,er=$t.firstChild,fr=er.nextSibling,Wn=$t.nextSibling,tr=Wn.nextSibling,_r=tr.nextSibling,wr=_r.nextSibling,en=Ce.nextSibling;return ze.$$click=je=>{const Ge=je.currentTarget;Ge.classList.add("refreshing"),setTimeout(()=>Ge.classList.remove("refreshing"),500),G(),Q()},Fe.$$click=()=>n("all"),o(et,()=>xe().total),Ve.$$click=()=>n("running"),o(wt,()=>xe().running),kt.$$click=()=>n("pending"),o(jt,()=>xe().pending),$t.$$click=()=>n("failed"),o(fr,()=>xe().failed),tr.addEventListener("change",je=>{n(je.currentTarget.value),u(1)}),_r.$$input=je=>{t(je.currentTarget.value),u(1)},wr.addEventListener("change",je=>{g(parseInt(je.currentTarget.value)),u(1)}),o(E,p(le,{get when(){return(y()||[]).length>0},get children(){var je=id(),Ge=je.firstChild,st=Ge.nextSibling;return o(st,p(Ee,{get each(){return y()||[]},children:tt=>(()=>{var nt=pd(),pt=nt.firstChild,it=pt.nextSibling,Je=it.nextSibling,Pt=Je.firstChild,at=Pt.nextSibling;at.nextSibling;var gt=Je.nextSibling,ot=gt.nextSibling;return o(it,()=>tt.name),o(Je,()=>tt.localPort,at),o(Je,()=>tt.remotePort,null),ot.$$click=()=>pe(tt.id),te(()=>Ze(gt,"href",`http://localhost:${tt.localPort}`)),nt})()})),je}}),en),o(en,p(le,{get when(){return!H.loading},get fallback(){return(()=>{var je=gd(),Ge=je.firstChild;return Ge.nextSibling,je})()},get children(){return[(()=>{var je=ad(),Ge=je.firstChild,st=Ge.firstChild,tt=st.firstChild,nt=tt.firstChild,pt=nt.firstChild;pt.firstChild;var it=nt.nextSibling,Je=it.firstChild;Je.firstChild;var Pt=it.nextSibling,at=Pt.nextSibling,gt=at.nextSibling,ot=gt.firstChild;ot.firstChild;var Tt=gt.nextSibling,Ot=Tt.firstChild;Ot.firstChild;var _t=Tt.nextSibling,Nt=_t.firstChild;Nt.firstChild;var Ke=_t.nextSibling,rr=Ke.firstChild;rr.firstChild;var nr=st.nextSibling;return nt.$$click=()=>ve("name"),o(pt,p(J,{field:"name"}),null),it.$$click=()=>ve("status"),o(Je,p(J,{field:"status"}),null),gt.$$click=()=>ve("cpu"),o(ot,p(J,{field:"cpu"}),null),Tt.$$click=()=>ve("memory"),o(Ot,p(J,{field:"memory"}),null),_t.$$click=()=>ve("restarts"),o(Nt,p(J,{field:"restarts"}),null),Ke.$$click=()=>ve("age"),o(rr,p(J,{field:"age"}),null),o(nr,p(Ee,{get each(){return ae()},get fallback(){return(()=>{var He=vd();return He.firstChild,He})()},children:He=>(()=>{var lr=md(),kr=lr.firstChild,tn=kr.firstChild,rn=kr.nextSibling,Cr=rn.firstChild,nn=rn.nextSibling,ln=nn.nextSibling,sn=ln.nextSibling,Sr=sn.firstChild,an=sn.nextSibling,Mr=an.firstChild,Ar=an.nextSibling,on=Ar.nextSibling,pr=on.nextSibling,Xn=pr.nextSibling;return tn.$$click=()=>W(He,"details"),o(tn,(()=>{var rt=Re(()=>He.name.length>40);return()=>rt()?He.name.slice(0,37)+"...":He.name})()),o(Cr,()=>He.status),o(nn,()=>He.ready),o(ln,()=>He.ip||"-"),o(Sr,()=>ye()[`${He.namespace}/${He.name}`]?.cpu||He.cpu||"-",null),o(Sr,(()=>{var rt=Re(()=>he(`${He.namespace}/${He.name}`,"cpu")==="up");return()=>rt()&&ms()})(),null),o(Sr,(()=>{var rt=Re(()=>he(`${He.namespace}/${He.name}`,"cpu")==="down");return()=>rt()&&xs()})(),null),o(Mr,()=>ye()[`${He.namespace}/${He.name}`]?.memory||He.memory||"-",null),o(Mr,(()=>{var rt=Re(()=>he(`${He.namespace}/${He.name}`,"memory")==="up");return()=>rt()&&ms()})(),null),o(Mr,(()=>{var rt=Re(()=>he(`${He.namespace}/${He.name}`,"memory")==="down");return()=>rt()&&xs()})(),null),o(Ar,()=>He.restarts),o(on,()=>He.age),o(pr,()=>He.node),o(Xn,p(Ht,{actions:[{label:"Shell",icon:"shell",onClick:()=>de(He)},{label:"Port Forward",icon:"portforward",onClick:()=>W(He,"portforward")},{label:"View Logs",icon:"logs",onClick:()=>W(He,"logs")},{label:"View YAML",icon:"yaml",onClick:()=>W(He,"yaml")},{label:"Describe",icon:"describe",onClick:()=>W(He,"describe")},{label:"Restart",icon:"restart",onClick:()=>Ae(He),divider:!0},{label:"Delete",icon:"delete",onClick:()=>Le(He),variant:"danger"}]})),te(rt=>{var zr=`badge ${He.status==="Running"?"badge-success":He.status==="Pending"?"badge-warning":He.status==="Succeeded"?"badge-info":"badge-error"}`,Lr=He.restarts>0?"text-yellow-400 font-semibold":"";return zr!==rt.e&&Ie(Cr,rt.e=zr),Lr!==rt.t&&Ie(Ar,rt.t=Lr),rt},{e:void 0,t:void 0}),lr})()})),je})(),p(le,{get when(){return ne()>1},get children(){var je=od(),Ge=je.firstChild,st=Ge.firstChild,tt=st.nextSibling,nt=tt.nextSibling,pt=nt.nextSibling,it=pt.nextSibling,Je=it.nextSibling;Je.nextSibling;var Pt=Ge.nextSibling,at=Pt.firstChild,gt=at.nextSibling,ot=gt.nextSibling,Tt=ot.firstChild,Ot=Tt.nextSibling;Ot.nextSibling;var _t=ot.nextSibling,Nt=_t.nextSibling;return o(Ge,()=>(c()-1)*d()+1,tt),o(Ge,()=>Math.min(c()*d(),fe().length),pt),o(Ge,()=>fe().length,Je),at.$$click=()=>u(1),gt.$$click=()=>u(Ke=>Math.max(1,Ke-1)),o(ot,c,Ot),o(ot,ne,null),_t.$$click=()=>u(Ke=>Math.min(ne(),Ke+1)),Nt.$$click=()=>u(ne()),te(Ke=>{var rr=c()===1,nr=c()===1,He=c()===ne(),lr=c()===ne();return rr!==Ke.e&&(at.disabled=Ke.e=rr),nr!==Ke.t&&(gt.disabled=Ke.t=nr),He!==Ke.a&&(_t.disabled=Ke.a=He),lr!==Ke.o&&(Nt.disabled=Ke.o=lr),Ke},{e:void 0,t:void 0,a:void 0,o:void 0}),je}})]}})),o(E,p(Qe,{get isOpen(){return L()},onClose:()=>S(!1),get title(){return`YAML: ${h()?.name}`},size:"xl",get children(){return p(le,{get when(){return!re.loading},get fallback(){return xd()},get children(){return p(Ft,{get yaml(){return re()||""},get title(){return h()?.name}})}})}}),null),o(E,p(zt,{get isOpen(){return $()},onClose:()=>x(!1),resourceType:"pod",get name(){return h()?.name||""},get namespace(){return h()?.namespace}}),null),o(E,p(Qe,{get isOpen(){return M()},onClose:()=>D(!1),get title(){return`Logs: ${h()?.name}`},size:"xl",get children(){var je=ud(),Ge=je.firstChild,st=Ge.firstChild,tt=st.nextSibling,nt=tt.nextSibling,pt=nt.nextSibling,it=Ge.nextSibling;return st.addEventListener("change",Je=>{j(parseInt(Je.currentTarget.value)),h()&&se(h())}),tt.$$input=Je=>be(Je.currentTarget.value),nt.$$click=()=>h()&&se(h()),pt.$$click=ue,o(it,p(le,{get when(){return!v()},get fallback(){return bd()},get children(){return[p(le,{get when(){return O()},get children(){var Je=cd();return Je.firstChild,o(Je,O,null),Je}}),(()=>{var Je=dd();return o(Je,()=>q()||"No logs available"),Je})()]}})),te(()=>st.value=I()),te(()=>tt.value=Y()),je}}),null),o(E,p(Qe,{get isOpen(){return _()},onClose:()=>T(!1),get title(){return`Pod: ${h()?.name}`},size:"xl",get children(){return p(le,{get when(){return h()},get children(){return(()=>{const[je]=De(()=>h()?{name:h().name,ns:h().namespace}:null,async Ge=>Ge?Me.getPodDetails(Ge.name,Ge.ns):null);return(()=>{var Ge=$d(),st=Ge.firstChild,tt=st.firstChild,nt=tt.nextSibling,pt=nt.firstChild,it=pt.firstChild,Je=it.nextSibling,Pt=Je.firstChild,at=pt.nextSibling,gt=at.firstChild,ot=gt.nextSibling,Tt=at.nextSibling,Ot=Tt.firstChild,_t=Ot.nextSibling,Nt=Tt.nextSibling,Ke=Nt.firstChild,rr=Ke.nextSibling,nr=Nt.nextSibling,He=nr.firstChild,lr=He.nextSibling,kr=nr.nextSibling,tn=kr.firstChild,rn=tn.nextSibling,Cr=kr.nextSibling,nn=Cr.firstChild,ln=nn.nextSibling,sn=Cr.nextSibling,Sr=sn.firstChild,an=Sr.nextSibling,Mr=nt.nextSibling,Ar=Mr.firstChild,on=Ar.nextSibling,pr=st.nextSibling;pr.firstChild;var Xn=pr.nextSibling,rt=Xn.firstChild,zr=rt.nextSibling,Lr=zr.nextSibling,Ol=Lr.nextSibling,ta=Ol.nextSibling;return o(Pt,()=>h()?.status),o(ot,()=>h()?.ready),o(_t,()=>h()?.cpu||"-"),o(rr,()=>h()?.memory||"-"),o(lr,()=>h()?.restarts),o(rn,()=>h()?.age),o(ln,()=>h()?.ip||"-"),o(an,()=>h()?.namespace),o(on,()=>h()?.node),o(pr,p(le,{get when(){return Re(()=>!je.loading)()&&je()?.containers},get fallback(){return _d()},get children(){var Vl=yd();return o(Vl,p(Ee,{get each(){return je()?.containers||[]},children:Dt=>(()=>{var Ul=wd(),Yl=Ul.firstChild,Gl=Yl.firstChild,ra=Gl.firstChild,na=ra.nextSibling,ql=Gl.nextSibling,la=Yl.nextSibling,Jl=la.firstChild,sa=Jl.firstChild,ia=sa.nextSibling,Wl=Jl.nextSibling,aa=Wl.firstChild,Kn=aa.nextSibling,oa=Kn.firstChild,Xl=Wl.nextSibling,ca=Xl.firstChild,Kl=ca.nextSibling,da=Xl.nextSibling,ua=da.firstChild,ha=ua.nextSibling;return o(na,()=>Dt.name),o(ql,()=>Dt.state||(Dt.ready?"Running":"Not Ready")),o(ia,()=>Dt.image),o(Kn,()=>Dt.containerID?.split("//")[1]?.substring(0,24)||"-",oa),o(Kl,()=>Dt.restartCount),o(ha,()=>Dt.startedAt||"-"),te(sr=>{var Ql=`badge ${Dt.ready?"badge-success":"badge-error"}`,Zl=Dt.containerID,es=Dt.restartCount>0?"var(--warning-color)":"var(--text-primary)";return Ql!==sr.e&&Ie(ql,sr.e=Ql),Zl!==sr.t&&Ze(Kn,"title",sr.t=Zl),es!==sr.a&&ke(Kl,"color",sr.a=es),sr},{e:void 0,t:void 0,a:void 0}),Ul})()})),Vl}}),null),rt.$$click=()=>de(h()),zr.$$click=()=>{T(!1),W(h(),"portforward")},Lr.$$click=()=>{T(!1),W(h(),"logs")},Ol.$$click=()=>{T(!1),W(h(),"yaml")},ta.$$click=()=>{T(!1),W(h(),"describe")},te(()=>Ie(Pt,`badge ${h()?.status==="Running"?"badge-success":"badge-warning"}`)),Ge})()})()}})}}),null),o(E,p(Qe,{get isOpen(){return P()},onClose:()=>R(!1),get title(){return`Port Forward: ${h()?.name}`},size:"sm",get children(){var je=hd(),Ge=je.firstChild,st=Ge.firstChild,tt=st.nextSibling,nt=Ge.nextSibling,pt=nt.firstChild,it=pt.nextSibling,Je=nt.nextSibling,Pt=Je.firstChild,at=Pt.nextSibling;at.firstChild;var gt=at.nextSibling,ot=gt.nextSibling,Tt=ot.firstChild,Ot=Je.nextSibling,_t=Ot.firstChild,Nt=_t.nextSibling;return tt.$$input=Ke=>C(parseInt(Ke.currentTarget.value)||8080),it.$$input=Ke=>k(parseInt(Ke.currentTarget.value)||80),o(at,U,null),o(ot,()=>h()?.name,Tt),o(ot,b,null),_t.$$click=()=>R(!1),Nt.$$click=me,te(()=>tt.value=U()),te(()=>it.value=b()),je}}),null),te(()=>tr.value=r()),te(()=>_r.value=e()),te(()=>wr.value=d()),E})()};qe(["click","input"]);var Cd=m('<span class="ml-1 inline-flex flex-col text-xs leading-none"><span></span><span>'),Sd=m('<div class=overflow-x-auto><table class="data-table terminal-table"><thead><tr><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Name </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Namespace </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Ready </div></th><th class=whitespace-nowrap>Up-to-date</th><th class=whitespace-nowrap>Available</th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Age </div></th><th class=whitespace-nowrap>Actions</th></tr></thead><tbody>'),Md=m('<div class="flex items-center justify-between p-4 font-mono text-sm"style=background:#161b22><div style=color:#8b949e>Showing <!> - <!> of <!> deployments</div><div class="flex items-center gap-2"><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>First</button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9> Prev</button><span class="px-3 py-1"style=color:#c9d1d9>Page <!> of </span><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Next </button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Last'),Ad=m('<div class=space-y-4><div><label class="block text-sm mb-2"style=color:var(--text-secondary)>Replicas</label><input type=number min=0 max=100 class="w-full px-4 py-2 rounded-lg"style="background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)"></div><div class="flex gap-2"><button class="btn-secondary flex-1">Cancel</button><button class="btn-primary flex-1">Scale'),zd=m('<div class=space-y-4><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>Deployments</h1><p style=color:var(--text-secondary)>Manage application deployments</p></div><div class="flex items-center gap-3"><button class=icon-btn title="Refresh Deployments"style=background:var(--bg-secondary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div><div class="flex flex-wrap items-center gap-3"><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--accent-primary)"><span class=text-sm style=color:var(--text-secondary)>Total</span><span class="text-xl font-bold"style=color:var(--text-primary)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--success-color)"><span class=text-sm style=color:var(--text-secondary)>Ready</span><span class="text-xl font-bold"style=color:var(--success-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--warning-color)"><span class=text-sm style=color:var(--text-secondary)>Partial</span><span class="text-xl font-bold"style=color:var(--warning-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--error-color)"><span class=text-sm style=color:var(--text-secondary)>Unavailable</span><span class="text-xl font-bold"style=color:var(--error-color)></span></div><div class=flex-1></div><input type=text placeholder=Search... class="px-3 py-2 rounded-lg text-sm w-48"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><select class="px-3 py-2 rounded-lg text-sm"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><option value=20>20</option><option value=50>50</option><option value=100>100</option></select></div><div class="overflow-hidden rounded-lg"style=background:#0d1117>'),Ld=m('<div class="p-8 text-center"><div class="spinner mx-auto mb-2"></div><span style=color:var(--text-muted)>Loading deployments...'),Pd=m('<tr><td colspan=7 class="text-center py-8"style=color:var(--text-muted)>No deployments found'),Td=m('<tr><td><button class="font-medium hover:underline text-left"style=color:var(--accent-primary)></button></td><td></td><td><span></span></td><td></td><td></td><td></td><td>'),Nd=m('<div class="spinner mx-auto">');const Dd=()=>{const[e,t]=F(""),[r,n]=F("name"),[l,i]=F("asc"),[s,a]=F(1),[c,u]=F(20),[d,g]=F(null),[h,f]=F(!1),[L,S]=F(!1),[$,x]=F(!1),[M,D]=F(1),[_,{refetch:T}]=De(Ue,Me.getDeployments),[X]=De(()=>h()&&d()?{name:d().name,ns:d().namespace}:null,async v=>v&&(await Me.getDeploymentYAML(v.name,v.ns)).yaml||""),V=v=>{if(!v)return 0;let A=0;const O=v.match(/(\d+)d/),ee=v.match(/(\d+)h/),I=v.match(/(\d+)m/);return O&&(A+=parseInt(O[1])*24*60),ee&&(A+=parseInt(ee[1])*60),I&&(A+=parseInt(I[1])),A},P=Pe(()=>{let v=_()||[];const A=e().toLowerCase();A&&(v=v.filter(I=>I.name.toLowerCase().includes(A)||I.namespace.toLowerCase().includes(A)));const O=r(),ee=l();return v=[...v].sort((I,j)=>{let Y=0;switch(O){case"name":Y=I.name.localeCompare(j.name);break;case"namespace":Y=I.namespace.localeCompare(j.namespace);break;case"ready":Y=I.ready.localeCompare(j.ready);break;case"age":Y=V(I.age)-V(j.age);break}return ee==="asc"?Y:-Y}),v}),R=Pe(()=>Math.ceil(P().length/c())),U=Pe(()=>{const v=(s()-1)*c();return P().slice(v,v+c())}),C=Pe(()=>{const v=_()||[];return{total:v.length,ready:v.filter(A=>{const O=A.ready?.split("/")||["0","0"];return O[0]===O[1]&&parseInt(O[0])>0}).length,partial:v.filter(A=>{const O=A.ready?.split("/")||["0","0"];return O[0]!==O[1]&&parseInt(O[0])>0}).length,unavailable:v.filter(A=>{const O=A.ready?.split("/")||["0","0"];return parseInt(O[0])===0}).length}}),b=v=>{r()===v?i(A=>A==="asc"?"desc":"asc"):(n(v),i("asc")),a(1)},k=v=>(()=>{var A=Cd(),O=A.firstChild,ee=O.nextSibling;return te(I=>{var j=r()===v.field&&l()==="asc"?"var(--accent-primary)":"var(--text-muted)",Y=r()===v.field&&l()==="desc"?"var(--accent-primary)":"var(--text-muted)";return j!==I.e&&ke(O,"color",I.e=j),Y!==I.t&&ke(ee,"color",I.t=Y),I},{e:void 0,t:void 0}),A})(),y=async v=>{try{await Me.restartDeployment(v.name,v.namespace),T()}catch(A){console.error("Failed to restart deployment:",A)}},z=async()=>{const v=d();if(v)try{await Me.scaleDeployment(v.name,v.namespace,M()),x(!1),T()}catch(A){console.error("Failed to scale deployment:",A)}},w=async v=>{if(confirm(`Are you sure you want to delete deployment ${v.name}?`))try{await Me.deleteDeployment(v.name,v.namespace),T()}catch(A){console.error("Failed to delete deployment:",A)}},N=v=>{g(v);const A=v.ready?.split("/")||["1","1"];D(parseInt(A[1])||1),x(!0)};return(()=>{var v=zd(),A=v.firstChild,O=A.firstChild,ee=O.firstChild;ee.nextSibling;var I=O.nextSibling,j=I.firstChild,Y=A.nextSibling,be=Y.firstChild,ye=be.firstChild,K=ye.nextSibling,ge=be.nextSibling,we=ge.firstChild,Se=we.nextSibling,B=ge.nextSibling,he=B.firstChild,Q=he.nextSibling,H=B.nextSibling,G=H.firstChild,re=G.nextSibling,oe=H.nextSibling,ie=oe.nextSibling,$e=ie.nextSibling,fe=Y.nextSibling;return j.$$click=ne=>{const ae=ne.currentTarget;ae.classList.add("refreshing"),setTimeout(()=>ae.classList.remove("refreshing"),500),T()},o(K,()=>C().total),o(Se,()=>C().ready),o(Q,()=>C().partial),o(re,()=>C().unavailable),ie.$$input=ne=>{t(ne.currentTarget.value),a(1)},$e.addEventListener("change",ne=>{u(parseInt(ne.currentTarget.value)),a(1)}),o(fe,p(le,{get when(){return!_.loading},get fallback(){return(()=>{var ne=Ld(),ae=ne.firstChild;return ae.nextSibling,ne})()},get children(){return[(()=>{var ne=Sd(),ae=ne.firstChild,xe=ae.firstChild,ve=xe.firstChild,J=ve.firstChild,W=J.firstChild;W.firstChild;var me=J.nextSibling,pe=me.firstChild;pe.firstChild;var de=me.nextSibling,se=de.firstChild;se.firstChild;var q=de.nextSibling,ue=q.nextSibling,Le=ue.nextSibling,Ae=Le.firstChild;Ae.firstChild;var E=xe.nextSibling;return J.$$click=()=>b("name"),o(W,p(k,{field:"name"}),null),me.$$click=()=>b("namespace"),o(pe,p(k,{field:"namespace"}),null),de.$$click=()=>b("ready"),o(se,p(k,{field:"ready"}),null),Le.$$click=()=>b("age"),o(Ae,p(k,{field:"age"}),null),o(E,p(Ee,{get each(){return U()},get fallback(){return(()=>{var Z=Pd();return Z.firstChild,Z})()},children:Z=>(()=>{var ce=Td(),Ne=ce.firstChild,Te=Ne.firstChild,ze=Ne.nextSibling,Ce=ze.nextSibling,Fe=Ce.firstChild,Be=Ce.nextSibling,et=Be.nextSibling,Ve=et.nextSibling,yt=Ve.nextSibling;return Te.$$click=()=>{g(Z),S(!0)},o(Te,(()=>{var wt=Re(()=>Z.name.length>40);return()=>wt()?Z.name.slice(0,37)+"...":Z.name})()),o(ze,()=>Z.namespace),o(Fe,()=>Z.ready),o(Be,()=>Z.upToDate),o(et,()=>Z.available),o(Ve,()=>Z.age),o(yt,p(Ht,{actions:[{label:"Scale",icon:"scale",onClick:()=>N(Z)},{label:"Restart",icon:"restart",onClick:()=>y(Z)},{label:"View YAML",icon:"yaml",onClick:()=>{g(Z),f(!0)}},{label:"Delete",icon:"delete",onClick:()=>w(Z),variant:"danger",divider:!0}]})),te(()=>Ie(Fe,`badge ${Z.ready.split("/")[0]===Z.ready.split("/")[1]?"badge-success":"badge-warning"}`)),ce})()})),ne})(),p(le,{get when(){return R()>1},get children(){var ne=Md(),ae=ne.firstChild,xe=ae.firstChild,ve=xe.nextSibling,J=ve.nextSibling,W=J.nextSibling,me=W.nextSibling,pe=me.nextSibling;pe.nextSibling;var de=ae.nextSibling,se=de.firstChild,q=se.nextSibling,ue=q.nextSibling,Le=ue.firstChild,Ae=Le.nextSibling;Ae.nextSibling;var E=ue.nextSibling,Z=E.nextSibling;return o(ae,()=>(s()-1)*c()+1,ve),o(ae,()=>Math.min(s()*c(),P().length),W),o(ae,()=>P().length,pe),se.$$click=()=>a(1),q.$$click=()=>a(ce=>Math.max(1,ce-1)),o(ue,s,Ae),o(ue,R,null),E.$$click=()=>a(ce=>Math.min(R(),ce+1)),Z.$$click=()=>a(R()),te(ce=>{var Ne=s()===1,Te=s()===1,ze=s()===R(),Ce=s()===R();return Ne!==ce.e&&(se.disabled=ce.e=Ne),Te!==ce.t&&(q.disabled=ce.t=Te),ze!==ce.a&&(E.disabled=ce.a=ze),Ce!==ce.o&&(Z.disabled=ce.o=Ce),ce},{e:void 0,t:void 0,a:void 0,o:void 0}),ne}})]}})),o(v,p(Qe,{get isOpen(){return h()},onClose:()=>f(!1),get title(){return`YAML: ${d()?.name}`},size:"xl",get children(){return p(le,{get when(){return!X.loading},get fallback(){return Nd()},get children(){return p(Ft,{get yaml(){return X()||""},get title(){return d()?.name}})}})}}),null),o(v,p(zt,{get isOpen(){return L()},onClose:()=>S(!1),resourceType:"deployment",get name(){return d()?.name||""},get namespace(){return d()?.namespace}}),null),o(v,p(Qe,{get isOpen(){return $()},onClose:()=>x(!1),get title(){return`Scale: ${d()?.name}`},size:"sm",get children(){var ne=Ad(),ae=ne.firstChild,xe=ae.firstChild,ve=xe.nextSibling,J=ae.nextSibling,W=J.firstChild,me=W.nextSibling;return ve.$$input=pe=>D(parseInt(pe.currentTarget.value)||0),W.$$click=()=>x(!1),me.$$click=z,te(()=>ve.value=M()),ne}}),null),te(()=>ie.value=e()),te(()=>$e.value=c()),v})()};qe(["click","input"]);var Rd=m('<span class="ml-1 inline-flex flex-col text-xs leading-none"><span></span><span>'),Id=m('<div class=overflow-x-auto><table class="data-table terminal-table"><thead><tr><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Name </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Namespace </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Ready </div></th><th class=whitespace-nowrap>Replicas</th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Age </div></th><th class=whitespace-nowrap>Actions</th></tr></thead><tbody>'),Ed=m('<div class="flex items-center justify-between p-4 font-mono text-sm"style=background:#161b22><div style=color:#8b949e>Showing <!> - <!> of <!> StatefulSets</div><div class="flex items-center gap-2"><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>First</button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9> Prev</button><span class="px-3 py-1"style=color:#c9d1d9>Page <!> of </span><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Next </button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Last'),Fd=m('<div class=space-y-4><div><label class="block text-sm mb-2"style=color:var(--text-secondary)>Replicas</label><input type=number min=0 max=100 class="w-full px-4 py-2 rounded-lg"style="background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)"></div><div class="flex gap-2"><button class="btn-secondary flex-1">Cancel</button><button class="btn-primary flex-1">Scale'),Hd=m('<div class=space-y-4><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>StatefulSets</h1><p style=color:var(--text-secondary)>Manage stateful applications</p></div><div class="flex items-center gap-3"><button class=icon-btn title="Refresh StatefulSets"style=background:var(--bg-secondary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div><div class="flex flex-wrap items-center gap-3"><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--accent-primary)"><span class=text-sm style=color:var(--text-secondary)>Total</span><span class="text-xl font-bold"style=color:var(--text-primary)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--success-color)"><span class=text-sm style=color:var(--text-secondary)>Ready</span><span class="text-xl font-bold"style=color:var(--success-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--warning-color)"><span class=text-sm style=color:var(--text-secondary)>Partial</span><span class="text-xl font-bold"style=color:var(--warning-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--error-color)"><span class=text-sm style=color:var(--text-secondary)>Unavailable</span><span class="text-xl font-bold"style=color:var(--error-color)></span></div><div class=flex-1></div><input type=text placeholder=Search... class="px-3 py-2 rounded-lg text-sm w-48"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><select class="px-3 py-2 rounded-lg text-sm"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><option value=20>20</option><option value=50>50</option><option value=100>100</option></select></div><div class="overflow-hidden rounded-lg"style=background:#0d1117>'),Bd=m('<div class="p-8 text-center"><div class="spinner mx-auto mb-2"></div><span style=color:var(--text-muted)>Loading StatefulSets...'),jd=m('<tr><td colspan=6 class="text-center py-8"style=color:var(--text-muted)>No StatefulSets found'),Od=m('<tr><td><button class="font-medium hover:underline text-left"style=color:var(--accent-primary)></button></td><td></td><td><span></span></td><td></td><td></td><td>'),Vd=m('<div class="spinner mx-auto">');const Ud=()=>{const[e,t]=F(""),[r,n]=F("name"),[l,i]=F("asc"),[s,a]=F(1),[c,u]=F(20),[d,g]=F(null),[h,f]=F(!1),[L,S]=F(!1),[$,x]=F(!1),[M,D]=F(1),[_,{refetch:T}]=De(Ue,Me.getStatefulSets),[X]=De(()=>h()&&d()?{name:d().name,ns:d().namespace}:null,async v=>v&&(await Me.getStatefulSetYAML(v.name,v.ns)).yaml||""),V=v=>{if(!v)return 0;let A=0;const O=v.match(/(\d+)d/),ee=v.match(/(\d+)h/),I=v.match(/(\d+)m/);return O&&(A+=parseInt(O[1])*24*60),ee&&(A+=parseInt(ee[1])*60),I&&(A+=parseInt(I[1])),A},P=Pe(()=>{let v=_()||[];const A=e().toLowerCase();A&&(v=v.filter(I=>I.name.toLowerCase().includes(A)||I.namespace.toLowerCase().includes(A)));const O=r(),ee=l();return v=[...v].sort((I,j)=>{let Y=0;switch(O){case"name":Y=I.name.localeCompare(j.name);break;case"namespace":Y=I.namespace.localeCompare(j.namespace);break;case"ready":Y=I.ready.localeCompare(j.ready);break;case"age":Y=V(I.age)-V(j.age);break}return ee==="asc"?Y:-Y}),v}),R=Pe(()=>Math.ceil(P().length/c())),U=Pe(()=>{const v=(s()-1)*c();return P().slice(v,v+c())}),C=Pe(()=>{const v=_()||[];return{total:v.length,ready:v.filter(A=>{const O=A.ready?.split("/")||["0","0"];return O[0]===O[1]&&parseInt(O[0])>0}).length,partial:v.filter(A=>{const O=A.ready?.split("/")||["0","0"];return O[0]!==O[1]&&parseInt(O[0])>0}).length,unavailable:v.filter(A=>{const O=A.ready?.split("/")||["0","0"];return parseInt(O[0])===0}).length}}),b=v=>{r()===v?i(A=>A==="asc"?"desc":"asc"):(n(v),i("asc")),a(1)},k=v=>(()=>{var A=Rd(),O=A.firstChild,ee=O.nextSibling;return te(I=>{var j=r()===v.field&&l()==="asc"?"var(--accent-primary)":"var(--text-muted)",Y=r()===v.field&&l()==="desc"?"var(--accent-primary)":"var(--text-muted)";return j!==I.e&&ke(O,"color",I.e=j),Y!==I.t&&ke(ee,"color",I.t=Y),I},{e:void 0,t:void 0}),A})(),y=async v=>{try{await Me.restartStatefulSet(v.name,v.namespace),T()}catch(A){console.error("Failed to restart StatefulSet:",A)}},z=async()=>{const v=d();if(v)try{await Me.scaleStatefulSet(v.name,v.namespace,M()),x(!1),T()}catch(A){console.error("Failed to scale StatefulSet:",A)}},w=async v=>{if(confirm(`Are you sure you want to delete StatefulSet ${v.name}?`))try{await Me.deleteStatefulSet(v.name,v.namespace),T()}catch(A){console.error("Failed to delete StatefulSet:",A)}},N=v=>{g(v);const A=v.ready?.split("/")||["1","1"];D(parseInt(A[1])||1),x(!0)};return(()=>{var v=Hd(),A=v.firstChild,O=A.firstChild,ee=O.firstChild;ee.nextSibling;var I=O.nextSibling,j=I.firstChild,Y=A.nextSibling,be=Y.firstChild,ye=be.firstChild,K=ye.nextSibling,ge=be.nextSibling,we=ge.firstChild,Se=we.nextSibling,B=ge.nextSibling,he=B.firstChild,Q=he.nextSibling,H=B.nextSibling,G=H.firstChild,re=G.nextSibling,oe=H.nextSibling,ie=oe.nextSibling,$e=ie.nextSibling,fe=Y.nextSibling;return j.$$click=ne=>{const ae=ne.currentTarget;ae.classList.add("refreshing"),setTimeout(()=>ae.classList.remove("refreshing"),500),T()},o(K,()=>C().total),o(Se,()=>C().ready),o(Q,()=>C().partial),o(re,()=>C().unavailable),ie.$$input=ne=>{t(ne.currentTarget.value),a(1)},$e.addEventListener("change",ne=>{u(parseInt(ne.currentTarget.value)),a(1)}),o(fe,p(le,{get when(){return!_.loading},get fallback(){return(()=>{var ne=Bd(),ae=ne.firstChild;return ae.nextSibling,ne})()},get children(){return[(()=>{var ne=Id(),ae=ne.firstChild,xe=ae.firstChild,ve=xe.firstChild,J=ve.firstChild,W=J.firstChild;W.firstChild;var me=J.nextSibling,pe=me.firstChild;pe.firstChild;var de=me.nextSibling,se=de.firstChild;se.firstChild;var q=de.nextSibling,ue=q.nextSibling,Le=ue.firstChild;Le.firstChild;var Ae=xe.nextSibling;return J.$$click=()=>b("name"),o(W,p(k,{field:"name"}),null),me.$$click=()=>b("namespace"),o(pe,p(k,{field:"namespace"}),null),de.$$click=()=>b("ready"),o(se,p(k,{field:"ready"}),null),ue.$$click=()=>b("age"),o(Le,p(k,{field:"age"}),null),o(Ae,p(Ee,{get each(){return U()},get fallback(){return(()=>{var E=jd();return E.firstChild,E})()},children:E=>(()=>{var Z=Od(),ce=Z.firstChild,Ne=ce.firstChild,Te=ce.nextSibling,ze=Te.nextSibling,Ce=ze.firstChild,Fe=ze.nextSibling,Be=Fe.nextSibling,et=Be.nextSibling;return Ne.$$click=()=>{g(E),S(!0)},o(Ne,(()=>{var Ve=Re(()=>E.name.length>40);return()=>Ve()?E.name.slice(0,37)+"...":E.name})()),o(Te,()=>E.namespace),o(Ce,()=>E.ready),o(Fe,()=>E.replicas),o(Be,()=>E.age),o(et,p(Ht,{actions:[{label:"Scale",icon:"scale",onClick:()=>N(E)},{label:"Restart",icon:"restart",onClick:()=>y(E)},{label:"View YAML",icon:"yaml",onClick:()=>{g(E),f(!0)}},{label:"Delete",icon:"delete",onClick:()=>w(E),variant:"danger",divider:!0}]})),te(()=>Ie(Ce,`badge ${E.ready.split("/")[0]===E.ready.split("/")[1]?"badge-success":"badge-warning"}`)),Z})()})),ne})(),p(le,{get when(){return R()>1},get children(){var ne=Ed(),ae=ne.firstChild,xe=ae.firstChild,ve=xe.nextSibling,J=ve.nextSibling,W=J.nextSibling,me=W.nextSibling,pe=me.nextSibling;pe.nextSibling;var de=ae.nextSibling,se=de.firstChild,q=se.nextSibling,ue=q.nextSibling,Le=ue.firstChild,Ae=Le.nextSibling;Ae.nextSibling;var E=ue.nextSibling,Z=E.nextSibling;return o(ae,()=>(s()-1)*c()+1,ve),o(ae,()=>Math.min(s()*c(),P().length),W),o(ae,()=>P().length,pe),se.$$click=()=>a(1),q.$$click=()=>a(ce=>Math.max(1,ce-1)),o(ue,s,Ae),o(ue,R,null),E.$$click=()=>a(ce=>Math.min(R(),ce+1)),Z.$$click=()=>a(R()),te(ce=>{var Ne=s()===1,Te=s()===1,ze=s()===R(),Ce=s()===R();return Ne!==ce.e&&(se.disabled=ce.e=Ne),Te!==ce.t&&(q.disabled=ce.t=Te),ze!==ce.a&&(E.disabled=ce.a=ze),Ce!==ce.o&&(Z.disabled=ce.o=Ce),ce},{e:void 0,t:void 0,a:void 0,o:void 0}),ne}})]}})),o(v,p(Qe,{get isOpen(){return h()},onClose:()=>f(!1),get title(){return`YAML: ${d()?.name}`},size:"xl",get children(){return p(le,{get when(){return!X.loading},get fallback(){return Vd()},get children(){return p(Ft,{get yaml(){return X()||""},get title(){return d()?.name}})}})}}),null),o(v,p(zt,{get isOpen(){return L()},onClose:()=>S(!1),resourceType:"statefulset",get name(){return d()?.name||""},get namespace(){return d()?.namespace}}),null),o(v,p(Qe,{get isOpen(){return $()},onClose:()=>x(!1),get title(){return`Scale: ${d()?.name}`},size:"sm",get children(){var ne=Fd(),ae=ne.firstChild,xe=ae.firstChild,ve=xe.nextSibling,J=ae.nextSibling,W=J.firstChild,me=W.nextSibling;return ve.$$input=pe=>D(parseInt(pe.currentTarget.value)||0),W.$$click=()=>x(!1),me.$$click=z,te(()=>ve.value=M()),ne}}),null),te(()=>ie.value=e()),te(()=>$e.value=c()),v})()};qe(["click","input"]);var Yd=m('<span class="ml-1 inline-flex flex-col text-xs leading-none"><span></span><span>'),Gd=m('<div class=overflow-x-auto><table class="data-table terminal-table"><thead><tr><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Name </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Namespace </div></th><th class=whitespace-nowrap>Desired</th><th class=whitespace-nowrap>Current</th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Ready </div></th><th class=whitespace-nowrap>Available</th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Age </div></th><th class=whitespace-nowrap>Actions</th></tr></thead><tbody>'),qd=m('<div class="flex items-center justify-between p-4 font-mono text-sm"style=background:#161b22><div style=color:#8b949e>Showing <!> - <!> of <!> DaemonSets</div><div class="flex items-center gap-2"><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>First</button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9> Prev</button><span class="px-3 py-1"style=color:#c9d1d9>Page <!> of </span><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Next </button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Last'),Jd=m('<div class=space-y-4><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>DaemonSets</h1><p style=color:var(--text-secondary)>Node-level workloads running on all or selected nodes</p></div><div class="flex items-center gap-3"><button class=icon-btn title="Refresh DaemonSets"style=background:var(--bg-secondary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div><div class="flex flex-wrap items-center gap-3"><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--accent-primary)"><span class=text-sm style=color:var(--text-secondary)>Total</span><span class="text-xl font-bold"style=color:var(--text-primary)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--success-color)"><span class=text-sm style=color:var(--text-secondary)>Ready</span><span class="text-xl font-bold"style=color:var(--success-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--warning-color)"><span class=text-sm style=color:var(--text-secondary)>Partial</span><span class="text-xl font-bold"style=color:var(--warning-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--error-color)"><span class=text-sm style=color:var(--text-secondary)>Unavailable</span><span class="text-xl font-bold"style=color:var(--error-color)></span></div><div class=flex-1></div><input type=text placeholder=Search... class="px-3 py-2 rounded-lg text-sm w-48"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><select class="px-3 py-2 rounded-lg text-sm"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><option value=20>20</option><option value=50>50</option><option value=100>100</option></select></div><div class="overflow-hidden rounded-lg"style=background:#0d1117>'),Wd=m('<div class="p-8 text-center"><div class="spinner mx-auto mb-2"></div><span style=color:var(--text-muted)>Loading DaemonSets...'),Xd=m('<tr><td colspan=8 class="text-center py-8"style=color:var(--text-muted)>No DaemonSets found'),Kd=m('<tr><td><button class="font-medium hover:underline text-left"style=color:var(--accent-primary)></button></td><td></td><td></td><td></td><td><span></span></td><td></td><td></td><td>'),Qd=m('<div class="spinner mx-auto">');const Zd=()=>{const[e,t]=F(""),[r,n]=F("name"),[l,i]=F("asc"),[s,a]=F(1),[c,u]=F(20),[d,g]=F(null),[h,f]=F(!1),[L,S]=F(!1),[$,{refetch:x}]=De(Ue,Me.getDaemonSets),[M]=De(()=>h()&&d()?{name:d().name,ns:d().namespace}:null,async b=>b&&(await Me.getDaemonSetYAML(b.name,b.ns)).yaml||""),D=b=>{if(!b)return 0;let k=0;const y=b.match(/(\d+)d/),z=b.match(/(\d+)h/),w=b.match(/(\d+)m/);return y&&(k+=parseInt(y[1])*24*60),z&&(k+=parseInt(z[1])*60),w&&(k+=parseInt(w[1])),k},_=Pe(()=>{let b=$()||[];const k=e().toLowerCase();k&&(b=b.filter(w=>w.name.toLowerCase().includes(k)||w.namespace.toLowerCase().includes(k)));const y=r(),z=l();return b=[...b].sort((w,N)=>{let v=0;switch(y){case"name":v=w.name.localeCompare(N.name);break;case"namespace":v=w.namespace.localeCompare(N.namespace);break;case"ready":v=w.ready-N.ready;break;case"age":v=D(w.age)-D(N.age);break}return z==="asc"?v:-v}),b}),T=Pe(()=>Math.ceil(_().length/c())),X=Pe(()=>{const b=(s()-1)*c();return _().slice(b,b+c())}),V=Pe(()=>{const b=$()||[];return{total:b.length,ready:b.filter(k=>k.ready===k.desired&&k.ready>0).length,partial:b.filter(k=>k.ready!==k.desired&&k.ready>0).length,unavailable:b.filter(k=>k.ready===0).length}}),P=b=>{r()===b?i(k=>k==="asc"?"desc":"asc"):(n(b),i("asc")),a(1)},R=b=>(()=>{var k=Yd(),y=k.firstChild,z=y.nextSibling;return te(w=>{var N=r()===b.field&&l()==="asc"?"var(--accent-primary)":"var(--text-muted)",v=r()===b.field&&l()==="desc"?"var(--accent-primary)":"var(--text-muted)";return N!==w.e&&ke(y,"color",w.e=N),v!==w.t&&ke(z,"color",w.t=v),w},{e:void 0,t:void 0}),k})(),U=async b=>{try{await Me.restartDaemonSet(b.name,b.namespace),x()}catch(k){console.error("Failed to restart DaemonSet:",k)}},C=async b=>{if(confirm(`Are you sure you want to delete DaemonSet ${b.name}?`))try{await Me.deleteDaemonSet(b.name,b.namespace),x()}catch(k){console.error("Failed to delete DaemonSet:",k)}};return(()=>{var b=Jd(),k=b.firstChild,y=k.firstChild,z=y.firstChild;z.nextSibling;var w=y.nextSibling,N=w.firstChild,v=k.nextSibling,A=v.firstChild,O=A.firstChild,ee=O.nextSibling,I=A.nextSibling,j=I.firstChild,Y=j.nextSibling,be=I.nextSibling,ye=be.firstChild,K=ye.nextSibling,ge=be.nextSibling,we=ge.firstChild,Se=we.nextSibling,B=ge.nextSibling,he=B.nextSibling,Q=he.nextSibling,H=v.nextSibling;return N.$$click=G=>{const re=G.currentTarget;re.classList.add("refreshing"),setTimeout(()=>re.classList.remove("refreshing"),500),x()},o(ee,()=>V().total),o(Y,()=>V().ready),o(K,()=>V().partial),o(Se,()=>V().unavailable),he.$$input=G=>{t(G.currentTarget.value),a(1)},Q.addEventListener("change",G=>{u(parseInt(G.currentTarget.value)),a(1)}),o(H,p(le,{get when(){return!$.loading},get fallback(){return(()=>{var G=Wd(),re=G.firstChild;return re.nextSibling,G})()},get children(){return[(()=>{var G=Gd(),re=G.firstChild,oe=re.firstChild,ie=oe.firstChild,$e=ie.firstChild,fe=$e.firstChild;fe.firstChild;var ne=$e.nextSibling,ae=ne.firstChild;ae.firstChild;var xe=ne.nextSibling,ve=xe.nextSibling,J=ve.nextSibling,W=J.firstChild;W.firstChild;var me=J.nextSibling,pe=me.nextSibling,de=pe.firstChild;de.firstChild;var se=oe.nextSibling;return $e.$$click=()=>P("name"),o(fe,p(R,{field:"name"}),null),ne.$$click=()=>P("namespace"),o(ae,p(R,{field:"namespace"}),null),J.$$click=()=>P("ready"),o(W,p(R,{field:"ready"}),null),pe.$$click=()=>P("age"),o(de,p(R,{field:"age"}),null),o(se,p(Ee,{get each(){return X()},get fallback(){return(()=>{var q=Xd();return q.firstChild,q})()},children:q=>(()=>{var ue=Kd(),Le=ue.firstChild,Ae=Le.firstChild,E=Le.nextSibling,Z=E.nextSibling,ce=Z.nextSibling,Ne=ce.nextSibling,Te=Ne.firstChild,ze=Ne.nextSibling,Ce=ze.nextSibling,Fe=Ce.nextSibling;return Ae.$$click=()=>{g(q),S(!0)},o(Ae,(()=>{var Be=Re(()=>q.name.length>40);return()=>Be()?q.name.slice(0,37)+"...":q.name})()),o(E,()=>q.namespace),o(Z,()=>q.desired),o(ce,()=>q.current),o(Te,()=>q.ready),o(ze,()=>q.available),o(Ce,()=>q.age),o(Fe,p(Ht,{actions:[{label:"Restart",icon:"restart",onClick:()=>U(q)},{label:"View YAML",icon:"yaml",onClick:()=>{g(q),f(!0)}},{label:"Delete",icon:"delete",onClick:()=>C(q),variant:"danger",divider:!0}]})),te(()=>Ie(Te,`badge ${q.ready===q.desired?"badge-success":"badge-warning"}`)),ue})()})),G})(),p(le,{get when(){return T()>1},get children(){var G=qd(),re=G.firstChild,oe=re.firstChild,ie=oe.nextSibling,$e=ie.nextSibling,fe=$e.nextSibling,ne=fe.nextSibling,ae=ne.nextSibling;ae.nextSibling;var xe=re.nextSibling,ve=xe.firstChild,J=ve.nextSibling,W=J.nextSibling,me=W.firstChild,pe=me.nextSibling;pe.nextSibling;var de=W.nextSibling,se=de.nextSibling;return o(re,()=>(s()-1)*c()+1,ie),o(re,()=>Math.min(s()*c(),_().length),fe),o(re,()=>_().length,ae),ve.$$click=()=>a(1),J.$$click=()=>a(q=>Math.max(1,q-1)),o(W,s,pe),o(W,T,null),de.$$click=()=>a(q=>Math.min(T(),q+1)),se.$$click=()=>a(T()),te(q=>{var ue=s()===1,Le=s()===1,Ae=s()===T(),E=s()===T();return ue!==q.e&&(ve.disabled=q.e=ue),Le!==q.t&&(J.disabled=q.t=Le),Ae!==q.a&&(de.disabled=q.a=Ae),E!==q.o&&(se.disabled=q.o=E),q},{e:void 0,t:void 0,a:void 0,o:void 0}),G}})]}})),o(b,p(Qe,{get isOpen(){return h()},onClose:()=>f(!1),get title(){return`YAML: ${d()?.name}`},size:"xl",get children(){return p(le,{get when(){return!M.loading},get fallback(){return Qd()},get children(){return p(Ft,{get yaml(){return M()||""},get title(){return d()?.name}})}})}}),null),o(b,p(zt,{get isOpen(){return L()},onClose:()=>S(!1),resourceType:"daemonset",get name(){return d()?.name||""},get namespace(){return d()?.namespace}}),null),te(()=>he.value=e()),te(()=>Q.value=c()),b})()};qe(["click","input"]);var eu=m('<span class="ml-1 inline-flex flex-col text-xs leading-none"><span></span><span>'),tu=m('<div class=overflow-x-auto><table class="data-table terminal-table"><thead><tr><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Name </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Namespace </div></th><th class=whitespace-nowrap>Schedule</th><th class=whitespace-nowrap>Suspend</th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Active </div></th><th class=whitespace-nowrap>Last Schedule</th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Age </div></th><th class=whitespace-nowrap>Actions</th></tr></thead><tbody>'),ru=m('<div class="flex items-center justify-between p-4 font-mono text-sm"style=background:#161b22><div style=color:#8b949e>Showing <!> - <!> of <!> CronJobs</div><div class="flex items-center gap-2"><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>First</button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9> Prev</button><span class="px-3 py-1"style=color:#c9d1d9>Page <!> of </span><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Next </button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Last'),nu=m('<div class=space-y-4><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>CronJobs</h1><p style=color:var(--text-secondary)>Scheduled job management</p></div><div class="flex items-center gap-3"><button class=icon-btn title="Refresh CronJobs"style=background:var(--bg-secondary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div><div class="flex flex-wrap items-center gap-3"><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--accent-primary)"><span class=text-sm style=color:var(--text-secondary)>Total</span><span class="text-xl font-bold"style=color:var(--text-primary)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--success-color)"><span class=text-sm style=color:var(--text-secondary)>Active</span><span class="text-xl font-bold"style=color:var(--success-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--warning-color)"><span class=text-sm style=color:var(--text-secondary)>Suspended</span><span class="text-xl font-bold"style=color:var(--warning-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid #3b82f6"><span class=text-sm style=color:var(--text-secondary)>Scheduled</span><span class="text-xl font-bold"style=color:#3b82f6></span></div><div class=flex-1></div><input type=text placeholder=Search... class="px-3 py-2 rounded-lg text-sm w-48"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><select class="px-3 py-2 rounded-lg text-sm"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><option value=20>20</option><option value=50>50</option><option value=100>100</option></select></div><div class="overflow-hidden rounded-lg"style=background:#0d1117>'),lu=m('<div class="p-8 text-center"><div class="spinner mx-auto mb-2"></div><span style=color:var(--text-muted)>Loading CronJobs...'),su=m('<tr><td colspan=8 class="text-center py-8"style=color:var(--text-muted)>No CronJobs found'),iu=m('<tr><td><button class="font-medium hover:underline text-left"style=color:var(--accent-primary)></button></td><td></td><td><code class="px-2 py-1 rounded text-xs"style=background:var(--bg-tertiary)></code></td><td><span></span></td><td></td><td></td><td></td><td>'),au=m('<div class="spinner mx-auto">');const ou=()=>{const[e,t]=F(""),[r,n]=F("name"),[l,i]=F("asc"),[s,a]=F(1),[c,u]=F(20),[d,g]=F(null),[h,f]=F(!1),[L,S]=F(!1),[$,{refetch:x}]=De(Ue,Me.getCronJobs),[M]=De(()=>h()&&d()?{name:d().name,ns:d().namespace}:null,async k=>k&&(await Me.getCronJobYAML(k.name,k.ns)).yaml||""),D=k=>{if(!k)return 0;let y=0;const z=k.match(/(\d+)d/),w=k.match(/(\d+)h/),N=k.match(/(\d+)m/);return z&&(y+=parseInt(z[1])*24*60),w&&(y+=parseInt(w[1])*60),N&&(y+=parseInt(N[1])),y},_=Pe(()=>{let k=$()||[];const y=e().toLowerCase();y&&(k=k.filter(N=>N.name.toLowerCase().includes(y)||N.namespace.toLowerCase().includes(y)));const z=r(),w=l();return k=[...k].sort((N,v)=>{let A=0;switch(z){case"name":A=N.name.localeCompare(v.name);break;case"namespace":A=N.namespace.localeCompare(v.namespace);break;case"active":A=N.active-v.active;break;case"age":A=D(N.age)-D(v.age);break}return w==="asc"?A:-A}),k}),T=Pe(()=>Math.ceil(_().length/c())),X=Pe(()=>{const k=(s()-1)*c();return _().slice(k,k+c())}),V=Pe(()=>{const k=$()||[];return{total:k.length,active:k.filter(y=>y.active>0).length,suspended:k.filter(y=>y.suspend).length,scheduled:k.filter(y=>!y.suspend&&y.active===0).length}}),P=k=>{r()===k?i(y=>y==="asc"?"desc":"asc"):(n(k),i("asc")),a(1)},R=k=>(()=>{var y=eu(),z=y.firstChild,w=z.nextSibling;return te(N=>{var v=r()===k.field&&l()==="asc"?"var(--accent-primary)":"var(--text-muted)",A=r()===k.field&&l()==="desc"?"var(--accent-primary)":"var(--text-muted)";return v!==N.e&&ke(z,"color",N.e=v),A!==N.t&&ke(w,"color",N.t=A),N},{e:void 0,t:void 0}),y})(),U=async k=>{try{await Me.triggerCronJob(k.name,k.namespace),x()}catch(y){console.error("Failed to trigger CronJob:",y)}},C=async k=>{try{await Me.suspendCronJob(k.name,k.namespace,!k.suspend),x()}catch(y){console.error("Failed to toggle suspend CronJob:",y)}},b=async k=>{if(confirm(`Are you sure you want to delete CronJob ${k.name}?`))try{await Me.deleteCronJob(k.name,k.namespace),x()}catch(y){console.error("Failed to delete CronJob:",y)}};return(()=>{var k=nu(),y=k.firstChild,z=y.firstChild,w=z.firstChild;w.nextSibling;var N=z.nextSibling,v=N.firstChild,A=y.nextSibling,O=A.firstChild,ee=O.firstChild,I=ee.nextSibling,j=O.nextSibling,Y=j.firstChild,be=Y.nextSibling,ye=j.nextSibling,K=ye.firstChild,ge=K.nextSibling,we=ye.nextSibling,Se=we.firstChild,B=Se.nextSibling,he=we.nextSibling,Q=he.nextSibling,H=Q.nextSibling,G=A.nextSibling;return v.$$click=re=>{const oe=re.currentTarget;oe.classList.add("refreshing"),setTimeout(()=>oe.classList.remove("refreshing"),500),x()},o(I,()=>V().total),o(be,()=>V().active),o(ge,()=>V().suspended),o(B,()=>V().scheduled),Q.$$input=re=>{t(re.currentTarget.value),a(1)},H.addEventListener("change",re=>{u(parseInt(re.currentTarget.value)),a(1)}),o(G,p(le,{get when(){return!$.loading},get fallback(){return(()=>{var re=lu(),oe=re.firstChild;return oe.nextSibling,re})()},get children(){return[(()=>{var re=tu(),oe=re.firstChild,ie=oe.firstChild,$e=ie.firstChild,fe=$e.firstChild,ne=fe.firstChild;ne.firstChild;var ae=fe.nextSibling,xe=ae.firstChild;xe.firstChild;var ve=ae.nextSibling,J=ve.nextSibling,W=J.nextSibling,me=W.firstChild;me.firstChild;var pe=W.nextSibling,de=pe.nextSibling,se=de.firstChild;se.firstChild;var q=ie.nextSibling;return fe.$$click=()=>P("name"),o(ne,p(R,{field:"name"}),null),ae.$$click=()=>P("namespace"),o(xe,p(R,{field:"namespace"}),null),W.$$click=()=>P("active"),o(me,p(R,{field:"active"}),null),de.$$click=()=>P("age"),o(se,p(R,{field:"age"}),null),o(q,p(Ee,{get each(){return X()},get fallback(){return(()=>{var ue=su();return ue.firstChild,ue})()},children:ue=>(()=>{var Le=iu(),Ae=Le.firstChild,E=Ae.firstChild,Z=Ae.nextSibling,ce=Z.nextSibling,Ne=ce.firstChild,Te=ce.nextSibling,ze=Te.firstChild,Ce=Te.nextSibling,Fe=Ce.nextSibling,Be=Fe.nextSibling,et=Be.nextSibling;return E.$$click=()=>{g(ue),S(!0)},o(E,(()=>{var Ve=Re(()=>ue.name.length>40);return()=>Ve()?ue.name.slice(0,37)+"...":ue.name})()),o(Z,()=>ue.namespace),o(Ne,()=>ue.schedule),o(ze,()=>ue.suspend?"Yes":"No"),o(Ce,()=>ue.active),o(Fe,()=>ue.lastSchedule||"Never"),o(Be,()=>ue.age),o(et,p(Ht,{get actions(){return[{label:"Trigger",icon:"restart",onClick:()=>U(ue)},{label:ue.suspend?"Resume":"Suspend",icon:"restart",onClick:()=>C(ue)},{label:"View YAML",icon:"yaml",onClick:()=>{g(ue),f(!0)}},{label:"Delete",icon:"delete",onClick:()=>b(ue),variant:"danger",divider:!0}]}})),te(()=>Ie(ze,`badge ${ue.suspend?"badge-warning":"badge-success"}`)),Le})()})),re})(),p(le,{get when(){return T()>1},get children(){var re=ru(),oe=re.firstChild,ie=oe.firstChild,$e=ie.nextSibling,fe=$e.nextSibling,ne=fe.nextSibling,ae=ne.nextSibling,xe=ae.nextSibling;xe.nextSibling;var ve=oe.nextSibling,J=ve.firstChild,W=J.nextSibling,me=W.nextSibling,pe=me.firstChild,de=pe.nextSibling;de.nextSibling;var se=me.nextSibling,q=se.nextSibling;return o(oe,()=>(s()-1)*c()+1,$e),o(oe,()=>Math.min(s()*c(),_().length),ne),o(oe,()=>_().length,xe),J.$$click=()=>a(1),W.$$click=()=>a(ue=>Math.max(1,ue-1)),o(me,s,de),o(me,T,null),se.$$click=()=>a(ue=>Math.min(T(),ue+1)),q.$$click=()=>a(T()),te(ue=>{var Le=s()===1,Ae=s()===1,E=s()===T(),Z=s()===T();return Le!==ue.e&&(J.disabled=ue.e=Le),Ae!==ue.t&&(W.disabled=ue.t=Ae),E!==ue.a&&(se.disabled=ue.a=E),Z!==ue.o&&(q.disabled=ue.o=Z),ue},{e:void 0,t:void 0,a:void 0,o:void 0}),re}})]}})),o(k,p(Qe,{get isOpen(){return h()},onClose:()=>f(!1),get title(){return`YAML: ${d()?.name}`},size:"xl",get children(){return p(le,{get when(){return!M.loading},get fallback(){return au()},get children(){return p(Ft,{get yaml(){return M()||""},get title(){return d()?.name}})}})}}),null),o(k,p(zt,{get isOpen(){return L()},onClose:()=>S(!1),resourceType:"cronjob",get name(){return d()?.name||""},get namespace(){return d()?.namespace}}),null),te(()=>Q.value=e()),te(()=>H.value=c()),k})()};qe(["click","input"]);var cu=m('<span class="ml-1 inline-flex flex-col text-xs leading-none"><span></span><span>'),du=m('<div class=overflow-x-auto><table class="data-table terminal-table"><thead><tr><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Name </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Namespace </div></th><th class=whitespace-nowrap>Completions</th><th class=whitespace-nowrap>Duration</th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Age </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Status </div></th><th class=whitespace-nowrap>Actions</th></tr></thead><tbody>'),uu=m('<div class="flex items-center justify-between p-4 font-mono text-sm"style=background:#161b22><div style=color:#8b949e>Showing <!> - <!> of <!> jobs</div><div class="flex items-center gap-2"><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>First</button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9> Prev</button><span class="px-3 py-1"style=color:#c9d1d9>Page <!> of </span><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Next </button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Last'),hu=m('<div class=space-y-4><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>Jobs</h1><p style=color:var(--text-secondary)>One-time task execution</p></div><div class="flex items-center gap-3"><button class=icon-btn title="Refresh Jobs"style=background:var(--bg-secondary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div><div class="flex flex-wrap items-center gap-3"><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--accent-primary)"><span class=text-sm style=color:var(--text-secondary)>Total</span><span class="text-xl font-bold"style=color:var(--text-primary)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--success-color)"><span class=text-sm style=color:var(--text-secondary)>Complete</span><span class="text-xl font-bold"style=color:var(--success-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid #3b82f6"><span class=text-sm style=color:var(--text-secondary)>Running</span><span class="text-xl font-bold"style=color:#3b82f6></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--error-color)"><span class=text-sm style=color:var(--text-secondary)>Failed</span><span class="text-xl font-bold"style=color:var(--error-color)></span></div><div class=flex-1></div><input type=text placeholder=Search... class="px-3 py-2 rounded-lg text-sm w-48"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><select class="px-3 py-2 rounded-lg text-sm"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><option value=20>20</option><option value=50>50</option><option value=100>100</option></select></div><div class="overflow-hidden rounded-lg"style=background:#0d1117>'),fu=m('<div class="p-8 text-center"><div class="spinner mx-auto mb-2"></div><span style=color:var(--text-muted)>Loading jobs...'),pu=m('<tr><td colspan=7 class="text-center py-8"style=color:var(--text-muted)>No jobs found'),gu=m('<tr><td><button class="font-medium hover:underline text-left"style=color:var(--accent-primary)></button></td><td></td><td></td><td></td><td></td><td><span></span></td><td>'),vu=m('<div class="spinner mx-auto">');const mu=()=>{const[e,t]=F(""),[r,n]=F("name"),[l,i]=F("asc"),[s,a]=F(1),[c,u]=F(20),[d,g]=F(null),[h,f]=F(!1),[L,S]=F(!1),[$,{refetch:x}]=De(Ue,Me.getJobs),[M]=De(()=>h()&&d()?{name:d().name,ns:d().namespace}:null,async C=>C&&(await Me.getJobYAML(C.name,C.ns)).yaml||""),D=C=>{if(!C)return 0;let b=0;const k=C.match(/(\d+)d/),y=C.match(/(\d+)h/),z=C.match(/(\d+)m/);return k&&(b+=parseInt(k[1])*24*60),y&&(b+=parseInt(y[1])*60),z&&(b+=parseInt(z[1])),b},_=Pe(()=>{let C=$()||[];const b=e().toLowerCase();b&&(C=C.filter(z=>z.name.toLowerCase().includes(b)||z.namespace.toLowerCase().includes(b)));const k=r(),y=l();return C=[...C].sort((z,w)=>{let N=0;switch(k){case"name":N=z.name.localeCompare(w.name);break;case"namespace":N=z.namespace.localeCompare(w.namespace);break;case"status":N=z.status.localeCompare(w.status);break;case"age":N=D(z.age)-D(w.age);break}return y==="asc"?N:-N}),C}),T=Pe(()=>Math.ceil(_().length/c())),X=Pe(()=>{const C=(s()-1)*c();return _().slice(C,C+c())}),V=Pe(()=>{const C=$()||[];return{total:C.length,complete:C.filter(b=>b.status==="Complete").length,running:C.filter(b=>b.status==="Running"||b.status==="Active").length,failed:C.filter(b=>b.status==="Failed").length}}),P=C=>{r()===C?i(b=>b==="asc"?"desc":"asc"):(n(C),i("asc")),a(1)},R=C=>(()=>{var b=cu(),k=b.firstChild,y=k.nextSibling;return te(z=>{var w=r()===C.field&&l()==="asc"?"var(--accent-primary)":"var(--text-muted)",N=r()===C.field&&l()==="desc"?"var(--accent-primary)":"var(--text-muted)";return w!==z.e&&ke(k,"color",z.e=w),N!==z.t&&ke(y,"color",z.t=N),z},{e:void 0,t:void 0}),b})(),U=async C=>{if(confirm(`Are you sure you want to delete job ${C.name}?`))try{await Me.deleteJob(C.name,C.namespace),x()}catch(b){console.error("Failed to delete job:",b)}};return(()=>{var C=hu(),b=C.firstChild,k=b.firstChild,y=k.firstChild;y.nextSibling;var z=k.nextSibling,w=z.firstChild,N=b.nextSibling,v=N.firstChild,A=v.firstChild,O=A.nextSibling,ee=v.nextSibling,I=ee.firstChild,j=I.nextSibling,Y=ee.nextSibling,be=Y.firstChild,ye=be.nextSibling,K=Y.nextSibling,ge=K.firstChild,we=ge.nextSibling,Se=K.nextSibling,B=Se.nextSibling,he=B.nextSibling,Q=N.nextSibling;return w.$$click=H=>{const G=H.currentTarget;G.classList.add("refreshing"),setTimeout(()=>G.classList.remove("refreshing"),500),x()},o(O,()=>V().total),o(j,()=>V().complete),o(ye,()=>V().running),o(we,()=>V().failed),B.$$input=H=>{t(H.currentTarget.value),a(1)},he.addEventListener("change",H=>{u(parseInt(H.currentTarget.value)),a(1)}),o(Q,p(le,{get when(){return!$.loading},get fallback(){return(()=>{var H=fu(),G=H.firstChild;return G.nextSibling,H})()},get children(){return[(()=>{var H=du(),G=H.firstChild,re=G.firstChild,oe=re.firstChild,ie=oe.firstChild,$e=ie.firstChild;$e.firstChild;var fe=ie.nextSibling,ne=fe.firstChild;ne.firstChild;var ae=fe.nextSibling,xe=ae.nextSibling,ve=xe.nextSibling,J=ve.firstChild;J.firstChild;var W=ve.nextSibling,me=W.firstChild;me.firstChild;var pe=re.nextSibling;return ie.$$click=()=>P("name"),o($e,p(R,{field:"name"}),null),fe.$$click=()=>P("namespace"),o(ne,p(R,{field:"namespace"}),null),ve.$$click=()=>P("age"),o(J,p(R,{field:"age"}),null),W.$$click=()=>P("status"),o(me,p(R,{field:"status"}),null),o(pe,p(Ee,{get each(){return X()},get fallback(){return(()=>{var de=pu();return de.firstChild,de})()},children:de=>(()=>{var se=gu(),q=se.firstChild,ue=q.firstChild,Le=q.nextSibling,Ae=Le.nextSibling,E=Ae.nextSibling,Z=E.nextSibling,ce=Z.nextSibling,Ne=ce.firstChild,Te=ce.nextSibling;return ue.$$click=()=>{g(de),S(!0)},o(ue,(()=>{var ze=Re(()=>de.name.length>40);return()=>ze()?de.name.slice(0,37)+"...":de.name})()),o(Le,()=>de.namespace),o(Ae,()=>de.completions),o(E,()=>de.duration||"-"),o(Z,()=>de.age),o(Ne,()=>de.status),o(Te,p(Ht,{actions:[{label:"View YAML",icon:"yaml",onClick:()=>{g(de),f(!0)}},{label:"Delete",icon:"delete",onClick:()=>U(de),variant:"danger",divider:!0}]})),te(()=>Ie(Ne,`badge ${de.status==="Complete"?"badge-success":de.status==="Failed"?"badge-error":"badge-warning"}`)),se})()})),H})(),p(le,{get when(){return T()>1},get children(){var H=uu(),G=H.firstChild,re=G.firstChild,oe=re.nextSibling,ie=oe.nextSibling,$e=ie.nextSibling,fe=$e.nextSibling,ne=fe.nextSibling;ne.nextSibling;var ae=G.nextSibling,xe=ae.firstChild,ve=xe.nextSibling,J=ve.nextSibling,W=J.firstChild,me=W.nextSibling;me.nextSibling;var pe=J.nextSibling,de=pe.nextSibling;return o(G,()=>(s()-1)*c()+1,oe),o(G,()=>Math.min(s()*c(),_().length),$e),o(G,()=>_().length,ne),xe.$$click=()=>a(1),ve.$$click=()=>a(se=>Math.max(1,se-1)),o(J,s,me),o(J,T,null),pe.$$click=()=>a(se=>Math.min(T(),se+1)),de.$$click=()=>a(T()),te(se=>{var q=s()===1,ue=s()===1,Le=s()===T(),Ae=s()===T();return q!==se.e&&(xe.disabled=se.e=q),ue!==se.t&&(ve.disabled=se.t=ue),Le!==se.a&&(pe.disabled=se.a=Le),Ae!==se.o&&(de.disabled=se.o=Ae),se},{e:void 0,t:void 0,a:void 0,o:void 0}),H}})]}})),o(C,p(Qe,{get isOpen(){return h()},onClose:()=>f(!1),get title(){return`YAML: ${d()?.name}`},size:"xl",get children(){return p(le,{get when(){return!M.loading},get fallback(){return vu()},get children(){return p(Ft,{get yaml(){return M()||""},get title(){return d()?.name}})}})}}),null),o(C,p(zt,{get isOpen(){return L()},onClose:()=>S(!1),resourceType:"job",get name(){return d()?.name||""},get namespace(){return d()?.namespace}}),null),te(()=>B.value=e()),te(()=>he.value=c()),C})()};qe(["click","input"]);var xu=m('<span class="ml-1 inline-flex flex-col text-xs leading-none"><span></span><span>'),bu=m('<div class="card p-4"><h3 class="font-semibold mb-3 flex items-center gap-2"style=color:var(--text-primary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>Active Port Forwards</h3><div class="flex flex-wrap gap-2">'),yu=m('<div class=overflow-x-auto><table class="data-table terminal-table"><thead><tr><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Name </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Namespace </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Type </div></th><th class=whitespace-nowrap>Cluster IP</th><th class=whitespace-nowrap>External IP</th><th class=whitespace-nowrap>Ports</th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Age </div></th><th class=whitespace-nowrap>Actions</th></tr></thead><tbody>'),$u=m('<div class="flex items-center justify-between p-4 font-mono text-sm"style=background:#161b22><div style=color:#8b949e>Showing <!> - <!> of <!> services</div><div class="flex items-center gap-2"><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>First</button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9> Prev</button><span class="px-3 py-1"style=color:#c9d1d9>Page <!> of </span><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Next </button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Last'),_u=m('<div class=space-y-4><div><label class="block text-sm mb-2"style=color:var(--text-secondary)>Local Port</label><input type=number min=1024 max=65535 class="w-full px-4 py-2 rounded-lg"style="background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)"></div><div><label class="block text-sm mb-2"style=color:var(--text-secondary)>Remote Port</label><input type=number min=1 max=65535 class="w-full px-4 py-2 rounded-lg"style="background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)"></div><div class="p-3 rounded-lg text-sm"style=background:var(--bg-tertiary);color:var(--text-muted)>This will forward <code>localhost:</code> to <code>:</code></div><div class="flex gap-2"><button class="btn-secondary flex-1">Cancel</button><button class="btn-primary flex-1">Start'),wu=m('<div class=space-y-4><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>Services</h1><p style=color:var(--text-secondary)>Network services and load balancers</p></div><div class="flex items-center gap-3"><button class=icon-btn title="Refresh Services"style=background:var(--bg-secondary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div><div class="flex flex-wrap items-center gap-3"><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--accent-primary)"><span class=text-sm style=color:var(--text-secondary)>Total</span><span class="text-xl font-bold"style=color:var(--text-primary)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--success-color)"><span class=text-sm style=color:var(--text-secondary)>ClusterIP</span><span class="text-xl font-bold"style=color:var(--success-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--warning-color)"><span class=text-sm style=color:var(--text-secondary)>NodePort</span><span class="text-xl font-bold"style=color:var(--warning-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid #3b82f6"><span class=text-sm style=color:var(--text-secondary)>LoadBalancer</span><span class="text-xl font-bold"style=color:#3b82f6></span></div><div class=flex-1></div><input type=text placeholder=Search... class="px-3 py-2 rounded-lg text-sm w-48"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><select class="px-3 py-2 rounded-lg text-sm"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><option value=20>20</option><option value=50>50</option><option value=100>100</option></select></div><div class="overflow-hidden rounded-lg"style=background:#0d1117>'),ku=m('<div class="flex items-center gap-2 px-3 py-2 rounded-lg"style=background:var(--bg-tertiary)><span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span><span style=color:var(--text-primary)></span><span style=color:var(--text-muted)>localhost:<!>  </span><a target=_blank class="text-xs px-2 py-1 rounded"style=background:var(--accent-primary);color:white>Open</a><button class="text-red-400 hover:text-red-300"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12">'),Cu=m('<div class="p-8 text-center"><div class="spinner mx-auto mb-2"></div><span style=color:var(--text-muted)>Loading services...'),Su=m('<tr><td colspan=8 class="text-center py-8"style=color:var(--text-muted)>No services found'),Mu=m('<tr><td><button class="font-medium hover:underline text-left"style=color:var(--accent-primary)></button></td><td></td><td><span></span></td><td class="font-mono text-sm"></td><td class="font-mono text-sm"></td><td class=text-sm></td><td></td><td>'),Au=m('<div class="spinner mx-auto">');const zu=()=>{const[e,t]=F(""),[r,n]=F("name"),[l,i]=F("asc"),[s,a]=F(1),[c,u]=F(20),[d,g]=F(null),[h,f]=F(!1),[L,S]=F(!1),[$,x]=F(!1),[M,D]=F(8080),[_,T]=F(80),[X,{refetch:V}]=De(Ue,Me.getServices),[P,{refetch:R}]=De(Me.listPortForwards),[U]=De(()=>h()&&d()?{name:d().name,ns:d().namespace}:null,async I=>I&&(await Me.getServiceYAML(I.name,I.ns)).yaml||""),C=I=>{if(!I)return 0;let j=0;const Y=I.match(/(\d+)d/),be=I.match(/(\d+)h/),ye=I.match(/(\d+)m/);return Y&&(j+=parseInt(Y[1])*24*60),be&&(j+=parseInt(be[1])*60),ye&&(j+=parseInt(ye[1])),j},b=Pe(()=>{let I=X()||[];const j=e().toLowerCase();j&&(I=I.filter(ye=>ye.name.toLowerCase().includes(j)||ye.namespace.toLowerCase().includes(j)||ye.type.toLowerCase().includes(j)));const Y=r(),be=l();return I=[...I].sort((ye,K)=>{let ge=0;switch(Y){case"name":ge=ye.name.localeCompare(K.name);break;case"namespace":ge=ye.namespace.localeCompare(K.namespace);break;case"type":ge=ye.type.localeCompare(K.type);break;case"age":ge=C(ye.age)-C(K.age);break}return be==="asc"?ge:-ge}),I}),k=Pe(()=>Math.ceil(b().length/c())),y=Pe(()=>{const I=(s()-1)*c();return b().slice(I,I+c())}),z=Pe(()=>{const I=X()||[];return{total:I.length,clusterIP:I.filter(j=>j.type==="ClusterIP").length,nodePort:I.filter(j=>j.type==="NodePort").length,loadBalancer:I.filter(j=>j.type==="LoadBalancer").length}}),w=I=>{r()===I?i(j=>j==="asc"?"desc":"asc"):(n(I),i("asc")),a(1)},N=I=>(()=>{var j=xu(),Y=j.firstChild,be=Y.nextSibling;return te(ye=>{var K=r()===I.field&&l()==="asc"?"var(--accent-primary)":"var(--text-muted)",ge=r()===I.field&&l()==="desc"?"var(--accent-primary)":"var(--text-muted)";return K!==ye.e&&ke(Y,"color",ye.e=K),ge!==ye.t&&ke(be,"color",ye.t=ge),ye},{e:void 0,t:void 0}),j})(),v=async()=>{const I=d();if(I)try{await Me.startPortForward("service",I.name,I.namespace,M(),_()),x(!1),R()}catch(j){console.error("Failed to start port forward:",j)}},A=async I=>{try{await Me.stopPortForward(I.id),R()}catch(j){console.error("Failed to stop port forward:",j)}},O=I=>{g(I);const j=I.ports?.match(/(\d+)/);j&&T(parseInt(j[1])),x(!0)},ee=async I=>{if(confirm(`Are you sure you want to delete service ${I.name}?`))try{await Me.deleteService(I.name,I.namespace),V()}catch(j){console.error("Failed to delete service:",j)}};return(()=>{var I=wu(),j=I.firstChild,Y=j.firstChild,be=Y.firstChild;be.nextSibling;var ye=Y.nextSibling,K=ye.firstChild,ge=j.nextSibling,we=ge.firstChild,Se=we.firstChild,B=Se.nextSibling,he=we.nextSibling,Q=he.firstChild,H=Q.nextSibling,G=he.nextSibling,re=G.firstChild,oe=re.nextSibling,ie=G.nextSibling,$e=ie.firstChild,fe=$e.nextSibling,ne=ie.nextSibling,ae=ne.nextSibling,xe=ae.nextSibling,ve=ge.nextSibling;return K.$$click=J=>{const W=J.currentTarget;W.classList.add("refreshing"),setTimeout(()=>W.classList.remove("refreshing"),500),V()},o(B,()=>z().total),o(H,()=>z().clusterIP),o(oe,()=>z().nodePort),o(fe,()=>z().loadBalancer),ae.$$input=J=>{t(J.currentTarget.value),a(1)},xe.addEventListener("change",J=>{u(parseInt(J.currentTarget.value)),a(1)}),o(I,p(le,{get when(){return(P()||[]).length>0},get children(){var J=bu(),W=J.firstChild,me=W.nextSibling;return o(me,p(Ee,{get each(){return P()||[]},children:pe=>(()=>{var de=ku(),se=de.firstChild,q=se.nextSibling,ue=q.nextSibling,Le=ue.firstChild,Ae=Le.nextSibling;Ae.nextSibling;var E=ue.nextSibling,Z=E.nextSibling;return o(q,()=>pe.name),o(ue,()=>pe.localPort,Ae),o(ue,()=>pe.remotePort,null),Z.$$click=()=>A(pe),te(()=>Ze(E,"href",`http://localhost:${pe.localPort}`)),de})()})),J}}),ve),o(ve,p(le,{get when(){return!X.loading},get fallback(){return(()=>{var J=Cu(),W=J.firstChild;return W.nextSibling,J})()},get children(){return[(()=>{var J=yu(),W=J.firstChild,me=W.firstChild,pe=me.firstChild,de=pe.firstChild,se=de.firstChild;se.firstChild;var q=de.nextSibling,ue=q.firstChild;ue.firstChild;var Le=q.nextSibling,Ae=Le.firstChild;Ae.firstChild;var E=Le.nextSibling,Z=E.nextSibling,ce=Z.nextSibling,Ne=ce.nextSibling,Te=Ne.firstChild;Te.firstChild;var ze=me.nextSibling;return de.$$click=()=>w("name"),o(se,p(N,{field:"name"}),null),q.$$click=()=>w("namespace"),o(ue,p(N,{field:"namespace"}),null),Le.$$click=()=>w("type"),o(Ae,p(N,{field:"type"}),null),Ne.$$click=()=>w("age"),o(Te,p(N,{field:"age"}),null),o(ze,p(Ee,{get each(){return y()},get fallback(){return(()=>{var Ce=Su();return Ce.firstChild,Ce})()},children:Ce=>(()=>{var Fe=Mu(),Be=Fe.firstChild,et=Be.firstChild,Ve=Be.nextSibling,yt=Ve.nextSibling,wt=yt.firstChild,kt=yt.nextSibling,Ct=kt.nextSibling,jt=Ct.nextSibling,$t=jt.nextSibling,er=$t.nextSibling;return et.$$click=()=>{g(Ce),S(!0)},o(et,(()=>{var fr=Re(()=>Ce.name.length>40);return()=>fr()?Ce.name.slice(0,37)+"...":Ce.name})()),o(Ve,()=>Ce.namespace),o(wt,()=>Ce.type),o(kt,()=>Ce.clusterIP),o(Ct,()=>Ce.externalIP||"-"),o(jt,()=>Ce.ports),o($t,()=>Ce.age),o(er,p(Ht,{actions:[{label:"Port Forward",icon:"portforward",onClick:()=>O(Ce)},{label:"View YAML",icon:"yaml",onClick:()=>{g(Ce),f(!0)}},{label:"Delete",icon:"delete",onClick:()=>ee(Ce),variant:"danger",divider:!0}]})),te(()=>Ie(wt,`badge ${Ce.type==="LoadBalancer"?"badge-info":Ce.type==="NodePort"?"badge-warning":"badge-success"}`)),Fe})()})),J})(),p(le,{get when(){return k()>1},get children(){var J=$u(),W=J.firstChild,me=W.firstChild,pe=me.nextSibling,de=pe.nextSibling,se=de.nextSibling,q=se.nextSibling,ue=q.nextSibling;ue.nextSibling;var Le=W.nextSibling,Ae=Le.firstChild,E=Ae.nextSibling,Z=E.nextSibling,ce=Z.firstChild,Ne=ce.nextSibling;Ne.nextSibling;var Te=Z.nextSibling,ze=Te.nextSibling;return o(W,()=>(s()-1)*c()+1,pe),o(W,()=>Math.min(s()*c(),b().length),se),o(W,()=>b().length,ue),Ae.$$click=()=>a(1),E.$$click=()=>a(Ce=>Math.max(1,Ce-1)),o(Z,s,Ne),o(Z,k,null),Te.$$click=()=>a(Ce=>Math.min(k(),Ce+1)),ze.$$click=()=>a(k()),te(Ce=>{var Fe=s()===1,Be=s()===1,et=s()===k(),Ve=s()===k();return Fe!==Ce.e&&(Ae.disabled=Ce.e=Fe),Be!==Ce.t&&(E.disabled=Ce.t=Be),et!==Ce.a&&(Te.disabled=Ce.a=et),Ve!==Ce.o&&(ze.disabled=Ce.o=Ve),Ce},{e:void 0,t:void 0,a:void 0,o:void 0}),J}})]}})),o(I,p(Qe,{get isOpen(){return h()},onClose:()=>f(!1),get title(){return`YAML: ${d()?.name}`},size:"xl",get children(){return p(le,{get when(){return!U.loading},get fallback(){return Au()},get children(){return p(Ft,{get yaml(){return U()||""},get title(){return d()?.name}})}})}}),null),o(I,p(zt,{get isOpen(){return L()},onClose:()=>S(!1),resourceType:"service",get name(){return d()?.name||""},get namespace(){return d()?.namespace}}),null),o(I,p(Qe,{get isOpen(){return $()},onClose:()=>x(!1),get title(){return`Port Forward: ${d()?.name}`},size:"sm",get children(){var J=_u(),W=J.firstChild,me=W.firstChild,pe=me.nextSibling,de=W.nextSibling,se=de.firstChild,q=se.nextSibling,ue=de.nextSibling,Le=ue.firstChild,Ae=Le.nextSibling;Ae.firstChild;var E=Ae.nextSibling,Z=E.nextSibling,ce=Z.firstChild,Ne=ue.nextSibling,Te=Ne.firstChild,ze=Te.nextSibling;return pe.$$input=Ce=>D(parseInt(Ce.currentTarget.value)||8080),q.$$input=Ce=>T(parseInt(Ce.currentTarget.value)||80),o(Ae,M,null),o(Z,()=>d()?.name,ce),o(Z,_,null),Te.$$click=()=>x(!1),ze.$$click=v,te(()=>pe.value=M()),te(()=>q.value=_()),J}}),null),te(()=>ae.value=e()),te(()=>xe.value=c()),I})()};qe(["click","input"]);var Lu=m('<span class="ml-1 inline-flex flex-col text-xs leading-none"><span></span><span>'),Pu=m('<div class=overflow-x-auto><table class="data-table terminal-table"><thead><tr><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Name </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Namespace </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Class </div></th><th class=whitespace-nowrap>Hosts</th><th class=whitespace-nowrap>Address</th><th class=whitespace-nowrap>Ports</th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Age </div></th><th class=whitespace-nowrap>Actions</th></tr></thead><tbody>'),Tu=m('<div class="flex items-center justify-between p-4 font-mono text-sm"style=background:#161b22><div style=color:#8b949e>Showing <!> - <!> of <!> ingresses</div><div class="flex items-center gap-2"><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>First</button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9> Prev</button><span class="px-3 py-1"style=color:#c9d1d9>Page <!> of </span><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Next </button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Last'),Nu=m('<div class=space-y-4><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>Ingresses</h1><p style=color:var(--text-secondary)>External access to services</p></div><div class="flex items-center gap-3"><button class=icon-btn title="Refresh Ingresses"style=background:var(--bg-secondary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div><div class="flex flex-wrap items-center gap-3"><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--accent-primary)"><span class=text-sm style=color:var(--text-secondary)>Total</span><span class="text-xl font-bold"style=color:var(--text-primary)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--success-color)"><span class=text-sm style=color:var(--text-secondary)>With Address</span><span class="text-xl font-bold"style=color:var(--success-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--warning-color)"><span class=text-sm style=color:var(--text-secondary)>Without Address</span><span class="text-xl font-bold"style=color:var(--warning-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid #3b82f6"><span class=text-sm style=color:var(--text-secondary)>Total Hosts</span><span class="text-xl font-bold"style=color:#3b82f6></span></div><div class=flex-1></div><input type=text placeholder=Search... class="px-3 py-2 rounded-lg text-sm w-48"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><select class="px-3 py-2 rounded-lg text-sm"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><option value=20>20</option><option value=50>50</option><option value=100>100</option></select></div><div class="overflow-hidden rounded-lg"style=background:#0d1117>'),Du=m('<div class="p-8 text-center"><div class="spinner mx-auto mb-2"></div><span style=color:var(--text-muted)>Loading ingresses...'),Ru=m('<tr><td colspan=8 class="text-center py-8"style=color:var(--text-muted)>No ingresses found'),Iu=m('<tr><td><button class="font-medium hover:underline text-left"style=color:var(--accent-primary)></button></td><td></td><td></td><td><div class="flex flex-wrap gap-1"></div></td><td></td><td></td><td></td><td>'),Eu=m('<a target=_blank class="text-xs px-2 py-1 rounded hover:opacity-80"style=background:var(--bg-tertiary);color:var(--accent-primary)>'),Fu=m('<div class="spinner mx-auto">');const Hu=()=>{const[e,t]=F(""),[r,n]=F("name"),[l,i]=F("asc"),[s,a]=F(1),[c,u]=F(20),[d,g]=F(null),[h,f]=F(!1),[L,S]=F(!1),[$,{refetch:x}]=De(Ue,Me.getIngresses),[M]=De(()=>h()&&d()?{name:d().name,ns:d().namespace}:null,async C=>C&&(await Me.getIngressYAML(C.name,C.ns)).yaml||""),D=C=>{if(!C)return 0;let b=0;const k=C.match(/(\d+)d/),y=C.match(/(\d+)h/),z=C.match(/(\d+)m/);return k&&(b+=parseInt(k[1])*24*60),y&&(b+=parseInt(y[1])*60),z&&(b+=parseInt(z[1])),b},_=Pe(()=>{let C=$()||[];const b=e().toLowerCase();b&&(C=C.filter(z=>z.name.toLowerCase().includes(b)||z.namespace.toLowerCase().includes(b)||z.hosts?.some(w=>w.toLowerCase().includes(b))));const k=r(),y=l();return C=[...C].sort((z,w)=>{let N=0;switch(k){case"name":N=z.name.localeCompare(w.name);break;case"namespace":N=z.namespace.localeCompare(w.namespace);break;case"class":N=(z.class||"").localeCompare(w.class||"");break;case"age":N=D(z.age)-D(w.age);break}return y==="asc"?N:-N}),C}),T=Pe(()=>Math.ceil(_().length/c())),X=Pe(()=>{const C=(s()-1)*c();return _().slice(C,C+c())}),V=Pe(()=>{const C=$()||[];return{total:C.length,withAddress:C.filter(b=>b.address&&b.address!=="-").length,withoutAddress:C.filter(b=>!b.address||b.address==="-").length,totalHosts:C.reduce((b,k)=>b+(k.hosts?.length||0),0)}}),P=C=>{r()===C?i(b=>b==="asc"?"desc":"asc"):(n(C),i("asc")),a(1)},R=C=>(()=>{var b=Lu(),k=b.firstChild,y=k.nextSibling;return te(z=>{var w=r()===C.field&&l()==="asc"?"var(--accent-primary)":"var(--text-muted)",N=r()===C.field&&l()==="desc"?"var(--accent-primary)":"var(--text-muted)";return w!==z.e&&ke(k,"color",z.e=w),N!==z.t&&ke(y,"color",z.t=N),z},{e:void 0,t:void 0}),b})(),U=async C=>{if(confirm(`Are you sure you want to delete ingress ${C.name}?`))try{await Me.deleteIngress(C.name,C.namespace),x()}catch(b){console.error("Failed to delete ingress:",b)}};return(()=>{var C=Nu(),b=C.firstChild,k=b.firstChild,y=k.firstChild;y.nextSibling;var z=k.nextSibling,w=z.firstChild,N=b.nextSibling,v=N.firstChild,A=v.firstChild,O=A.nextSibling,ee=v.nextSibling,I=ee.firstChild,j=I.nextSibling,Y=ee.nextSibling,be=Y.firstChild,ye=be.nextSibling,K=Y.nextSibling,ge=K.firstChild,we=ge.nextSibling,Se=K.nextSibling,B=Se.nextSibling,he=B.nextSibling,Q=N.nextSibling;return w.$$click=H=>{const G=H.currentTarget;G.classList.add("refreshing"),setTimeout(()=>G.classList.remove("refreshing"),500),x()},o(O,()=>V().total),o(j,()=>V().withAddress),o(ye,()=>V().withoutAddress),o(we,()=>V().totalHosts),B.$$input=H=>{t(H.currentTarget.value),a(1)},he.addEventListener("change",H=>{u(parseInt(H.currentTarget.value)),a(1)}),o(Q,p(le,{get when(){return!$.loading},get fallback(){return(()=>{var H=Du(),G=H.firstChild;return G.nextSibling,H})()},get children(){return[(()=>{var H=Pu(),G=H.firstChild,re=G.firstChild,oe=re.firstChild,ie=oe.firstChild,$e=ie.firstChild;$e.firstChild;var fe=ie.nextSibling,ne=fe.firstChild;ne.firstChild;var ae=fe.nextSibling,xe=ae.firstChild;xe.firstChild;var ve=ae.nextSibling,J=ve.nextSibling,W=J.nextSibling,me=W.nextSibling,pe=me.firstChild;pe.firstChild;var de=re.nextSibling;return ie.$$click=()=>P("name"),o($e,p(R,{field:"name"}),null),fe.$$click=()=>P("namespace"),o(ne,p(R,{field:"namespace"}),null),ae.$$click=()=>P("class"),o(xe,p(R,{field:"class"}),null),me.$$click=()=>P("age"),o(pe,p(R,{field:"age"}),null),o(de,p(Ee,{get each(){return X()},get fallback(){return(()=>{var se=Ru();return se.firstChild,se})()},children:se=>(()=>{var q=Iu(),ue=q.firstChild,Le=ue.firstChild,Ae=ue.nextSibling,E=Ae.nextSibling,Z=E.nextSibling,ce=Z.firstChild,Ne=Z.nextSibling,Te=Ne.nextSibling,ze=Te.nextSibling,Ce=ze.nextSibling;return Le.$$click=()=>{g(se),S(!0)},o(Le,(()=>{var Fe=Re(()=>se.name.length>40);return()=>Fe()?se.name.slice(0,37)+"...":se.name})()),o(Ae,()=>se.namespace),o(E,()=>se.class||"-"),o(ce,p(Ee,{get each(){return se.hosts||[]},children:Fe=>(()=>{var Be=Eu();return Ze(Be,"href",`https://${Fe}`),o(Be,Fe),Be})()})),o(Ne,()=>se.address||"-"),o(Te,()=>se.ports),o(ze,()=>se.age),o(Ce,p(Ht,{actions:[{label:"View YAML",icon:"yaml",onClick:()=>{g(se),f(!0)}},{label:"Delete",icon:"delete",onClick:()=>U(se),variant:"danger",divider:!0}]})),q})()})),H})(),p(le,{get when(){return T()>1},get children(){var H=Tu(),G=H.firstChild,re=G.firstChild,oe=re.nextSibling,ie=oe.nextSibling,$e=ie.nextSibling,fe=$e.nextSibling,ne=fe.nextSibling;ne.nextSibling;var ae=G.nextSibling,xe=ae.firstChild,ve=xe.nextSibling,J=ve.nextSibling,W=J.firstChild,me=W.nextSibling;me.nextSibling;var pe=J.nextSibling,de=pe.nextSibling;return o(G,()=>(s()-1)*c()+1,oe),o(G,()=>Math.min(s()*c(),_().length),$e),o(G,()=>_().length,ne),xe.$$click=()=>a(1),ve.$$click=()=>a(se=>Math.max(1,se-1)),o(J,s,me),o(J,T,null),pe.$$click=()=>a(se=>Math.min(T(),se+1)),de.$$click=()=>a(T()),te(se=>{var q=s()===1,ue=s()===1,Le=s()===T(),Ae=s()===T();return q!==se.e&&(xe.disabled=se.e=q),ue!==se.t&&(ve.disabled=se.t=ue),Le!==se.a&&(pe.disabled=se.a=Le),Ae!==se.o&&(de.disabled=se.o=Ae),se},{e:void 0,t:void 0,a:void 0,o:void 0}),H}})]}})),o(C,p(Qe,{get isOpen(){return h()},onClose:()=>f(!1),get title(){return`YAML: ${d()?.name}`},size:"xl",get children(){return p(le,{get when(){return!M.loading},get fallback(){return Fu()},get children(){return p(Ft,{get yaml(){return M()||""},get title(){return d()?.name}})}})}}),null),o(C,p(zt,{get isOpen(){return L()},onClose:()=>S(!1),resourceType:"ingress",get name(){return d()?.name||""},get namespace(){return d()?.namespace}}),null),te(()=>B.value=e()),te(()=>he.value=c()),C})()};qe(["click","input"]);var Bu=m('<span class="ml-1 inline-flex flex-col text-xs leading-none"><span></span><span>'),ju=m('<div class=overflow-x-auto><table class="data-table terminal-table"><thead><tr><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Name </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Namespace </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Data </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Age </div></th><th class=whitespace-nowrap>Actions</th></tr></thead><tbody>'),Ou=m('<div class="flex items-center justify-between p-4 font-mono text-sm"style=background:#161b22><div style=color:#8b949e>Showing <!> - <!> of <!> ConfigMaps</div><div class="flex items-center gap-2"><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>First</button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9> Prev</button><span class="px-3 py-1"style=color:#c9d1d9>Page <!> of </span><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Next </button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Last'),Vu=m('<div class=space-y-4><div class="grid grid-cols-2 gap-4"><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Name</div><div style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Namespace</div><div style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Data Keys</div><div class=font-semibold style=color:var(--accent-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Age</div><div style=color:var(--text-primary)></div></div></div><div class="flex gap-2 pt-4"><button class="btn-primary flex-1">View YAML</button><button class="btn-secondary flex-1">Describe'),Uu=m('<div class=space-y-4><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>ConfigMaps</h1><p style=color:var(--text-secondary)>Configuration data storage</p></div><div class="flex items-center gap-3"><button class=icon-btn title="Refresh ConfigMaps"style=background:var(--bg-secondary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div><div class="flex flex-wrap items-center gap-3"><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--accent-primary)"><span class=text-sm style=color:var(--text-secondary)>Total</span><span class="text-xl font-bold"style=color:var(--text-primary)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid #8b5cf6"><span class=text-sm style=color:var(--text-secondary)>Filtered</span><span class="text-xl font-bold"style=color:#8b5cf6></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid #22c55e"><span class=text-sm style=color:var(--text-secondary)>Namespaces</span><span class="text-xl font-bold"style=color:#22c55e></span></div><div class=flex-1></div><input type=text placeholder=Search... class="px-3 py-2 rounded-lg text-sm w-48"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><select class="px-3 py-2 rounded-lg text-sm"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><option value=20>20</option><option value=50>50</option><option value=100>100</option></select></div><div class="overflow-hidden rounded-lg"style=background:#0d1117>'),Yu=m('<div class="p-8 text-center"><div class="spinner mx-auto mb-2"></div><span style=color:var(--text-muted)>Loading ConfigMaps...'),Gu=m('<tr><td colspan=5 class="text-center py-8"style=color:var(--text-muted)>No ConfigMaps found'),qu=m('<tr><td><button class="font-medium hover:underline text-left"style=color:var(--accent-primary)></button></td><td></td><td><span class="badge badge-info"> keys</span></td><td></td><td>'),Ju=m('<div class="spinner mx-auto">');const Wu=()=>{const[e,t]=F(""),[r,n]=F("name"),[l,i]=F("asc"),[s,a]=F(1),[c,u]=F(20),[d,g]=F(null),[h,f]=F(!1),[L,S]=F(!1),[$,x]=F(!1),[M,{refetch:D}]=De(Ue,Me.getConfigMaps),[_]=De(()=>h()&&d()?{name:d().name,ns:d().namespace}:null,async b=>b&&(await Me.getConfigMapYAML(b.name,b.ns)).yaml||""),T=b=>{if(!b)return 0;let k=0;const y=b.match(/(\d+)d/),z=b.match(/(\d+)h/),w=b.match(/(\d+)m/);return y&&(k+=parseInt(y[1])*24*60),z&&(k+=parseInt(z[1])*60),w&&(k+=parseInt(w[1])),k},X=Pe(()=>{let b=M()||[];const k=e().toLowerCase();k&&(b=b.filter(w=>w.name.toLowerCase().includes(k)||w.namespace.toLowerCase().includes(k)));const y=r(),z=l();return b=[...b].sort((w,N)=>{let v=0;switch(y){case"name":v=w.name.localeCompare(N.name);break;case"namespace":v=w.namespace.localeCompare(N.namespace);break;case"data":v=w.data-N.data;break;case"age":v=T(w.age)-T(N.age);break}return z==="asc"?v:-v}),b}),V=Pe(()=>Math.ceil(X().length/c())),P=Pe(()=>{const b=(s()-1)*c();return X().slice(b,b+c())}),R=b=>{r()===b?i(k=>k==="asc"?"desc":"asc"):(n(b),i("asc")),a(1)},U=b=>(()=>{var k=Bu(),y=k.firstChild,z=y.nextSibling;return te(w=>{var N=r()===b.field&&l()==="asc"?"var(--accent-primary)":"var(--text-muted)",v=r()===b.field&&l()==="desc"?"var(--accent-primary)":"var(--text-muted)";return N!==w.e&&ke(y,"color",w.e=N),v!==w.t&&ke(z,"color",w.t=v),w},{e:void 0,t:void 0}),k})(),C=async b=>{if(confirm(`Are you sure you want to delete ConfigMap ${b.name}?`))try{await Me.deleteConfigMap(b.name,b.namespace),D()}catch(k){console.error("Failed to delete ConfigMap:",k)}};return(()=>{var b=Uu(),k=b.firstChild,y=k.firstChild,z=y.firstChild;z.nextSibling;var w=y.nextSibling,N=w.firstChild,v=k.nextSibling,A=v.firstChild,O=A.firstChild,ee=O.nextSibling,I=A.nextSibling,j=I.firstChild,Y=j.nextSibling,be=I.nextSibling,ye=be.firstChild,K=ye.nextSibling,ge=be.nextSibling,we=ge.nextSibling,Se=we.nextSibling,B=v.nextSibling;return N.$$click=he=>{const Q=he.currentTarget;Q.classList.add("refreshing"),setTimeout(()=>Q.classList.remove("refreshing"),500),D()},o(ee,()=>(M()||[]).length),o(Y,()=>X().length),o(K,()=>new Set((M()||[]).map(he=>he.namespace)).size),we.$$input=he=>{t(he.currentTarget.value),a(1)},Se.addEventListener("change",he=>{u(parseInt(he.currentTarget.value)),a(1)}),o(B,p(le,{get when(){return!M.loading},get fallback(){return(()=>{var he=Yu(),Q=he.firstChild;return Q.nextSibling,he})()},get children(){return[(()=>{var he=ju(),Q=he.firstChild,H=Q.firstChild,G=H.firstChild,re=G.firstChild,oe=re.firstChild;oe.firstChild;var ie=re.nextSibling,$e=ie.firstChild;$e.firstChild;var fe=ie.nextSibling,ne=fe.firstChild;ne.firstChild;var ae=fe.nextSibling,xe=ae.firstChild;xe.firstChild;var ve=H.nextSibling;return re.$$click=()=>R("name"),o(oe,p(U,{field:"name"}),null),ie.$$click=()=>R("namespace"),o($e,p(U,{field:"namespace"}),null),fe.$$click=()=>R("data"),o(ne,p(U,{field:"data"}),null),ae.$$click=()=>R("age"),o(xe,p(U,{field:"age"}),null),o(ve,p(Ee,{get each(){return P()},get fallback(){return(()=>{var J=Gu();return J.firstChild,J})()},children:J=>(()=>{var W=qu(),me=W.firstChild,pe=me.firstChild,de=me.nextSibling,se=de.nextSibling,q=se.firstChild,ue=q.firstChild,Le=se.nextSibling,Ae=Le.nextSibling;return pe.$$click=()=>{g(J),x(!0)},o(pe,(()=>{var E=Re(()=>J.name.length>40);return()=>E()?J.name.slice(0,37)+"...":J.name})()),o(de,()=>J.namespace),o(q,()=>J.data,ue),o(Le,()=>J.age),o(Ae,p(Ht,{actions:[{label:"View YAML",icon:"yaml",onClick:()=>{g(J),f(!0)}},{label:"Delete",icon:"delete",onClick:()=>C(J),variant:"danger",divider:!0}]})),W})()})),he})(),p(le,{get when(){return V()>1},get children(){var he=Ou(),Q=he.firstChild,H=Q.firstChild,G=H.nextSibling,re=G.nextSibling,oe=re.nextSibling,ie=oe.nextSibling,$e=ie.nextSibling;$e.nextSibling;var fe=Q.nextSibling,ne=fe.firstChild,ae=ne.nextSibling,xe=ae.nextSibling,ve=xe.firstChild,J=ve.nextSibling;J.nextSibling;var W=xe.nextSibling,me=W.nextSibling;return o(Q,()=>(s()-1)*c()+1,G),o(Q,()=>Math.min(s()*c(),X().length),oe),o(Q,()=>X().length,$e),ne.$$click=()=>a(1),ae.$$click=()=>a(pe=>Math.max(1,pe-1)),o(xe,s,J),o(xe,V,null),W.$$click=()=>a(pe=>Math.min(V(),pe+1)),me.$$click=()=>a(V()),te(pe=>{var de=s()===1,se=s()===1,q=s()===V(),ue=s()===V();return de!==pe.e&&(ne.disabled=pe.e=de),se!==pe.t&&(ae.disabled=pe.t=se),q!==pe.a&&(W.disabled=pe.a=q),ue!==pe.o&&(me.disabled=pe.o=ue),pe},{e:void 0,t:void 0,a:void 0,o:void 0}),he}})]}})),o(b,p(Qe,{get isOpen(){return L()},onClose:()=>S(!1),get title(){return`ConfigMap: ${d()?.name}`},size:"lg",get children(){return p(le,{get when(){return d()},get children(){var he=Vu(),Q=he.firstChild,H=Q.firstChild,G=H.firstChild,re=G.nextSibling,oe=H.nextSibling,ie=oe.firstChild,$e=ie.nextSibling,fe=oe.nextSibling,ne=fe.firstChild,ae=ne.nextSibling,xe=fe.nextSibling,ve=xe.firstChild,J=ve.nextSibling,W=Q.nextSibling,me=W.firstChild,pe=me.nextSibling;return o(re,()=>d()?.name),o($e,()=>d()?.namespace),o(ae,()=>d()?.data),o(J,()=>d()?.age),me.$$click=()=>{S(!1),f(!0)},pe.$$click=()=>{S(!1),x(!0)},he}})}}),null),o(b,p(Qe,{get isOpen(){return h()},onClose:()=>f(!1),get title(){return`ConfigMap: ${d()?.name}`},size:"xl",get children(){return p(le,{get when(){return!_.loading},get fallback(){return Ju()},get children(){return p(Ft,{get yaml(){return _()||""},get title(){return d()?.name}})}})}}),null),o(b,p(zt,{get isOpen(){return $()},onClose:()=>x(!1),resourceType:"configmap",get name(){return d()?.name||""},get namespace(){return d()?.namespace}}),null),te(()=>we.value=e()),te(()=>Se.value=c()),b})()};qe(["click","input"]);var Xu=m('<span class="ml-1 inline-flex flex-col text-xs leading-none"><span>&#9650;</span><span>&#9660;'),Ku=m('<div class=overflow-x-auto><table class="data-table terminal-table"><thead><tr><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Name </div></th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Namespace </div></th><th class=whitespace-nowrap>Secret</th><th class=whitespace-nowrap>Issuer</th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Status </div></th><th class=whitespace-nowrap>Expires</th><th class="cursor-pointer select-none whitespace-nowrap"><div class="flex items-center gap-1">Age </div></th><th class=whitespace-nowrap>Actions</th></tr></thead><tbody>'),Qu=m('<div class="flex items-center justify-between p-4 font-mono text-sm"style=background:#161b22><div style=color:#8b949e>Showing <!> - <!> of <!> certificates</div><div class="flex items-center gap-2"><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>First</button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Prev</button><span class="px-3 py-1"style=color:#c9d1d9>Page <!> of </span><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Next</button><button class="px-3 py-1 rounded text-sm disabled:opacity-50"style=background:#21262d;color:#c9d1d9>Last'),Zu=m('<div class=space-y-4><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>Certificates</h1><p style=color:var(--text-secondary)>TLS certificates managed by cert-manager</p></div><div class="flex items-center gap-3"><button class=icon-btn title="Refresh Certificates"style=background:var(--bg-secondary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div><div class="flex flex-wrap items-center gap-3"><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--accent-primary)"><span class=text-sm style=color:var(--text-secondary)>Total</span><span class="text-xl font-bold"style=color:var(--text-primary)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--success-color)"><span class=text-sm style=color:var(--text-secondary)>Ready</span><span class="text-xl font-bold"style=color:var(--success-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--warning-color)"><span class=text-sm style=color:var(--text-secondary)>Pending</span><span class="text-xl font-bold"style=color:var(--warning-color)></span></div><div class="card px-4 py-2 cursor-pointer hover:opacity-80 flex items-center gap-2"style="border-left:3px solid var(--error-color)"><span class=text-sm style=color:var(--text-secondary)>Failed</span><span class="text-xl font-bold"style=color:var(--error-color)></span></div><div class=flex-1></div><input type=text placeholder=Search... class="px-3 py-2 rounded-lg text-sm w-48"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><select class="px-3 py-2 rounded-lg text-sm"style="background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)"><option value=20>20</option><option value=50>50</option><option value=100>100</option></select></div><div class="overflow-hidden rounded-lg"style=background:#0d1117>'),eh=m('<div class="p-8 text-center"><div class="spinner mx-auto mb-2"></div><span style=color:var(--text-muted)>Loading certificates...'),th=m('<tr><td colspan=8 class="text-center py-8"style=color:var(--text-muted)>No certificates found. Make sure cert-manager is installed.'),rh=m('<tr><td><button class="font-medium hover:underline text-left"style=color:var(--accent-primary)></button></td><td></td><td><code class="px-2 py-1 rounded text-xs"style=background:var(--bg-tertiary)></code></td><td></td><td><span></span></td><td></td><td></td><td>'),nh=m('<div class="spinner mx-auto">');const lh=()=>{const[e,t]=F(""),[r,n]=F("name"),[l,i]=F("asc"),[s,a]=F(1),[c,u]=F(20),[d,g]=F(null),[h,f]=F(!1),[L,S]=F(!1),[$,{refetch:x}]=De(Ue,Me.getCertificates),[M]=De(()=>h()&&d()?{name:d().name,ns:d().namespace}:null,async b=>b&&(await Me.getCertificateYAML(b.name,b.ns)).yaml||""),D=b=>{if(!b)return 0;let k=0;const y=b.match(/(\d+)d/),z=b.match(/(\d+)h/),w=b.match(/(\d+)m/);return y&&(k+=parseInt(y[1])*24*60),z&&(k+=parseInt(z[1])*60),w&&(k+=parseInt(w[1])),k},_=Pe(()=>{let b=$()||[];const k=e().toLowerCase();k&&(b=b.filter(w=>w.name.toLowerCase().includes(k)||w.namespace.toLowerCase().includes(k)||w.issuer?.toLowerCase().includes(k)||w.dnsNames?.some(N=>N.toLowerCase().includes(k))));const y=r(),z=l();return b=[...b].sort((w,N)=>{let v=0;switch(y){case"name":v=w.name.localeCompare(N.name);break;case"namespace":v=w.namespace.localeCompare(N.namespace);break;case"status":v=w.status.localeCompare(N.status);break;case"age":v=D(w.age)-D(N.age);break}return z==="asc"?v:-v}),b}),T=Pe(()=>Math.ceil(_().length/c())),X=Pe(()=>{const b=(s()-1)*c();return _().slice(b,b+c())}),V=Pe(()=>{const b=$()||[];return{total:b.length,ready:b.filter(k=>k.status==="Ready"||k.status==="True").length,pending:b.filter(k=>k.status==="Pending"||k.status==="Unknown").length,failed:b.filter(k=>k.status==="Failed"||k.status==="False").length}}),P=b=>{r()===b?i(k=>k==="asc"?"desc":"asc"):(n(b),i("asc")),a(1)},R=b=>(()=>{var k=Xu(),y=k.firstChild,z=y.nextSibling;return te(w=>{var N=r()===b.field&&l()==="asc"?"var(--accent-primary)":"var(--text-muted)",v=r()===b.field&&l()==="desc"?"var(--accent-primary)":"var(--text-muted)";return N!==w.e&&ke(y,"color",w.e=N),v!==w.t&&ke(z,"color",w.t=v),w},{e:void 0,t:void 0}),k})(),U=async b=>{if(confirm(`Are you sure you want to delete certificate ${b.name}?`))try{await Me.deleteCertificate(b.name,b.namespace),x()}catch(k){console.error("Failed to delete certificate:",k)}},C=b=>b==="Ready"||b==="True"?"badge-success":b==="Failed"||b==="False"?"badge-error":"badge-warning";return(()=>{var b=Zu(),k=b.firstChild,y=k.firstChild,z=y.firstChild;z.nextSibling;var w=y.nextSibling,N=w.firstChild,v=k.nextSibling,A=v.firstChild,O=A.firstChild,ee=O.nextSibling,I=A.nextSibling,j=I.firstChild,Y=j.nextSibling,be=I.nextSibling,ye=be.firstChild,K=ye.nextSibling,ge=be.nextSibling,we=ge.firstChild,Se=we.nextSibling,B=ge.nextSibling,he=B.nextSibling,Q=he.nextSibling,H=v.nextSibling;return N.$$click=G=>{const re=G.currentTarget;re.classList.add("refreshing"),setTimeout(()=>re.classList.remove("refreshing"),500),x()},o(ee,()=>V().total),o(Y,()=>V().ready),o(K,()=>V().pending),o(Se,()=>V().failed),he.$$input=G=>{t(G.currentTarget.value),a(1)},Q.addEventListener("change",G=>{u(parseInt(G.currentTarget.value)),a(1)}),o(H,p(le,{get when(){return!$.loading},get fallback(){return(()=>{var G=eh(),re=G.firstChild;return re.nextSibling,G})()},get children(){return[(()=>{var G=Ku(),re=G.firstChild,oe=re.firstChild,ie=oe.firstChild,$e=ie.firstChild,fe=$e.firstChild;fe.firstChild;var ne=$e.nextSibling,ae=ne.firstChild;ae.firstChild;var xe=ne.nextSibling,ve=xe.nextSibling,J=ve.nextSibling,W=J.firstChild;W.firstChild;var me=J.nextSibling,pe=me.nextSibling,de=pe.firstChild;de.firstChild;var se=oe.nextSibling;return $e.$$click=()=>P("name"),o(fe,p(R,{field:"name"}),null),ne.$$click=()=>P("namespace"),o(ae,p(R,{field:"namespace"}),null),J.$$click=()=>P("status"),o(W,p(R,{field:"status"}),null),pe.$$click=()=>P("age"),o(de,p(R,{field:"age"}),null),o(se,p(Ee,{get each(){return X()},get fallback(){return(()=>{var q=th();return q.firstChild,q})()},children:q=>(()=>{var ue=rh(),Le=ue.firstChild,Ae=Le.firstChild,E=Le.nextSibling,Z=E.nextSibling,ce=Z.firstChild,Ne=Z.nextSibling,Te=Ne.nextSibling,ze=Te.firstChild,Ce=Te.nextSibling,Fe=Ce.nextSibling,Be=Fe.nextSibling;return Ae.$$click=()=>{g(q),S(!0)},o(Ae,(()=>{var et=Re(()=>q.name.length>40);return()=>et()?q.name.slice(0,37)+"...":q.name})()),o(E,()=>q.namespace),o(ce,()=>q.secretName||"-"),o(Ne,()=>q.issuer||"-"),o(ze,()=>q.status),o(Ce,()=>q.notAfter||"-"),o(Fe,()=>q.age),o(Be,p(Ht,{actions:[{label:"View YAML",icon:"yaml",onClick:()=>{g(q),f(!0)}},{label:"Delete",icon:"delete",onClick:()=>U(q),variant:"danger",divider:!0}]})),te(()=>Ie(ze,`badge ${C(q.status)}`)),ue})()})),G})(),p(le,{get when(){return T()>1},get children(){var G=Qu(),re=G.firstChild,oe=re.firstChild,ie=oe.nextSibling,$e=ie.nextSibling,fe=$e.nextSibling,ne=fe.nextSibling,ae=ne.nextSibling;ae.nextSibling;var xe=re.nextSibling,ve=xe.firstChild,J=ve.nextSibling,W=J.nextSibling,me=W.firstChild,pe=me.nextSibling;pe.nextSibling;var de=W.nextSibling,se=de.nextSibling;return o(re,()=>(s()-1)*c()+1,ie),o(re,()=>Math.min(s()*c(),_().length),fe),o(re,()=>_().length,ae),ve.$$click=()=>a(1),J.$$click=()=>a(q=>Math.max(1,q-1)),o(W,s,pe),o(W,T,null),de.$$click=()=>a(q=>Math.min(T(),q+1)),se.$$click=()=>a(T()),te(q=>{var ue=s()===1,Le=s()===1,Ae=s()===T(),E=s()===T();return ue!==q.e&&(ve.disabled=q.e=ue),Le!==q.t&&(J.disabled=q.t=Le),Ae!==q.a&&(de.disabled=q.a=Ae),E!==q.o&&(se.disabled=q.o=E),q},{e:void 0,t:void 0,a:void 0,o:void 0}),G}})]}})),o(b,p(Qe,{get isOpen(){return h()},onClose:()=>f(!1),get title(){return`YAML: ${d()?.name}`},size:"xl",get children(){return p(le,{get when(){return!M.loading},get fallback(){return nh()},get children(){return p(Ft,{get yaml(){return M()||""},get title(){return d()?.name}})}})}}),null),o(b,p(zt,{get isOpen(){return L()},onClose:()=>S(!1),resourceType:"certificate",get name(){return d()?.name||""},get namespace(){return d()?.namespace}}),null),te(()=>he.value=e()),te(()=>Q.value=c()),b})()};qe(["click","input"]);var sh=m('<svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z">'),ih=m('<svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 10h16M4 14h16M4 18h16">'),ah=m('<svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1v-4zM14 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z">'),oh=m('<div class="grid grid-cols-1 lg:grid-cols-2 gap-4">'),ch=m('<div><div class="flex items-start justify-between mb-4"><div class="flex items-center gap-3"><div><svg fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path></svg></div><div><button class="text-white font-semibold hover:underline text-left"></button><p class="text-gray-500 text-sm"></p></div></div><span></span></div><div class="grid grid-cols-2 gap-4 mb-4"><div class="bg-k8s-dark rounded-lg p-3"><div class="flex items-center justify-between mb-2"><span class="text-gray-400 text-sm">CPU</span><span class="text-white font-medium"></span></div><div class="h-2 bg-k8s-border rounded-full overflow-hidden"><div class="h-full bg-blue-500 rounded-full"style=width:45%></div></div></div><div class="bg-k8s-dark rounded-lg p-3"><div class="flex items-center justify-between mb-2"><span class="text-gray-400 text-sm">Memory</span><span class="text-white font-medium"></span></div><div class="h-2 bg-k8s-border rounded-full overflow-hidden"><div class="h-full bg-purple-500 rounded-full"style=width:60%></div></div></div></div><div class="flex items-center justify-between text-sm text-gray-400 pt-4 border-t border-k8s-border"><span>Version: </span><span>Age: '),dh=m('<div class="overflow-hidden rounded-lg"style=background:#0d1117><div class=overflow-x-auto><table class="data-table terminal-table"><thead><tr><th class=whitespace-nowrap>Name</th><th class=whitespace-nowrap>Status</th><th class=whitespace-nowrap>Roles</th><th class=whitespace-nowrap>CPU</th><th class=whitespace-nowrap>Memory</th><th class=whitespace-nowrap>Version</th><th class=whitespace-nowrap>Age</th></tr></thead><tbody>'),uh=m('<tr><td colspan=7 class="text-center py-8"style=color:var(--text-muted)>No nodes found'),hh=m('<tr><td><div class="flex items-center gap-2"><div><svg fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path></svg></div><button class="font-medium hover:underline text-left"style=color:var(--accent-primary)></button></div></td><td><span></span></td><td><span></span></td><td class="font-mono text-sm"></td><td class="font-mono text-sm"></td><td class="font-mono text-sm"></td><td>'),fh=m('<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3">'),ph=m('<button><div class="flex items-center gap-2 mb-2"><div><svg fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path></svg></div><span></span></div><h4 class="text-white font-medium text-sm truncate mb-1"></h4><p class="text-gray-500 text-xs truncate"></p><div class="mt-2 pt-2 border-t border-k8s-border"><div class="flex justify-between text-xs"><span class=text-gray-500>CPU</span><span class=text-gray-300></span></div><div class="flex justify-between text-xs mt-1"><span class=text-gray-500>Mem</span><span class=text-gray-300>'),gh=m('<div class=space-y-6><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-2xl font-bold text-white">Nodes</h1><p class="text-gray-400 mt-1">Cluster node management</p></div><div class="flex items-center gap-3"><div class="flex items-center rounded-lg overflow-hidden"style="background:var(--bg-secondary);border:1px solid var(--border-color)"></div><button class=icon-btn title="Refresh Nodes"style=background:var(--bg-secondary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div><div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div class="bg-k8s-card border border-k8s-border rounded-lg p-4"><div class="text-gray-400 text-sm">Total Nodes</div><div class="text-2xl font-bold text-white"></div></div><div class="bg-k8s-card border border-green-500/30 rounded-lg p-4"><div class="text-gray-400 text-sm">Ready</div><div class="text-2xl font-bold text-green-400"></div></div><div class="bg-k8s-card border border-red-500/30 rounded-lg p-4"><div class="text-gray-400 text-sm">Not Ready</div><div class="text-2xl font-bold text-red-400"></div></div><div class="bg-k8s-card border border-cyan-500/30 rounded-lg p-4"><div class="text-gray-400 text-sm">Control Plane</div><div class="text-2xl font-bold text-cyan-400">'),vh=m('<button><span class="hidden sm:inline capitalize">'),mh=m('<div class="p-8 text-center text-gray-500"><svg class="w-8 h-8 animate-spin mx-auto mb-2"fill=none viewBox="0 0 24 24"><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>Loading nodes...');const xh=()=>{const[e,t]=F(null),[r,n]=F(!1),[l,i]=F("card"),s=Pe(()=>{const h=Hr()||[],f=oi().toLowerCase();return f?h.filter(L=>L.name.toLowerCase().includes(f)||L.roles.toLowerCase().includes(f)||L.status.toLowerCase().includes(f)):h}),a=Pe(()=>{const h=Hr()||[];return{total:h.length,ready:h.filter(f=>f.status==="Ready").length,notReady:h.filter(f=>f.status!=="Ready").length,controlPlane:h.filter(f=>f.roles.includes("control-plane")||f.roles.includes("master")).length}}),c=h=>p(ns,{get children(){return[p(gr,{get when(){return h.mode==="card"},get children(){return sh()}}),p(gr,{get when(){return h.mode==="list"},get children(){return ih()}}),p(gr,{get when(){return h.mode==="grid"},get children(){return ah()}})]}}),u=()=>(()=>{var h=oh();return o(h,p(Ee,{get each(){return s()},children:f=>{const L=f.status==="Ready",S=f.roles.includes("control-plane")||f.roles.includes("master");return(()=>{var $=ch(),x=$.firstChild,M=x.firstChild,D=M.firstChild,_=D.firstChild,T=D.nextSibling,X=T.firstChild,V=X.nextSibling,P=M.nextSibling,R=x.nextSibling,U=R.firstChild,C=U.firstChild,b=C.firstChild,k=b.nextSibling,y=C.nextSibling;y.firstChild;var z=U.nextSibling,w=z.firstChild,N=w.firstChild,v=N.nextSibling,A=w.nextSibling;A.firstChild;var O=R.nextSibling,ee=O.firstChild;ee.firstChild;var I=ee.nextSibling;return I.firstChild,Ie($,`bg-k8s-card border rounded-xl p-6 card-hover ${L?"border-k8s-border":"border-red-500/30"}`),Ie(D,`p-2 rounded-lg ${S?"bg-cyan-500/20":"bg-k8s-dark"}`),Ze(_,"class",`w-6 h-6 ${S?"text-cyan-400":"text-gray-400"}`),X.$$click=()=>{t(f),n(!0)},o(X,()=>f.name),o(V,()=>f.roles||"worker"),Ie(P,`px-2 py-1 rounded text-xs font-medium ${L?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`),o(P,()=>f.status),o(k,()=>f.cpu||"N/A"),o(v,()=>f.memory||"N/A"),o(ee,()=>f.version,null),o(I,()=>f.age,null),$})()}})),h})(),d=()=>(()=>{var h=dh(),f=h.firstChild,L=f.firstChild,S=L.firstChild,$=S.nextSibling;return o($,p(Ee,{get each(){return s()},get fallback(){return(()=>{var x=uh();return x.firstChild,x})()},children:x=>{const M=x.status==="Ready",D=x.roles.includes("control-plane")||x.roles.includes("master");return(()=>{var _=hh(),T=_.firstChild,X=T.firstChild,V=X.firstChild,P=V.firstChild,R=V.nextSibling,U=T.nextSibling,C=U.firstChild,b=U.nextSibling,k=b.firstChild,y=b.nextSibling,z=y.nextSibling,w=z.nextSibling,N=w.nextSibling;return Ie(V,`p-1 rounded ${D?"bg-cyan-500/20":"bg-k8s-dark"}`),Ze(P,"class",`w-4 h-4 ${D?"text-cyan-400":"text-gray-400"}`),R.$$click=()=>{t(x),n(!0)},o(R,()=>x.name),Ie(C,`badge ${M?"badge-success":"badge-error"}`),o(C,()=>x.status),Ie(k,`text-sm ${D?"text-cyan-400":"text-gray-400"}`),o(k,()=>x.roles||"worker"),o(y,()=>x.cpu||"N/A"),o(z,()=>x.memory||"N/A"),o(w,()=>x.version),o(N,()=>x.age),_})()}})),h})(),g=()=>(()=>{var h=fh();return o(h,p(Ee,{get each(){return s()},children:f=>{const L=f.status==="Ready",S=f.roles.includes("control-plane")||f.roles.includes("master");return(()=>{var $=ph(),x=$.firstChild,M=x.firstChild,D=M.firstChild,_=M.nextSibling,T=x.nextSibling,X=T.nextSibling,V=X.nextSibling,P=V.firstChild,R=P.firstChild,U=R.nextSibling,C=P.nextSibling,b=C.firstChild,k=b.nextSibling;return $.$$click=()=>{t(f),n(!0)},Ie($,`bg-k8s-card border rounded-lg p-4 text-left hover:bg-k8s-dark transition-colors ${L?"border-k8s-border":"border-red-500/30"}`),Ie(M,`p-1.5 rounded ${S?"bg-cyan-500/20":"bg-k8s-dark"}`),Ze(D,"class",`w-4 h-4 ${S?"text-cyan-400":"text-gray-400"}`),Ie(_,`px-1.5 py-0.5 rounded text-xs font-medium ${L?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`),o(_,()=>f.status),o(T,()=>f.name),o(X,()=>f.roles||"worker"),o(U,()=>f.cpu||"N/A"),o(k,()=>f.memory||"N/A"),te(()=>Ze(T,"title",f.name)),$})()}})),h})();return(()=>{var h=gh(),f=h.firstChild,L=f.firstChild,S=L.nextSibling,$=S.firstChild,x=$.nextSibling,M=f.nextSibling,D=M.firstChild,_=D.firstChild,T=_.nextSibling,X=D.nextSibling,V=X.firstChild,P=V.nextSibling,R=X.nextSibling,U=R.firstChild,C=U.nextSibling,b=R.nextSibling,k=b.firstChild,y=k.nextSibling;return o($,p(Ee,{each:["card","list","grid"],children:z=>(()=>{var w=vh(),N=w.firstChild;return w.$$click=()=>i(z),o(w,p(c,{mode:z}),N),o(N,z),te(v=>{var A=`px-3 py-2 flex items-center gap-2 text-sm transition-colors ${l()===z?"bg-k8s-blue text-white":"text-gray-400 hover:text-white hover:bg-k8s-dark"}`,O=`${z.charAt(0).toUpperCase()+z.slice(1)} View`;return A!==v.e&&Ie(w,v.e=A),O!==v.t&&Ze(w,"title",v.t=O),v},{e:void 0,t:void 0}),w})()})),x.$$click=z=>{const w=z.currentTarget;w.classList.add("refreshing"),setTimeout(()=>w.classList.remove("refreshing"),500),fi()},o(T,()=>a().total),o(P,()=>a().ready),o(C,()=>a().notReady),o(y,()=>a().controlPlane),o(h,p(le,{get when(){return!Hr.loading},get fallback(){return mh()},get children(){return p(ns,{get children(){return[p(gr,{get when(){return l()==="card"},get children(){return p(u,{})}}),p(gr,{get when(){return l()==="list"},get children(){return p(d,{})}}),p(gr,{get when(){return l()==="grid"},get children(){return p(g,{})}})]}})}}),null),o(h,p(zt,{get isOpen(){return r()},onClose:()=>n(!1),resourceType:"node",get name(){return e()?.name||""}}),null),h})()};qe(["click"]);var bh={value:()=>{}};function Wr(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new yn(r)}function yn(e){this._=e}function yh(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",l=r.indexOf(".");if(l>=0&&(n=r.slice(l+1),r=r.slice(0,l)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}yn.prototype=Wr.prototype={constructor:yn,on:function(e,t){var r=this._,n=yh(e+"",r),l,i=-1,s=n.length;if(arguments.length<2){for(;++i<s;)if((l=(e=n[i]).type)&&(l=$h(r[l],e.name)))return l;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(l=(e=n[i]).type)r[l]=bs(r[l],e.name,t);else if(t==null)for(l in r)r[l]=bs(r[l],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new yn(e)},call:function(e,t){if((l=arguments.length-2)>0)for(var r=new Array(l),n=0,l,i;n<l;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,l=i.length;n<l;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],l=0,i=n.length;l<i;++l)n[l].value.apply(t,r)}};function $h(e,t){for(var r=0,n=e.length,l;r<n;++r)if((l=e[r]).name===t)return l.value}function bs(e,t,r){for(var n=0,l=e.length;n<l;++n)if(e[n].name===t){e[n]=bh,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var gl="http://www.w3.org/1999/xhtml";const ys={svg:"http://www.w3.org/2000/svg",xhtml:gl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yn(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),ys.hasOwnProperty(t)?{space:ys[t],local:e}:e}function _h(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===gl&&t.documentElement.namespaceURI===gl?t.createElement(e):t.createElementNS(r,e)}}function wh(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function vi(e){var t=Yn(e);return(t.local?wh:_h)(t)}function kh(){}function Cl(e){return e==null?kh:function(){return this.querySelector(e)}}function Ch(e){typeof e!="function"&&(e=Cl(e));for(var t=this._groups,r=t.length,n=new Array(r),l=0;l<r;++l)for(var i=t[l],s=i.length,a=n[l]=new Array(s),c,u,d=0;d<s;++d)(c=i[d])&&(u=e.call(c,c.__data__,d,i))&&("__data__"in c&&(u.__data__=c.__data__),a[d]=u);return new bt(n,this._parents)}function Sh(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Mh(){return[]}function mi(e){return e==null?Mh:function(){return this.querySelectorAll(e)}}function Ah(e){return function(){return Sh(e.apply(this,arguments))}}function zh(e){typeof e=="function"?e=Ah(e):e=mi(e);for(var t=this._groups,r=t.length,n=[],l=[],i=0;i<r;++i)for(var s=t[i],a=s.length,c,u=0;u<a;++u)(c=s[u])&&(n.push(e.call(c,c.__data__,u,s)),l.push(c));return new bt(n,l)}function xi(e){return function(){return this.matches(e)}}function bi(e){return function(t){return t.matches(e)}}var Lh=Array.prototype.find;function Ph(e){return function(){return Lh.call(this.children,e)}}function Th(){return this.firstElementChild}function Nh(e){return this.select(e==null?Th:Ph(typeof e=="function"?e:bi(e)))}var Dh=Array.prototype.filter;function Rh(){return Array.from(this.children)}function Ih(e){return function(){return Dh.call(this.children,e)}}function Eh(e){return this.selectAll(e==null?Rh:Ih(typeof e=="function"?e:bi(e)))}function Fh(e){typeof e!="function"&&(e=xi(e));for(var t=this._groups,r=t.length,n=new Array(r),l=0;l<r;++l)for(var i=t[l],s=i.length,a=n[l]=[],c,u=0;u<s;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&a.push(c);return new bt(n,this._parents)}function yi(e){return new Array(e.length)}function Hh(){return new bt(this._enter||this._groups.map(yi),this._parents)}function Tn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Tn.prototype={constructor:Tn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Bh(e){return function(){return e}}function jh(e,t,r,n,l,i){for(var s=0,a,c=t.length,u=i.length;s<u;++s)(a=t[s])?(a.__data__=i[s],n[s]=a):r[s]=new Tn(e,i[s]);for(;s<c;++s)(a=t[s])&&(l[s]=a)}function Oh(e,t,r,n,l,i,s){var a,c,u=new Map,d=t.length,g=i.length,h=new Array(d),f;for(a=0;a<d;++a)(c=t[a])&&(h[a]=f=s.call(c,c.__data__,a,t)+"",u.has(f)?l[a]=c:u.set(f,c));for(a=0;a<g;++a)f=s.call(e,i[a],a,i)+"",(c=u.get(f))?(n[a]=c,c.__data__=i[a],u.delete(f)):r[a]=new Tn(e,i[a]);for(a=0;a<d;++a)(c=t[a])&&u.get(h[a])===c&&(l[a]=c)}function Vh(e){return e.__data__}function Uh(e,t){if(!arguments.length)return Array.from(this,Vh);var r=t?Oh:jh,n=this._parents,l=this._groups;typeof e!="function"&&(e=Bh(e));for(var i=l.length,s=new Array(i),a=new Array(i),c=new Array(i),u=0;u<i;++u){var d=n[u],g=l[u],h=g.length,f=Yh(e.call(d,d&&d.__data__,u,n)),L=f.length,S=a[u]=new Array(L),$=s[u]=new Array(L),x=c[u]=new Array(h);r(d,g,S,$,x,f,t);for(var M=0,D=0,_,T;M<L;++M)if(_=S[M]){for(M>=D&&(D=M+1);!(T=$[D])&&++D<L;);_._next=T||null}}return s=new bt(s,n),s._enter=a,s._exit=c,s}function Yh(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Gh(){return new bt(this._exit||this._groups.map(yi),this._parents)}function qh(e,t,r){var n=this.enter(),l=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(l=t(l),l&&(l=l.selection())),r==null?i.remove():r(i),n&&l?n.merge(l).order():l}function Jh(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,l=r.length,i=n.length,s=Math.min(l,i),a=new Array(l),c=0;c<s;++c)for(var u=r[c],d=n[c],g=u.length,h=a[c]=new Array(g),f,L=0;L<g;++L)(f=u[L]||d[L])&&(h[L]=f);for(;c<l;++c)a[c]=r[c];return new bt(a,this._parents)}function Wh(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],l=n.length-1,i=n[l],s;--l>=0;)(s=n[l])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Xh(e){e||(e=Kh);function t(g,h){return g&&h?e(g.__data__,h.__data__):!g-!h}for(var r=this._groups,n=r.length,l=new Array(n),i=0;i<n;++i){for(var s=r[i],a=s.length,c=l[i]=new Array(a),u,d=0;d<a;++d)(u=s[d])&&(c[d]=u);c.sort(t)}return new bt(l,this._parents).order()}function Kh(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Qh(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Zh(){return Array.from(this)}function ef(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],l=0,i=n.length;l<i;++l){var s=n[l];if(s)return s}return null}function tf(){let e=0;for(const t of this)++e;return e}function rf(){return!this.node()}function nf(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var l=t[r],i=0,s=l.length,a;i<s;++i)(a=l[i])&&e.call(a,a.__data__,i,l);return this}function lf(e){return function(){this.removeAttribute(e)}}function sf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function af(e,t){return function(){this.setAttribute(e,t)}}function of(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function cf(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function df(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function uf(e,t){var r=Yn(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?sf:lf:typeof t=="function"?r.local?df:cf:r.local?of:af)(r,t))}function $i(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function hf(e){return function(){this.style.removeProperty(e)}}function ff(e,t,r){return function(){this.style.setProperty(e,t,r)}}function pf(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function gf(e,t,r){return arguments.length>1?this.each((t==null?hf:typeof t=="function"?pf:ff)(e,t,r??"")):br(this.node(),e)}function br(e,t){return e.style.getPropertyValue(t)||$i(e).getComputedStyle(e,null).getPropertyValue(t)}function vf(e){return function(){delete this[e]}}function mf(e,t){return function(){this[e]=t}}function xf(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function bf(e,t){return arguments.length>1?this.each((t==null?vf:typeof t=="function"?xf:mf)(e,t)):this.node()[e]}function _i(e){return e.trim().split(/^|\s+/)}function Sl(e){return e.classList||new wi(e)}function wi(e){this._node=e,this._names=_i(e.getAttribute("class")||"")}wi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ki(e,t){for(var r=Sl(e),n=-1,l=t.length;++n<l;)r.add(t[n])}function Ci(e,t){for(var r=Sl(e),n=-1,l=t.length;++n<l;)r.remove(t[n])}function yf(e){return function(){ki(this,e)}}function $f(e){return function(){Ci(this,e)}}function _f(e,t){return function(){(t.apply(this,arguments)?ki:Ci)(this,e)}}function wf(e,t){var r=_i(e+"");if(arguments.length<2){for(var n=Sl(this.node()),l=-1,i=r.length;++l<i;)if(!n.contains(r[l]))return!1;return!0}return this.each((typeof t=="function"?_f:t?yf:$f)(r,t))}function kf(){this.textContent=""}function Cf(e){return function(){this.textContent=e}}function Sf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Mf(e){return arguments.length?this.each(e==null?kf:(typeof e=="function"?Sf:Cf)(e)):this.node().textContent}function Af(){this.innerHTML=""}function zf(e){return function(){this.innerHTML=e}}function Lf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Pf(e){return arguments.length?this.each(e==null?Af:(typeof e=="function"?Lf:zf)(e)):this.node().innerHTML}function Tf(){this.nextSibling&&this.parentNode.appendChild(this)}function Nf(){return this.each(Tf)}function Df(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Rf(){return this.each(Df)}function If(e){var t=typeof e=="function"?e:vi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ef(){return null}function Ff(e,t){var r=typeof e=="function"?e:vi(e),n=t==null?Ef:typeof t=="function"?t:Cl(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Hf(){var e=this.parentNode;e&&e.removeChild(this)}function Bf(){return this.each(Hf)}function jf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Of(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Vf(e){return this.select(e?Of:jf)}function Uf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Yf(e){return function(t){e.call(this,t,this.__data__)}}function Gf(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function qf(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,l=t.length,i;r<l;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function Jf(e,t,r){return function(){var n=this.__on,l,i=Yf(t);if(n){for(var s=0,a=n.length;s<a;++s)if((l=n[s]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=i,l.options=r),l.value=t;return}}this.addEventListener(e.type,i,r),l={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(l):this.__on=[l]}}function Wf(e,t,r){var n=Gf(e+""),l,i=n.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,d;c<u;++c)for(l=0,d=a[c];l<i;++l)if((s=n[l]).type===d.type&&s.name===d.name)return d.value}return}for(a=t?Jf:qf,l=0;l<i;++l)this.each(a(n[l],t,r));return this}function Si(e,t,r){var n=$i(e),l=n.CustomEvent;typeof l=="function"?l=new l(t,r):(l=n.document.createEvent("Event"),r?(l.initEvent(t,r.bubbles,r.cancelable),l.detail=r.detail):l.initEvent(t,!1,!1)),e.dispatchEvent(l)}function Xf(e,t){return function(){return Si(this,e,t)}}function Kf(e,t){return function(){return Si(this,e,t.apply(this,arguments))}}function Qf(e,t){return this.each((typeof t=="function"?Kf:Xf)(e,t))}function*Zf(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],l=0,i=n.length,s;l<i;++l)(s=n[l])&&(yield s)}var Mi=[null];function bt(e,t){this._groups=e,this._parents=t}function Xr(){return new bt([[document.documentElement]],Mi)}function ep(){return this}bt.prototype=Xr.prototype={constructor:bt,select:Ch,selectAll:zh,selectChild:Nh,selectChildren:Eh,filter:Fh,data:Uh,enter:Hh,exit:Gh,join:qh,merge:Jh,selection:ep,order:Wh,sort:Xh,call:Qh,nodes:Zh,node:ef,size:tf,empty:rf,each:nf,attr:uf,style:gf,property:bf,classed:wf,text:Mf,html:Pf,raise:Nf,lower:Rf,append:If,insert:Ff,remove:Bf,clone:Vf,datum:Uf,on:Wf,dispatch:Qf,[Symbol.iterator]:Zf};function ct(e){return typeof e=="string"?new bt([[document.querySelector(e)]],[document.documentElement]):new bt([[e]],Mi)}function tp(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ut(e,t){if(e=tp(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var l=t.getBoundingClientRect();return[e.clientX-l.left-t.clientLeft,e.clientY-l.top-t.clientTop]}}return[e.pageX,e.pageY]}const rp={passive:!1},Ur={capture:!0,passive:!1};function rl(e){e.stopImmediatePropagation()}function mr(e){e.preventDefault(),e.stopImmediatePropagation()}function Ai(e){var t=e.document.documentElement,r=ct(e).on("dragstart.drag",mr,Ur);"onselectstart"in t?r.on("selectstart.drag",mr,Ur):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function zi(e,t){var r=e.document.documentElement,n=ct(e).on("dragstart.drag",null);t&&(n.on("click.drag",mr,Ur),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const hn=e=>()=>e;function vl(e,{sourceEvent:t,subject:r,target:n,identifier:l,active:i,x:s,y:a,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}vl.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function np(e){return!e.ctrlKey&&!e.button}function lp(){return this.parentNode}function sp(e,t){return t??{x:e.x,y:e.y}}function ip(){return navigator.maxTouchPoints||"ontouchstart"in this}function ap(){var e=np,t=lp,r=sp,n=ip,l={},i=Wr("start","drag","end"),s=0,a,c,u,d,g=0;function h(_){_.on("mousedown.drag",f).filter(n).on("touchstart.drag",$).on("touchmove.drag",x,rp).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(_,T){if(!(d||!e.call(this,_,T))){var X=D(this,t.call(this,_,T),_,T,"mouse");X&&(ct(_.view).on("mousemove.drag",L,Ur).on("mouseup.drag",S,Ur),Ai(_.view),rl(_),u=!1,a=_.clientX,c=_.clientY,X("start",_))}}function L(_){if(mr(_),!u){var T=_.clientX-a,X=_.clientY-c;u=T*T+X*X>g}l.mouse("drag",_)}function S(_){ct(_.view).on("mousemove.drag mouseup.drag",null),zi(_.view,u),mr(_),l.mouse("end",_)}function $(_,T){if(e.call(this,_,T)){var X=_.changedTouches,V=t.call(this,_,T),P=X.length,R,U;for(R=0;R<P;++R)(U=D(this,V,_,T,X[R].identifier,X[R]))&&(rl(_),U("start",_,X[R]))}}function x(_){var T=_.changedTouches,X=T.length,V,P;for(V=0;V<X;++V)(P=l[T[V].identifier])&&(mr(_),P("drag",_,T[V]))}function M(_){var T=_.changedTouches,X=T.length,V,P;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),V=0;V<X;++V)(P=l[T[V].identifier])&&(rl(_),P("end",_,T[V]))}function D(_,T,X,V,P,R){var U=i.copy(),C=Ut(R||X,T),b,k,y;if((y=r.call(_,new vl("beforestart",{sourceEvent:X,target:h,identifier:P,active:s,x:C[0],y:C[1],dx:0,dy:0,dispatch:U}),V))!=null)return b=y.x-C[0]||0,k=y.y-C[1]||0,function z(w,N,v){var A=C,O;switch(w){case"start":l[P]=z,O=s++;break;case"end":delete l[P],--s;case"drag":C=Ut(v||N,T),O=s;break}U.call(w,_,new vl(w,{sourceEvent:N,subject:y,target:h,identifier:P,active:O,x:C[0]+b,y:C[1]+k,dx:C[0]-A[0],dy:C[1]-A[1],dispatch:U}),V)}}return h.filter=function(_){return arguments.length?(e=typeof _=="function"?_:hn(!!_),h):e},h.container=function(_){return arguments.length?(t=typeof _=="function"?_:hn(_),h):t},h.subject=function(_){return arguments.length?(r=typeof _=="function"?_:hn(_),h):r},h.touchable=function(_){return arguments.length?(n=typeof _=="function"?_:hn(!!_),h):n},h.on=function(){var _=i.on.apply(i,arguments);return _===i?h:_},h.clickDistance=function(_){return arguments.length?(g=(_=+_)*_,h):Math.sqrt(g)},h}function Ml(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Li(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Kr(){}var Yr=.7,Nn=1/Yr,xr="\\s*([+-]?\\d+)\\s*",Gr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",op=/^#([0-9a-f]{3,8})$/,cp=new RegExp(`^rgb\\(${xr},${xr},${xr}\\)$`),dp=new RegExp(`^rgb\\(${Et},${Et},${Et}\\)$`),up=new RegExp(`^rgba\\(${xr},${xr},${xr},${Gr}\\)$`),hp=new RegExp(`^rgba\\(${Et},${Et},${Et},${Gr}\\)$`),fp=new RegExp(`^hsl\\(${Gr},${Et},${Et}\\)$`),pp=new RegExp(`^hsla\\(${Gr},${Et},${Et},${Gr}\\)$`),$s={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ml(Kr,qr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_s,formatHex:_s,formatHex8:gp,formatHsl:vp,formatRgb:ws,toString:ws});function _s(){return this.rgb().formatHex()}function gp(){return this.rgb().formatHex8()}function vp(){return Pi(this).formatHsl()}function ws(){return this.rgb().formatRgb()}function qr(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=op.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ks(t):r===3?new mt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?fn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?fn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cp.exec(e))?new mt(t[1],t[2],t[3],1):(t=dp.exec(e))?new mt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=up.exec(e))?fn(t[1],t[2],t[3],t[4]):(t=hp.exec(e))?fn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fp.exec(e))?Ms(t[1],t[2]/100,t[3]/100,1):(t=pp.exec(e))?Ms(t[1],t[2]/100,t[3]/100,t[4]):$s.hasOwnProperty(e)?ks($s[e]):e==="transparent"?new mt(NaN,NaN,NaN,0):null}function ks(e){return new mt(e>>16&255,e>>8&255,e&255,1)}function fn(e,t,r,n){return n<=0&&(e=t=r=NaN),new mt(e,t,r,n)}function mp(e){return e instanceof Kr||(e=qr(e)),e?(e=e.rgb(),new mt(e.r,e.g,e.b,e.opacity)):new mt}function ml(e,t,r,n){return arguments.length===1?mp(e):new mt(e,t,r,n??1)}function mt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ml(mt,ml,Li(Kr,{brighter(e){return e=e==null?Nn:Math.pow(Nn,e),new mt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yr:Math.pow(Yr,e),new mt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new mt(or(this.r),or(this.g),or(this.b),Dn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cs,formatHex:Cs,formatHex8:xp,formatRgb:Ss,toString:Ss}));function Cs(){return`#${ar(this.r)}${ar(this.g)}${ar(this.b)}`}function xp(){return`#${ar(this.r)}${ar(this.g)}${ar(this.b)}${ar((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ss(){const e=Dn(this.opacity);return`${e===1?"rgb(":"rgba("}${or(this.r)}, ${or(this.g)}, ${or(this.b)}${e===1?")":`, ${e})`}`}function Dn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function or(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ar(e){return e=or(e),(e<16?"0":"")+e.toString(16)}function Ms(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Mt(e,t,r,n)}function Pi(e){if(e instanceof Mt)return new Mt(e.h,e.s,e.l,e.opacity);if(e instanceof Kr||(e=qr(e)),!e)return new Mt;if(e instanceof Mt)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,l=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,a=i-l,c=(i+l)/2;return a?(t===i?s=(r-n)/a+(r<n)*6:r===i?s=(n-t)/a+2:s=(t-r)/a+4,a/=c<.5?i+l:2-i-l,s*=60):a=c>0&&c<1?0:s,new Mt(s,a,c,e.opacity)}function bp(e,t,r,n){return arguments.length===1?Pi(e):new Mt(e,t,r,n??1)}function Mt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ml(Mt,bp,Li(Kr,{brighter(e){return e=e==null?Nn:Math.pow(Nn,e),new Mt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yr:Math.pow(Yr,e),new Mt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,l=2*r-n;return new mt(nl(e>=240?e-240:e+120,l,n),nl(e,l,n),nl(e<120?e+240:e-120,l,n),this.opacity)},clamp(){return new Mt(As(this.h),pn(this.s),pn(this.l),Dn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dn(this.opacity);return`${e===1?"hsl(":"hsla("}${As(this.h)}, ${pn(this.s)*100}%, ${pn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function As(e){return e=(e||0)%360,e<0?e+360:e}function pn(e){return Math.max(0,Math.min(1,e||0))}function nl(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ti=e=>()=>e;function yp(e,t){return function(r){return e+r*t}}function $p(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function _p(e){return(e=+e)==1?Ni:function(t,r){return r-t?$p(t,r,e):Ti(isNaN(t)?r:t)}}function Ni(e,t){var r=t-e;return r?yp(e,r):Ti(isNaN(e)?t:e)}const zs=function e(t){var r=_p(t);function n(l,i){var s=r((l=ml(l)).r,(i=ml(i)).r),a=r(l.g,i.g),c=r(l.b,i.b),u=Ni(l.opacity,i.opacity);return function(d){return l.r=s(d),l.g=a(d),l.b=c(d),l.opacity=u(d),l+""}}return n.gamma=e,n}(1);function Xt(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var xl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ll=new RegExp(xl.source,"g");function wp(e){return function(){return e}}function kp(e){return function(t){return e(t)+""}}function Cp(e,t){var r=xl.lastIndex=ll.lastIndex=0,n,l,i,s=-1,a=[],c=[];for(e=e+"",t=t+"";(n=xl.exec(e))&&(l=ll.exec(t));)(i=l.index)>r&&(i=t.slice(r,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(l=l[0])?a[s]?a[s]+=l:a[++s]=l:(a[++s]=null,c.push({i:s,x:Xt(n,l)})),r=ll.lastIndex;return r<t.length&&(i=t.slice(r),a[s]?a[s]+=i:a[++s]=i),a.length<2?c[0]?kp(c[0].x):wp(t):(t=c.length,function(u){for(var d=0,g;d<t;++d)a[(g=c[d]).i]=g.x(u);return a.join("")})}var Ls=180/Math.PI,bl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Di(e,t,r,n,l,i){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,c/=a),e*n<t*r&&(e=-e,t=-t,c=-c,s=-s),{translateX:l,translateY:i,rotate:Math.atan2(t,e)*Ls,skewX:Math.atan(c)*Ls,scaleX:s,scaleY:a}}var gn;function Sp(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?bl:Di(t.a,t.b,t.c,t.d,t.e,t.f)}function Mp(e){return e==null||(gn||(gn=document.createElementNS("http://www.w3.org/2000/svg","g")),gn.setAttribute("transform",e),!(e=gn.transform.baseVal.consolidate()))?bl:(e=e.matrix,Di(e.a,e.b,e.c,e.d,e.e,e.f))}function Ri(e,t,r,n){function l(u){return u.length?u.pop()+" ":""}function i(u,d,g,h,f,L){if(u!==g||d!==h){var S=f.push("translate(",null,t,null,r);L.push({i:S-4,x:Xt(u,g)},{i:S-2,x:Xt(d,h)})}else(g||h)&&f.push("translate("+g+t+h+r)}function s(u,d,g,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:g.push(l(g)+"rotate(",null,n)-2,x:Xt(u,d)})):d&&g.push(l(g)+"rotate("+d+n)}function a(u,d,g,h){u!==d?h.push({i:g.push(l(g)+"skewX(",null,n)-2,x:Xt(u,d)}):d&&g.push(l(g)+"skewX("+d+n)}function c(u,d,g,h,f,L){if(u!==g||d!==h){var S=f.push(l(f)+"scale(",null,",",null,")");L.push({i:S-4,x:Xt(u,g)},{i:S-2,x:Xt(d,h)})}else(g!==1||h!==1)&&f.push(l(f)+"scale("+g+","+h+")")}return function(u,d){var g=[],h=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,g,h),s(u.rotate,d.rotate,g,h),a(u.skewX,d.skewX,g,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,g,h),u=d=null,function(f){for(var L=-1,S=h.length,$;++L<S;)g[($=h[L]).i]=$.x(f);return g.join("")}}}var Ap=Ri(Sp,"px, ","px)","deg)"),zp=Ri(Mp,", ",")",")"),Lp=1e-12;function Ps(e){return((e=Math.exp(e))+1/e)/2}function Pp(e){return((e=Math.exp(e))-1/e)/2}function Tp(e){return((e=Math.exp(2*e))-1)/(e+1)}const Np=function e(t,r,n){function l(i,s){var a=i[0],c=i[1],u=i[2],d=s[0],g=s[1],h=s[2],f=d-a,L=g-c,S=f*f+L*L,$,x;if(S<Lp)x=Math.log(h/u)/t,$=function(V){return[a+V*f,c+V*L,u*Math.exp(t*V*x)]};else{var M=Math.sqrt(S),D=(h*h-u*u+n*S)/(2*u*r*M),_=(h*h-u*u-n*S)/(2*h*r*M),T=Math.log(Math.sqrt(D*D+1)-D),X=Math.log(Math.sqrt(_*_+1)-_);x=(X-T)/t,$=function(V){var P=V*x,R=Ps(T),U=u/(r*M)*(R*Tp(t*P+T)-Pp(T));return[a+U*f,c+U*L,u*R/Ps(t*P+T)]}}return $.duration=x*1e3*t/Math.SQRT2,$}return l.rho=function(i){var s=Math.max(.001,+i),a=s*s,c=a*a;return e(s,a,c)},l}(Math.SQRT2,2,4);var yr=0,Ir=0,Tr=0,Ii=1e3,Rn,Er,In=0,dr=0,Gn=0,Jr=typeof performance=="object"&&performance.now?performance:Date,Ei=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Al(){return dr||(Ei(Dp),dr=Jr.now()+Gn)}function Dp(){dr=0}function En(){this._call=this._time=this._next=null}En.prototype=zl.prototype={constructor:En,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Al():+r)+(t==null?0:+t),!this._next&&Er!==this&&(Er?Er._next=this:Rn=this,Er=this),this._call=e,this._time=r,yl()},stop:function(){this._call&&(this._call=null,this._time=1/0,yl())}};function zl(e,t,r){var n=new En;return n.restart(e,t,r),n}function Rp(){Al(),++yr;for(var e=Rn,t;e;)(t=dr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--yr}function Ts(){dr=(In=Jr.now())+Gn,yr=Ir=0;try{Rp()}finally{yr=0,Ep(),dr=0}}function Ip(){var e=Jr.now(),t=e-In;t>Ii&&(Gn-=t,In=e)}function Ep(){for(var e,t=Rn,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Rn=r);Er=e,yl(n)}function yl(e){if(!yr){Ir&&(Ir=clearTimeout(Ir));var t=e-dr;t>24?(e<1/0&&(Ir=setTimeout(Ts,e-Jr.now()-Gn)),Tr&&(Tr=clearInterval(Tr))):(Tr||(In=Jr.now(),Tr=setInterval(Ip,Ii)),yr=1,Ei(Ts))}}function Ns(e,t,r){var n=new En;return t=t==null?0:+t,n.restart(l=>{n.stop(),e(l+t)},t,r),n}var Fp=Wr("start","end","cancel","interrupt"),Hp=[],Fi=0,Ds=1,$l=2,$n=3,Rs=4,_l=5,_n=6;function qn(e,t,r,n,l,i){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;Bp(e,r,{name:t,index:n,group:l,on:Fp,tween:Hp,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Fi})}function Ll(e,t){var r=Lt(e,t);if(r.state>Fi)throw new Error("too late; already scheduled");return r}function Bt(e,t){var r=Lt(e,t);if(r.state>$n)throw new Error("too late; already running");return r}function Lt(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Bp(e,t,r){var n=e.__transition,l;n[t]=r,r.timer=zl(i,0,r.time);function i(u){r.state=Ds,r.timer.restart(s,r.delay,r.time),r.delay<=u&&s(u-r.delay)}function s(u){var d,g,h,f;if(r.state!==Ds)return c();for(d in n)if(f=n[d],f.name===r.name){if(f.state===$n)return Ns(s);f.state===Rs?(f.state=_n,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete n[d]):+d<t&&(f.state=_n,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete n[d])}if(Ns(function(){r.state===$n&&(r.state=Rs,r.timer.restart(a,r.delay,r.time),a(u))}),r.state=$l,r.on.call("start",e,e.__data__,r.index,r.group),r.state===$l){for(r.state=$n,l=new Array(h=r.tween.length),d=0,g=-1;d<h;++d)(f=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(l[++g]=f);l.length=g+1}}function a(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=_l,1),g=-1,h=l.length;++g<h;)l[g].call(e,d);r.state===_l&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=_n,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function wn(e,t){var r=e.__transition,n,l,i=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){i=!1;continue}l=n.state>$l&&n.state<_l,n.state=_n,n.timer.stop(),n.on.call(l?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}i&&delete e.__transition}}function jp(e){return this.each(function(){wn(this,e)})}function Op(e,t){var r,n;return function(){var l=Bt(this,e),i=l.tween;if(i!==r){n=r=i;for(var s=0,a=n.length;s<a;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}l.tween=n}}function Vp(e,t,r){var n,l;if(typeof r!="function")throw new Error;return function(){var i=Bt(this,e),s=i.tween;if(s!==n){l=(n=s).slice();for(var a={name:t,value:r},c=0,u=l.length;c<u;++c)if(l[c].name===t){l[c]=a;break}c===u&&l.push(a)}i.tween=l}}function Up(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Lt(this.node(),r).tween,l=0,i=n.length,s;l<i;++l)if((s=n[l]).name===e)return s.value;return null}return this.each((t==null?Op:Vp)(r,e,t))}function Pl(e,t,r){var n=e._id;return e.each(function(){var l=Bt(this,n);(l.value||(l.value={}))[t]=r.apply(this,arguments)}),function(l){return Lt(l,n).value[t]}}function Hi(e,t){var r;return(typeof t=="number"?Xt:t instanceof qr?zs:(r=qr(t))?(t=r,zs):Cp)(e,t)}function Yp(e){return function(){this.removeAttribute(e)}}function Gp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qp(e,t,r){var n,l=r+"",i;return function(){var s=this.getAttribute(e);return s===l?null:s===n?i:i=t(n=s,r)}}function Jp(e,t,r){var n,l=r+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===l?null:s===n?i:i=t(n=s,r)}}function Wp(e,t,r){var n,l,i;return function(){var s,a=r(this),c;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=a+"",s===c?null:s===n&&c===l?i:(l=c,i=t(n=s,a)))}}function Xp(e,t,r){var n,l,i;return function(){var s,a=r(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=a+"",s===c?null:s===n&&c===l?i:(l=c,i=t(n=s,a)))}}function Kp(e,t){var r=Yn(e),n=r==="transform"?zp:Hi;return this.attrTween(e,typeof t=="function"?(r.local?Xp:Wp)(r,n,Pl(this,"attr."+e,t)):t==null?(r.local?Gp:Yp)(r):(r.local?Jp:qp)(r,n,t))}function Qp(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Zp(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function eg(e,t){var r,n;function l(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&Zp(e,i)),r}return l._value=t,l}function tg(e,t){var r,n;function l(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&Qp(e,i)),r}return l._value=t,l}function rg(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Yn(e);return this.tween(r,(n.local?eg:tg)(n,t))}function ng(e,t){return function(){Ll(this,e).delay=+t.apply(this,arguments)}}function lg(e,t){return t=+t,function(){Ll(this,e).delay=t}}function sg(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ng:lg)(t,e)):Lt(this.node(),t).delay}function ig(e,t){return function(){Bt(this,e).duration=+t.apply(this,arguments)}}function ag(e,t){return t=+t,function(){Bt(this,e).duration=t}}function og(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ig:ag)(t,e)):Lt(this.node(),t).duration}function cg(e,t){if(typeof t!="function")throw new Error;return function(){Bt(this,e).ease=t}}function dg(e){var t=this._id;return arguments.length?this.each(cg(t,e)):Lt(this.node(),t).ease}function ug(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Bt(this,e).ease=r}}function hg(e){if(typeof e!="function")throw new Error;return this.each(ug(this._id,e))}function fg(e){typeof e!="function"&&(e=xi(e));for(var t=this._groups,r=t.length,n=new Array(r),l=0;l<r;++l)for(var i=t[l],s=i.length,a=n[l]=[],c,u=0;u<s;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&a.push(c);return new qt(n,this._parents,this._name,this._id)}function pg(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,l=r.length,i=Math.min(n,l),s=new Array(n),a=0;a<i;++a)for(var c=t[a],u=r[a],d=c.length,g=s[a]=new Array(d),h,f=0;f<d;++f)(h=c[f]||u[f])&&(g[f]=h);for(;a<n;++a)s[a]=t[a];return new qt(s,this._parents,this._name,this._id)}function gg(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function vg(e,t,r){var n,l,i=gg(t)?Ll:Bt;return function(){var s=i(this,e),a=s.on;a!==n&&(l=(n=a).copy()).on(t,r),s.on=l}}function mg(e,t){var r=this._id;return arguments.length<2?Lt(this.node(),r).on.on(e):this.each(vg(r,e,t))}function xg(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function bg(){return this.on("end.remove",xg(this._id))}function yg(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Cl(e));for(var n=this._groups,l=n.length,i=new Array(l),s=0;s<l;++s)for(var a=n[s],c=a.length,u=i[s]=new Array(c),d,g,h=0;h<c;++h)(d=a[h])&&(g=e.call(d,d.__data__,h,a))&&("__data__"in d&&(g.__data__=d.__data__),u[h]=g,qn(u[h],t,r,h,u,Lt(d,r)));return new qt(i,this._parents,t,r)}function $g(e){var t=this._name,r=this._id;typeof e!="function"&&(e=mi(e));for(var n=this._groups,l=n.length,i=[],s=[],a=0;a<l;++a)for(var c=n[a],u=c.length,d,g=0;g<u;++g)if(d=c[g]){for(var h=e.call(d,d.__data__,g,c),f,L=Lt(d,r),S=0,$=h.length;S<$;++S)(f=h[S])&&qn(f,t,r,S,h,L);i.push(h),s.push(d)}return new qt(i,s,t,r)}var _g=Xr.prototype.constructor;function wg(){return new _g(this._groups,this._parents)}function kg(e,t){var r,n,l;return function(){var i=br(this,e),s=(this.style.removeProperty(e),br(this,e));return i===s?null:i===r&&s===n?l:l=t(r=i,n=s)}}function Bi(e){return function(){this.style.removeProperty(e)}}function Cg(e,t,r){var n,l=r+"",i;return function(){var s=br(this,e);return s===l?null:s===n?i:i=t(n=s,r)}}function Sg(e,t,r){var n,l,i;return function(){var s=br(this,e),a=r(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),br(this,e))),s===c?null:s===n&&c===l?i:(l=c,i=t(n=s,a))}}function Mg(e,t){var r,n,l,i="style."+t,s="end."+i,a;return function(){var c=Bt(this,e),u=c.on,d=c.value[i]==null?a||(a=Bi(t)):void 0;(u!==r||l!==d)&&(n=(r=u).copy()).on(s,l=d),c.on=n}}function Ag(e,t,r){var n=(e+="")=="transform"?Ap:Hi;return t==null?this.styleTween(e,kg(e,n)).on("end.style."+e,Bi(e)):typeof t=="function"?this.styleTween(e,Sg(e,n,Pl(this,"style."+e,t))).each(Mg(this._id,e)):this.styleTween(e,Cg(e,n,t),r).on("end.style."+e,null)}function zg(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Lg(e,t,r){var n,l;function i(){var s=t.apply(this,arguments);return s!==l&&(n=(l=s)&&zg(e,s,r)),n}return i._value=t,i}function Pg(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Lg(e,t,r??""))}function Tg(e){return function(){this.textContent=e}}function Ng(e){return function(){var t=e(this);this.textContent=t??""}}function Dg(e){return this.tween("text",typeof e=="function"?Ng(Pl(this,"text",e)):Tg(e==null?"":e+""))}function Rg(e){return function(t){this.textContent=e.call(this,t)}}function Ig(e){var t,r;function n(){var l=e.apply(this,arguments);return l!==r&&(t=(r=l)&&Rg(l)),t}return n._value=e,n}function Eg(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ig(e))}function Fg(){for(var e=this._name,t=this._id,r=ji(),n=this._groups,l=n.length,i=0;i<l;++i)for(var s=n[i],a=s.length,c,u=0;u<a;++u)if(c=s[u]){var d=Lt(c,t);qn(c,e,r,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new qt(n,this._parents,e,r)}function Hg(){var e,t,r=this,n=r._id,l=r.size();return new Promise(function(i,s){var a={value:s},c={value:function(){--l===0&&i()}};r.each(function(){var u=Bt(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t}),l===0&&i()})}var Bg=0;function qt(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function ji(){return++Bg}var Vt=Xr.prototype;qt.prototype={constructor:qt,select:yg,selectAll:$g,selectChild:Vt.selectChild,selectChildren:Vt.selectChildren,filter:fg,merge:pg,selection:wg,transition:Fg,call:Vt.call,nodes:Vt.nodes,node:Vt.node,size:Vt.size,empty:Vt.empty,each:Vt.each,on:mg,attr:Kp,attrTween:rg,style:Ag,styleTween:Pg,text:Dg,textTween:Eg,remove:bg,tween:Up,delay:sg,duration:og,ease:dg,easeVarying:hg,end:Hg,[Symbol.iterator]:Vt[Symbol.iterator]};function jg(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Og={time:null,delay:0,duration:250,ease:jg};function Vg(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Ug(e){var t,r;e instanceof qt?(t=e._id,e=e._name):(t=ji(),(r=Og).time=Al(),e=e==null?null:e+"");for(var n=this._groups,l=n.length,i=0;i<l;++i)for(var s=n[i],a=s.length,c,u=0;u<a;++u)(c=s[u])&&qn(c,e,t,u,s,r||Vg(c,t));return new qt(n,this._parents,e,t)}Xr.prototype.interrupt=jp;Xr.prototype.transition=Ug;function Yg(e,t){var r,n=1;e==null&&(e=0),t==null&&(t=0);function l(){var i,s=r.length,a,c=0,u=0;for(i=0;i<s;++i)a=r[i],c+=a.x,u+=a.y;for(c=(c/s-e)*n,u=(u/s-t)*n,i=0;i<s;++i)a=r[i],a.x-=c,a.y-=u}return l.initialize=function(i){r=i},l.x=function(i){return arguments.length?(e=+i,l):e},l.y=function(i){return arguments.length?(t=+i,l):t},l.strength=function(i){return arguments.length?(n=+i,l):n},l}function Gg(e){const t=+this._x.call(null,e),r=+this._y.call(null,e);return Oi(this.cover(t,r),t,r,e)}function Oi(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var l,i=e._root,s={data:n},a=e._x0,c=e._y0,u=e._x1,d=e._y1,g,h,f,L,S,$,x,M;if(!i)return e._root=s,e;for(;i.length;)if((S=t>=(g=(a+u)/2))?a=g:u=g,($=r>=(h=(c+d)/2))?c=h:d=h,l=i,!(i=i[x=$<<1|S]))return l[x]=s,e;if(f=+e._x.call(null,i.data),L=+e._y.call(null,i.data),t===f&&r===L)return s.next=i,l?l[x]=s:e._root=s,e;do l=l?l[x]=new Array(4):e._root=new Array(4),(S=t>=(g=(a+u)/2))?a=g:u=g,($=r>=(h=(c+d)/2))?c=h:d=h;while((x=$<<1|S)===(M=(L>=h)<<1|f>=g));return l[M]=i,l[x]=s,e}function qg(e){var t,r,n=e.length,l,i,s=new Array(n),a=new Array(n),c=1/0,u=1/0,d=-1/0,g=-1/0;for(r=0;r<n;++r)isNaN(l=+this._x.call(null,t=e[r]))||isNaN(i=+this._y.call(null,t))||(s[r]=l,a[r]=i,l<c&&(c=l),l>d&&(d=l),i<u&&(u=i),i>g&&(g=i));if(c>d||u>g)return this;for(this.cover(c,u).cover(d,g),r=0;r<n;++r)Oi(this,s[r],a[r],e[r]);return this}function Jg(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,l=this._x1,i=this._y1;if(isNaN(r))l=(r=Math.floor(e))+1,i=(n=Math.floor(t))+1;else{for(var s=l-r||1,a=this._root,c,u;r>e||e>=l||n>t||t>=i;)switch(u=(t<n)<<1|e<r,c=new Array(4),c[u]=a,a=c,s*=2,u){case 0:l=r+s,i=n+s;break;case 1:r=l-s,i=n+s;break;case 2:l=r+s,n=i-s;break;case 3:r=l-s,n=i-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=r,this._y0=n,this._x1=l,this._y1=i,this}function Wg(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Xg(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function dt(e,t,r,n,l){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=l}function Kg(e,t,r){var n,l=this._x0,i=this._y0,s,a,c,u,d=this._x1,g=this._y1,h=[],f=this._root,L,S;for(f&&h.push(new dt(f,l,i,d,g)),r==null?r=1/0:(l=e-r,i=t-r,d=e+r,g=t+r,r*=r);L=h.pop();)if(!(!(f=L.node)||(s=L.x0)>d||(a=L.y0)>g||(c=L.x1)<l||(u=L.y1)<i))if(f.length){var $=(s+c)/2,x=(a+u)/2;h.push(new dt(f[3],$,x,c,u),new dt(f[2],s,x,$,u),new dt(f[1],$,a,c,x),new dt(f[0],s,a,$,x)),(S=(t>=x)<<1|e>=$)&&(L=h[h.length-1],h[h.length-1]=h[h.length-1-S],h[h.length-1-S]=L)}else{var M=e-+this._x.call(null,f.data),D=t-+this._y.call(null,f.data),_=M*M+D*D;if(_<r){var T=Math.sqrt(r=_);l=e-T,i=t-T,d=e+T,g=t+T,n=f.data}}return n}function Qg(e){if(isNaN(d=+this._x.call(null,e))||isNaN(g=+this._y.call(null,e)))return this;var t,r=this._root,n,l,i,s=this._x0,a=this._y0,c=this._x1,u=this._y1,d,g,h,f,L,S,$,x;if(!r)return this;if(r.length)for(;;){if((L=d>=(h=(s+c)/2))?s=h:c=h,(S=g>=(f=(a+u)/2))?a=f:u=f,t=r,!(r=r[$=S<<1|L]))return this;if(!r.length)break;(t[$+1&3]||t[$+2&3]||t[$+3&3])&&(n=t,x=$)}for(;r.data!==e;)if(l=r,!(r=r.next))return this;return(i=r.next)&&delete r.next,l?(i?l.next=i:delete l.next,this):t?(i?t[$]=i:delete t[$],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(n?n[x]=r:this._root=r),this):(this._root=i,this)}function Zg(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function e0(){return this._root}function t0(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function r0(e){var t=[],r,n=this._root,l,i,s,a,c;for(n&&t.push(new dt(n,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(n=r.node,i=r.x0,s=r.y0,a=r.x1,c=r.y1)&&n.length){var u=(i+a)/2,d=(s+c)/2;(l=n[3])&&t.push(new dt(l,u,d,a,c)),(l=n[2])&&t.push(new dt(l,i,d,u,c)),(l=n[1])&&t.push(new dt(l,u,s,a,d)),(l=n[0])&&t.push(new dt(l,i,s,u,d))}return this}function n0(e){var t=[],r=[],n;for(this._root&&t.push(new dt(this._root,this._x0,this._y0,this._x1,this._y1));n=t.pop();){var l=n.node;if(l.length){var i,s=n.x0,a=n.y0,c=n.x1,u=n.y1,d=(s+c)/2,g=(a+u)/2;(i=l[0])&&t.push(new dt(i,s,a,d,g)),(i=l[1])&&t.push(new dt(i,d,a,c,g)),(i=l[2])&&t.push(new dt(i,s,g,d,u)),(i=l[3])&&t.push(new dt(i,d,g,c,u))}r.push(n)}for(;n=r.pop();)e(n.node,n.x0,n.y0,n.x1,n.y1);return this}function l0(e){return e[0]}function s0(e){return arguments.length?(this._x=e,this):this._x}function i0(e){return e[1]}function a0(e){return arguments.length?(this._y=e,this):this._y}function Tl(e,t,r){var n=new Nl(t??l0,r??i0,NaN,NaN,NaN,NaN);return e==null?n:n.addAll(e)}function Nl(e,t,r,n,l,i){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=l,this._y1=i,this._root=void 0}function Is(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var ft=Tl.prototype=Nl.prototype;ft.copy=function(){var e=new Nl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,n;if(!t)return e;if(!t.length)return e._root=Is(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var l=0;l<4;++l)(n=t.source[l])&&(n.length?r.push({source:n,target:t.target[l]=new Array(4)}):t.target[l]=Is(n));return e};ft.add=Gg;ft.addAll=qg;ft.cover=Jg;ft.data=Wg;ft.extent=Xg;ft.find=Kg;ft.remove=Qg;ft.removeAll=Zg;ft.root=e0;ft.size=t0;ft.visit=r0;ft.visitAfter=n0;ft.x=s0;ft.y=a0;function ut(e){return function(){return e}}function Kt(e){return(e()-.5)*1e-6}function o0(e){return e.x+e.vx}function c0(e){return e.y+e.vy}function d0(e){var t,r,n,l=1,i=1;typeof e!="function"&&(e=ut(e==null?1:+e));function s(){for(var u,d=t.length,g,h,f,L,S,$,x=0;x<i;++x)for(g=Tl(t,o0,c0).visitAfter(a),u=0;u<d;++u)h=t[u],S=r[h.index],$=S*S,f=h.x+h.vx,L=h.y+h.vy,g.visit(M);function M(D,_,T,X,V){var P=D.data,R=D.r,U=S+R;if(P){if(P.index>h.index){var C=f-P.x-P.vx,b=L-P.y-P.vy,k=C*C+b*b;k<U*U&&(C===0&&(C=Kt(n),k+=C*C),b===0&&(b=Kt(n),k+=b*b),k=(U-(k=Math.sqrt(k)))/k*l,h.vx+=(C*=k)*(U=(R*=R)/($+R)),h.vy+=(b*=k)*U,P.vx-=C*(U=1-U),P.vy-=b*U)}return}return _>f+U||X<f-U||T>L+U||V<L-U}}function a(u){if(u.data)return u.r=r[u.data.index];for(var d=u.r=0;d<4;++d)u[d]&&u[d].r>u.r&&(u.r=u[d].r)}function c(){if(t){var u,d=t.length,g;for(r=new Array(d),u=0;u<d;++u)g=t[u],r[g.index]=+e(g,u,t)}}return s.initialize=function(u,d){t=u,n=d,c()},s.iterations=function(u){return arguments.length?(i=+u,s):i},s.strength=function(u){return arguments.length?(l=+u,s):l},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:ut(+u),c(),s):e},s}function u0(e){return e.index}function Es(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}function h0(e){var t=u0,r=g,n,l=ut(30),i,s,a,c,u,d=1;e==null&&(e=[]);function g($){return 1/Math.min(a[$.source.index],a[$.target.index])}function h($){for(var x=0,M=e.length;x<d;++x)for(var D=0,_,T,X,V,P,R,U;D<M;++D)_=e[D],T=_.source,X=_.target,V=X.x+X.vx-T.x-T.vx||Kt(u),P=X.y+X.vy-T.y-T.vy||Kt(u),R=Math.sqrt(V*V+P*P),R=(R-i[D])/R*$*n[D],V*=R,P*=R,X.vx-=V*(U=c[D]),X.vy-=P*U,T.vx+=V*(U=1-U),T.vy+=P*U}function f(){if(s){var $,x=s.length,M=e.length,D=new Map(s.map((T,X)=>[t(T,X,s),T])),_;for($=0,a=new Array(x);$<M;++$)_=e[$],_.index=$,typeof _.source!="object"&&(_.source=Es(D,_.source)),typeof _.target!="object"&&(_.target=Es(D,_.target)),a[_.source.index]=(a[_.source.index]||0)+1,a[_.target.index]=(a[_.target.index]||0)+1;for($=0,c=new Array(M);$<M;++$)_=e[$],c[$]=a[_.source.index]/(a[_.source.index]+a[_.target.index]);n=new Array(M),L(),i=new Array(M),S()}}function L(){if(s)for(var $=0,x=e.length;$<x;++$)n[$]=+r(e[$],$,e)}function S(){if(s)for(var $=0,x=e.length;$<x;++$)i[$]=+l(e[$],$,e)}return h.initialize=function($,x){s=$,u=x,f()},h.links=function($){return arguments.length?(e=$,f(),h):e},h.id=function($){return arguments.length?(t=$,h):t},h.iterations=function($){return arguments.length?(d=+$,h):d},h.strength=function($){return arguments.length?(r=typeof $=="function"?$:ut(+$),L(),h):r},h.distance=function($){return arguments.length?(l=typeof $=="function"?$:ut(+$),S(),h):l},h}const f0=1664525,p0=1013904223,Fs=4294967296;function g0(){let e=1;return()=>(e=(f0*e+p0)%Fs)/Fs}function v0(e){return e.x}function m0(e){return e.y}var x0=10,b0=Math.PI*(3-Math.sqrt(5));function y0(e){var t,r=1,n=.001,l=1-Math.pow(n,1/300),i=0,s=.6,a=new Map,c=zl(g),u=Wr("tick","end"),d=g0();e==null&&(e=[]);function g(){h(),u.call("tick",t),r<n&&(c.stop(),u.call("end",t))}function h(S){var $,x=e.length,M;S===void 0&&(S=1);for(var D=0;D<S;++D)for(r+=(i-r)*l,a.forEach(function(_){_(r)}),$=0;$<x;++$)M=e[$],M.fx==null?M.x+=M.vx*=s:(M.x=M.fx,M.vx=0),M.fy==null?M.y+=M.vy*=s:(M.y=M.fy,M.vy=0);return t}function f(){for(var S=0,$=e.length,x;S<$;++S){if(x=e[S],x.index=S,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var M=x0*Math.sqrt(.5+S),D=S*b0;x.x=M*Math.cos(D),x.y=M*Math.sin(D)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function L(S){return S.initialize&&S.initialize(e,d),S}return f(),t={tick:h,restart:function(){return c.restart(g),t},stop:function(){return c.stop(),t},nodes:function(S){return arguments.length?(e=S,f(),a.forEach(L),t):e},alpha:function(S){return arguments.length?(r=+S,t):r},alphaMin:function(S){return arguments.length?(n=+S,t):n},alphaDecay:function(S){return arguments.length?(l=+S,t):+l},alphaTarget:function(S){return arguments.length?(i=+S,t):i},velocityDecay:function(S){return arguments.length?(s=1-S,t):1-s},randomSource:function(S){return arguments.length?(d=S,a.forEach(L),t):d},force:function(S,$){return arguments.length>1?($==null?a.delete(S):a.set(S,L($)),t):a.get(S)},find:function(S,$,x){var M=0,D=e.length,_,T,X,V,P;for(x==null?x=1/0:x*=x,M=0;M<D;++M)V=e[M],_=S-V.x,T=$-V.y,X=_*_+T*T,X<x&&(P=V,x=X);return P},on:function(S,$){return arguments.length>1?(u.on(S,$),t):u.on(S)}}}function $0(){var e,t,r,n,l=ut(-30),i,s=1,a=1/0,c=.81;function u(f){var L,S=e.length,$=Tl(e,v0,m0).visitAfter(g);for(n=f,L=0;L<S;++L)t=e[L],$.visit(h)}function d(){if(e){var f,L=e.length,S;for(i=new Array(L),f=0;f<L;++f)S=e[f],i[S.index]=+l(S,f,e)}}function g(f){var L=0,S,$,x=0,M,D,_;if(f.length){for(M=D=_=0;_<4;++_)(S=f[_])&&($=Math.abs(S.value))&&(L+=S.value,x+=$,M+=$*S.x,D+=$*S.y);f.x=M/x,f.y=D/x}else{S=f,S.x=S.data.x,S.y=S.data.y;do L+=i[S.data.index];while(S=S.next)}f.value=L}function h(f,L,S,$){if(!f.value)return!0;var x=f.x-t.x,M=f.y-t.y,D=$-L,_=x*x+M*M;if(D*D/c<_)return _<a&&(x===0&&(x=Kt(r),_+=x*x),M===0&&(M=Kt(r),_+=M*M),_<s&&(_=Math.sqrt(s*_)),t.vx+=x*f.value*n/_,t.vy+=M*f.value*n/_),!0;if(f.length||_>=a)return;(f.data!==t||f.next)&&(x===0&&(x=Kt(r),_+=x*x),M===0&&(M=Kt(r),_+=M*M),_<s&&(_=Math.sqrt(s*_)));do f.data!==t&&(D=i[f.data.index]*n/_,t.vx+=x*D,t.vy+=M*D);while(f=f.next)}return u.initialize=function(f,L){e=f,r=L,d()},u.strength=function(f){return arguments.length?(l=typeof f=="function"?f:ut(+f),d(),u):l},u.distanceMin=function(f){return arguments.length?(s=f*f,u):Math.sqrt(s)},u.distanceMax=function(f){return arguments.length?(a=f*f,u):Math.sqrt(a)},u.theta=function(f){return arguments.length?(c=f*f,u):Math.sqrt(c)},u}function _0(e){var t=ut(.1),r,n,l;typeof e!="function"&&(e=ut(e==null?0:+e));function i(a){for(var c=0,u=r.length,d;c<u;++c)d=r[c],d.vx+=(l[c]-d.x)*n[c]*a}function s(){if(r){var a,c=r.length;for(n=new Array(c),l=new Array(c),a=0;a<c;++a)n[a]=isNaN(l[a]=+e(r[a],a,r))?0:+t(r[a],a,r)}}return i.initialize=function(a){r=a,s()},i.strength=function(a){return arguments.length?(t=typeof a=="function"?a:ut(+a),s(),i):t},i.x=function(a){return arguments.length?(e=typeof a=="function"?a:ut(+a),s(),i):e},i}function w0(e){var t=ut(.1),r,n,l;typeof e!="function"&&(e=ut(e==null?0:+e));function i(a){for(var c=0,u=r.length,d;c<u;++c)d=r[c],d.vy+=(l[c]-d.y)*n[c]*a}function s(){if(r){var a,c=r.length;for(n=new Array(c),l=new Array(c),a=0;a<c;++a)n[a]=isNaN(l[a]=+e(r[a],a,r))?0:+t(r[a],a,r)}}return i.initialize=function(a){r=a,s()},i.strength=function(a){return arguments.length?(t=typeof a=="function"?a:ut(+a),s(),i):t},i.y=function(a){return arguments.length?(e=typeof a=="function"?a:ut(+a),s(),i):e},i}const vn=e=>()=>e;function k0(e,{sourceEvent:t,target:r,transform:n,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:l}})}function Yt(e,t,r){this.k=e,this.x=t,this.y=r}Yt.prototype={constructor:Yt,scale:function(e){return e===1?this:new Yt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Yt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Dl=new Yt(1,0,0);Yt.prototype;function sl(e){e.stopImmediatePropagation()}function Nr(e){e.preventDefault(),e.stopImmediatePropagation()}function C0(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function S0(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Hs(){return this.__zoom||Dl}function M0(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function A0(){return navigator.maxTouchPoints||"ontouchstart"in this}function z0(e,t,r){var n=e.invertX(t[0][0])-r[0][0],l=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],s=e.invertY(t[1][1])-r[1][1];return e.translate(l>n?(n+l)/2:Math.min(0,n)||Math.max(0,l),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function L0(){var e=C0,t=S0,r=z0,n=M0,l=A0,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=Np,u=Wr("start","zoom","end"),d,g,h,f=500,L=150,S=0,$=10;function x(y){y.property("__zoom",Hs).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",U).filter(l).on("touchstart.zoom",C).on("touchmove.zoom",b).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(y,z,w,N){var v=y.selection?y.selection():y;v.property("__zoom",Hs),y!==v?T(y,z,w,N):v.interrupt().each(function(){X(this,arguments).event(N).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},x.scaleBy=function(y,z,w,N){x.scaleTo(y,function(){var v=this.__zoom.k,A=typeof z=="function"?z.apply(this,arguments):z;return v*A},w,N)},x.scaleTo=function(y,z,w,N){x.transform(y,function(){var v=t.apply(this,arguments),A=this.__zoom,O=w==null?_(v):typeof w=="function"?w.apply(this,arguments):w,ee=A.invert(O),I=typeof z=="function"?z.apply(this,arguments):z;return r(D(M(A,I),O,ee),v,s)},w,N)},x.translateBy=function(y,z,w,N){x.transform(y,function(){return r(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof w=="function"?w.apply(this,arguments):w),t.apply(this,arguments),s)},null,N)},x.translateTo=function(y,z,w,N,v){x.transform(y,function(){var A=t.apply(this,arguments),O=this.__zoom,ee=N==null?_(A):typeof N=="function"?N.apply(this,arguments):N;return r(Dl.translate(ee[0],ee[1]).scale(O.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof w=="function"?-w.apply(this,arguments):-w),A,s)},N,v)};function M(y,z){return z=Math.max(i[0],Math.min(i[1],z)),z===y.k?y:new Yt(z,y.x,y.y)}function D(y,z,w){var N=z[0]-w[0]*y.k,v=z[1]-w[1]*y.k;return N===y.x&&v===y.y?y:new Yt(y.k,N,v)}function _(y){return[(+y[0][0]+ +y[1][0])/2,(+y[0][1]+ +y[1][1])/2]}function T(y,z,w,N){y.on("start.zoom",function(){X(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){X(this,arguments).event(N).end()}).tween("zoom",function(){var v=this,A=arguments,O=X(v,A).event(N),ee=t.apply(v,A),I=w==null?_(ee):typeof w=="function"?w.apply(v,A):w,j=Math.max(ee[1][0]-ee[0][0],ee[1][1]-ee[0][1]),Y=v.__zoom,be=typeof z=="function"?z.apply(v,A):z,ye=c(Y.invert(I).concat(j/Y.k),be.invert(I).concat(j/be.k));return function(K){if(K===1)K=be;else{var ge=ye(K),we=j/ge[2];K=new Yt(we,I[0]-ge[0]*we,I[1]-ge[1]*we)}O.zoom(null,K)}})}function X(y,z,w){return!w&&y.__zooming||new V(y,z)}function V(y,z){this.that=y,this.args=z,this.active=0,this.sourceEvent=null,this.extent=t.apply(y,z),this.taps=0}V.prototype={event:function(y){return y&&(this.sourceEvent=y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(y,z){return this.mouse&&y!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&y!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&y!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(y){var z=ct(this.that).datum();u.call(y,this.that,new k0(y,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:u}),z)}};function P(y,...z){if(!e.apply(this,arguments))return;var w=X(this,z).event(y),N=this.__zoom,v=Math.max(i[0],Math.min(i[1],N.k*Math.pow(2,n.apply(this,arguments)))),A=Ut(y);if(w.wheel)(w.mouse[0][0]!==A[0]||w.mouse[0][1]!==A[1])&&(w.mouse[1]=N.invert(w.mouse[0]=A)),clearTimeout(w.wheel);else{if(N.k===v)return;w.mouse=[A,N.invert(A)],wn(this),w.start()}Nr(y),w.wheel=setTimeout(O,L),w.zoom("mouse",r(D(M(N,v),w.mouse[0],w.mouse[1]),w.extent,s));function O(){w.wheel=null,w.end()}}function R(y,...z){if(h||!e.apply(this,arguments))return;var w=y.currentTarget,N=X(this,z,!0).event(y),v=ct(y.view).on("mousemove.zoom",I,!0).on("mouseup.zoom",j,!0),A=Ut(y,w),O=y.clientX,ee=y.clientY;Ai(y.view),sl(y),N.mouse=[A,this.__zoom.invert(A)],wn(this),N.start();function I(Y){if(Nr(Y),!N.moved){var be=Y.clientX-O,ye=Y.clientY-ee;N.moved=be*be+ye*ye>S}N.event(Y).zoom("mouse",r(D(N.that.__zoom,N.mouse[0]=Ut(Y,w),N.mouse[1]),N.extent,s))}function j(Y){v.on("mousemove.zoom mouseup.zoom",null),zi(Y.view,N.moved),Nr(Y),N.event(Y).end()}}function U(y,...z){if(e.apply(this,arguments)){var w=this.__zoom,N=Ut(y.changedTouches?y.changedTouches[0]:y,this),v=w.invert(N),A=w.k*(y.shiftKey?.5:2),O=r(D(M(w,A),N,v),t.apply(this,z),s);Nr(y),a>0?ct(this).transition().duration(a).call(T,O,N,y):ct(this).call(x.transform,O,N,y)}}function C(y,...z){if(e.apply(this,arguments)){var w=y.touches,N=w.length,v=X(this,z,y.changedTouches.length===N).event(y),A,O,ee,I;for(sl(y),O=0;O<N;++O)ee=w[O],I=Ut(ee,this),I=[I,this.__zoom.invert(I),ee.identifier],v.touch0?!v.touch1&&v.touch0[2]!==I[2]&&(v.touch1=I,v.taps=0):(v.touch0=I,A=!0,v.taps=1+!!d);d&&(d=clearTimeout(d)),A&&(v.taps<2&&(g=I[0],d=setTimeout(function(){d=null},f)),wn(this),v.start())}}function b(y,...z){if(this.__zooming){var w=X(this,z).event(y),N=y.changedTouches,v=N.length,A,O,ee,I;for(Nr(y),A=0;A<v;++A)O=N[A],ee=Ut(O,this),w.touch0&&w.touch0[2]===O.identifier?w.touch0[0]=ee:w.touch1&&w.touch1[2]===O.identifier&&(w.touch1[0]=ee);if(O=w.that.__zoom,w.touch1){var j=w.touch0[0],Y=w.touch0[1],be=w.touch1[0],ye=w.touch1[1],K=(K=be[0]-j[0])*K+(K=be[1]-j[1])*K,ge=(ge=ye[0]-Y[0])*ge+(ge=ye[1]-Y[1])*ge;O=M(O,Math.sqrt(K/ge)),ee=[(j[0]+be[0])/2,(j[1]+be[1])/2],I=[(Y[0]+ye[0])/2,(Y[1]+ye[1])/2]}else if(w.touch0)ee=w.touch0[0],I=w.touch0[1];else return;w.zoom("touch",r(D(O,ee,I),w.extent,s))}}function k(y,...z){if(this.__zooming){var w=X(this,z).event(y),N=y.changedTouches,v=N.length,A,O;for(sl(y),h&&clearTimeout(h),h=setTimeout(function(){h=null},f),A=0;A<v;++A)O=N[A],w.touch0&&w.touch0[2]===O.identifier?delete w.touch0:w.touch1&&w.touch1[2]===O.identifier&&delete w.touch1;if(w.touch1&&!w.touch0&&(w.touch0=w.touch1,delete w.touch1),w.touch0)w.touch0[1]=this.__zoom.invert(w.touch0[0]);else if(w.end(),w.taps===2&&(O=Ut(O,this),Math.hypot(g[0]-O[0],g[1]-O[1])<$)){var ee=ct(this).on("dblclick.zoom");ee&&ee.apply(this,arguments)}}}return x.wheelDelta=function(y){return arguments.length?(n=typeof y=="function"?y:vn(+y),x):n},x.filter=function(y){return arguments.length?(e=typeof y=="function"?y:vn(!!y),x):e},x.touchable=function(y){return arguments.length?(l=typeof y=="function"?y:vn(!!y),x):l},x.extent=function(y){return arguments.length?(t=typeof y=="function"?y:vn([[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]]),x):t},x.scaleExtent=function(y){return arguments.length?(i[0]=+y[0],i[1]=+y[1],x):[i[0],i[1]]},x.translateExtent=function(y){return arguments.length?(s[0][0]=+y[0][0],s[1][0]=+y[1][0],s[0][1]=+y[0][1],s[1][1]=+y[1][1],x):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},x.constrain=function(y){return arguments.length?(r=y,x):r},x.duration=function(y){return arguments.length?(a=+y,x):a},x.interpolate=function(y){return arguments.length?(c=y,x):c},x.on=function(){var y=u.on.apply(u,arguments);return y===u?x:y},x.clickDistance=function(y){return arguments.length?(S=(y=+y)*y,x):Math.sqrt(S)},x.tapDistance=function(y){return arguments.length?($=+y,x):$},x}var P0=m("<svg style=width:100%;height:100%;background:var(--bg-primary)>"),T0=m('<div class="p-4 text-center text-sm rounded-lg"style=background:var(--bg-tertiary);color:var(--text-muted)>No connected resources'),N0=m('<div class=space-y-4><div class="flex items-center gap-4 p-4 rounded-lg"><div class="w-16 h-16 rounded-xl flex items-center justify-center text-3xl"></div><div><div class="font-bold text-lg"style=color:var(--text-primary)></div><div class="flex items-center gap-2 mt-1"><span class="px-2 py-0.5 rounded text-xs font-medium uppercase"style=color:white></span><span class=text-sm style=color:var(--text-muted)>in </span></div></div></div><div><h4 class="font-semibold mb-3 flex items-center gap-2"style=color:var(--text-primary)><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>Connected Resources (<!>)</h4><div class="grid gap-2 max-h-64 overflow-auto">'),D0=m('<div class=space-y-4><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>Resource Map</h1><p style=color:var(--text-secondary)>D3.js force-directed graph  Drag nodes  Scroll to zoom  Hover to highlight</p></div><div class="flex items-center gap-3"><button class=icon-btn title=Refresh style=background:var(--bg-secondary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button><button class="px-3 py-2 rounded-lg text-sm hover:bg-[var(--bg-tertiary)]"style=background:var(--bg-secondary);color:var(--text-primary)>Reset Layout</button></div></div><div class="grid grid-cols-2 md:grid-cols-6 gap-3"><div class="card p-3 flex items-center gap-3"><div class="w-10 h-10 rounded-lg flex items-center justify-center"style=background:var(--bg-tertiary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"style=color:var(--accent-primary)><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></div><div><div class="text-xl font-bold"style=color:var(--accent-primary)></div><div class=text-xs style=color:var(--text-muted)>Connections</div></div></div></div><div class="card overflow-hidden relative"style=height:650px><div class="absolute bottom-4 left-4 p-3 rounded-lg text-xs"style="background:var(--bg-secondary);border:1px solid var(--border-color)"><div class="font-semibold mb-2"style=color:var(--text-primary)>Legend</div><div class="grid grid-cols-3 gap-x-4 gap-y-1"></div></div><div class="absolute bottom-4 right-4 px-3 py-2 rounded-lg text-xs"style=background:var(--bg-secondary);color:var(--text-muted)> Drag nodes  Scroll to zoom  Click for details'),R0=m('<div class="card p-3 flex items-center gap-3"><div class="w-10 h-10 rounded-lg flex items-center justify-center text-lg"></div><div><div class="text-xl font-bold"></div><div class="text-xs capitalize"style=color:var(--text-muted)>s'),I0=m('<div class="h-full flex items-center justify-center"><div class=spinner>'),E0=m('<div class="h-full flex items-center justify-center flex-col gap-4"style=color:var(--text-muted)><svg class="w-20 h-20 opacity-30"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=1.5 d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg><p class=text-lg>No resources found</p><p class=text-sm>Select a namespace with deployments and services'),F0=m('<div class="flex items-center gap-1.5"><span></span><span class=capitalize style=color:var(--text-muted)>'),H0=m('<div class="p-3 rounded-lg flex items-center gap-3 cursor-pointer hover:scale-[1.02] transition-transform"style=background:var(--bg-tertiary)><div class="w-10 h-10 rounded-lg flex items-center justify-center text-lg"></div><div class="flex-1 min-w-0"><div class="font-medium truncate"style=color:var(--accent-primary)></div><div class="text-xs capitalize"style=color:var(--text-muted)></div></div><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"style=color:var(--text-muted)><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 5l7 7-7 7">');const B0=()=>{const[e,{refetch:t}]=De(()=>Ue(),L=>Me.getTopology(L==="_all"?"":L)),[r,n]=F(null),[l,i]=F(!1);let s,a,c=null;const u={node:"#22c55e",deployment:"#3b82f6",statefulset:"#8b5cf6",daemonset:"#f59e0b",service:"#06b6d4",pod:"#ec4899",configmap:"#84cc16",secret:"#ef4444",ingress:"#14b8a6",replicaset:"#6366f1",job:"#f97316",cronjob:"#a855f7"},d=()=>{if(!s||!e())return;const L=e();if(!L?.nodes||L.nodes.length===0)return;ct(s).selectAll("*").remove(),c&&c.stop();const S=a?.clientWidth||1e3,$=650,x=ct(s).attr("width",S).attr("height",$).attr("viewBox",[0,0,S,$]),M=x.append("g"),D=L0().scaleExtent([.2,4]).on("zoom",v=>{M.attr("transform",v.transform)});x.call(D);const _=L.nodes.map(v=>({...v})),T=L.links.map(v=>({source:v.source,target:v.target,value:v.value||1}));c=y0(_).force("link",h0(T).id(v=>v.id).distance(120).strength(.5)).force("charge",$0().strength(-400)).force("center",Yg(S/2,$/2)).force("collision",d0().radius(60)).force("x",_0(S/2).strength(.05)).force("y",w0($/2).strength(.05));const X=x.append("defs");X.append("marker").attr("id","arrowhead").attr("viewBox","-0 -5 10 10").attr("refX",25).attr("refY",0).attr("orient","auto").attr("markerWidth",8).attr("markerHeight",8).append("path").attr("d","M 0,-5 L 10 ,0 L 0,5").attr("fill","#06b6d4").style("opacity",.8);const V=X.append("linearGradient").attr("id","linkGradient").attr("gradientUnits","userSpaceOnUse");V.append("stop").attr("offset","0%").attr("stop-color","#06b6d4").attr("stop-opacity",.6),V.append("stop").attr("offset","100%").attr("stop-color","#8b5cf6").attr("stop-opacity",.6);const P=X.append("filter").attr("id","glow").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");P.append("feGaussianBlur").attr("stdDeviation","3").attr("result","coloredBlur");const R=P.append("feMerge");R.append("feMergeNode").attr("in","coloredBlur"),R.append("feMergeNode").attr("in","SourceGraphic");const U=M.append("g").attr("class","links").selectAll("path").data(T).join("path").attr("fill","none").attr("stroke","url(#linkGradient)").attr("stroke-width",2).attr("stroke-opacity",.6).attr("marker-end","url(#arrowhead)"),C=M.append("g").attr("class","nodes").selectAll("g").data(_).join("g").attr("cursor","pointer").call(ap().on("start",y).on("drag",z).on("end",w));C.append("circle").attr("class","node-ring").attr("r",45).attr("fill",v=>u[v.type]||"#6b7280").attr("fill-opacity",0).attr("stroke",v=>u[v.type]||"#6b7280").attr("stroke-width",0).attr("stroke-dasharray","4 4"),C.append("circle").attr("class","node-circle").attr("r",32).attr("fill",v=>`${u[v.type]||"#6b7280"}20`).attr("stroke",v=>u[v.type]||"#6b7280").attr("stroke-width",2.5),C.append("circle").attr("r",22).attr("fill",v=>`${u[v.type]||"#6b7280"}30`);const b={node:"",deployment:"",statefulset:"",daemonset:"",service:"",pod:"",configmap:"",secret:"",ingress:"",replicaset:"",job:"",cronjob:""};C.append("text").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","20px").text(v=>b[v.type]||""),C.append("text").attr("class","node-label").attr("text-anchor","middle").attr("dy",48).attr("font-size","10px").attr("fill","var(--text-primary)").attr("font-weight","500").text(v=>v.name.length>18?v.name.slice(0,15)+"...":v.name),C.append("rect").attr("x",-20).attr("y",55).attr("width",40).attr("height",14).attr("rx",7).attr("fill",v=>u[v.type]||"#6b7280").attr("fill-opacity",.9),C.append("text").attr("text-anchor","middle").attr("y",65).attr("font-size","8px").attr("fill","white").attr("font-weight","600").text(v=>v.type.toUpperCase().slice(0,6)),C.on("mouseenter",function(v,A){ct(this).select(".node-circle").attr("filter","url(#glow)").attr("stroke-width",3.5),ct(this).select(".node-ring").attr("fill-opacity",.1).attr("stroke-width",2),U.attr("stroke-opacity",ee=>{const I=typeof ee.source=="object"?ee.source.id:ee.source,j=typeof ee.target=="object"?ee.target.id:ee.target;return I===A.id||j===A.id?1:.1}).attr("stroke-width",ee=>{const I=typeof ee.source=="object"?ee.source.id:ee.source,j=typeof ee.target=="object"?ee.target.id:ee.target;return I===A.id||j===A.id?3:1});const O=new Set;O.add(A.id),T.forEach(ee=>{const I=typeof ee.source=="object"?ee.source.id:ee.source,j=typeof ee.target=="object"?ee.target.id:ee.target;I===A.id&&O.add(j),j===A.id&&O.add(I)}),C.attr("opacity",ee=>O.has(ee.id)?1:.3)}).on("mouseleave",function(){ct(this).select(".node-circle").attr("filter",null).attr("stroke-width",2.5),ct(this).select(".node-ring").attr("fill-opacity",0).attr("stroke-width",0),U.attr("stroke-opacity",.6).attr("stroke-width",2),C.attr("opacity",1)});let k=!1;function y(v){k=!1,v.active||c?.alphaTarget(.3).restart(),v.subject.fx=v.subject.x,v.subject.fy=v.subject.y}function z(v){k=!0,v.subject.fx=v.x,v.subject.fy=v.y}function w(v){v.active||c?.alphaTarget(0)}C.on("click",function(v,A){if(k){k=!1;return}v.stopPropagation(),n(A),i(!0)}),c.on("tick",()=>{U.attr("d",v=>{const A=v.source.x,O=v.source.y,ee=v.target.x,I=v.target.y,j=ee-A,Y=I-O,be=Math.sqrt(j*j+Y*Y)*.8;return`M${A},${O}A${be},${be} 0 0,1 ${ee},${I}`}),C.attr("transform",v=>`translate(${v.x},${v.y})`)});const N=Dl.translate(0,0).scale(.9);x.call(D.transform,N)},g=L=>{const S=e();if(!S?.links)return[];const $=[],x=new Map(S.nodes.map(M=>[M.id,M]));return S.links.forEach(M=>{if(M.source===L||typeof M.source=="object"&&M.source.id===L){const D=typeof M.target=="object"?M.target.id:M.target,_=x.get(D);_&&$.push(_)}if(M.target===L||typeof M.target=="object"&&M.target.id===L){const D=typeof M.source=="object"?M.source.id:M.source,_=x.get(D);_&&$.push(_)}}),$};Wt(ya(()=>e(),()=>{d()})),On(()=>{const L=()=>d();window.addEventListener("resize",L),Qt(()=>{window.removeEventListener("resize",L),c&&c.stop()})});const h=()=>{const L=e();return L?.nodes?L.nodes.reduce((S,$)=>(S[$.type]=(S[$.type]||0)+1,S),{}):{}},f={node:"",deployment:"",statefulset:"",daemonset:"",service:"",pod:"",configmap:"",secret:"",ingress:"",replicaset:"",job:"",cronjob:""};return(()=>{var L=D0(),S=L.firstChild,$=S.firstChild,x=$.firstChild;x.nextSibling;var M=$.nextSibling,D=M.firstChild,_=D.nextSibling,T=S.nextSibling,X=T.firstChild,V=X.firstChild;V.firstChild;var P=V.nextSibling,R=P.firstChild;R.nextSibling;var U=T.nextSibling,C=U.firstChild,b=C.firstChild,k=b.nextSibling;C.nextSibling,D.$$click=z=>{const w=z.currentTarget;w.classList.add("refreshing"),setTimeout(()=>w.classList.remove("refreshing"),500),t()},_.$$click=()=>d(),o(T,p(Ee,{get each(){return Object.entries(h())},children:([z,w])=>(()=>{var N=R0(),v=N.firstChild,A=v.nextSibling,O=A.firstChild,ee=O.nextSibling,I=ee.firstChild;return o(v,()=>f[z]||""),o(O,w),o(ee,z,I),te(j=>{var Y=`${u[z]}20`,be=u[z],ye=u[z];return Y!==j.e&&ke(v,"background",j.e=Y),be!==j.t&&ke(v,"color",j.t=be),ye!==j.a&&ke(O,"color",j.a=ye),j},{e:void 0,t:void 0,a:void 0}),N})()}),X),o(R,()=>(e()?.links||[]).length);var y=a;return typeof y=="function"?At(y,U):a=U,o(U,p(le,{get when(){return!e.loading},get fallback(){return I0()},get children(){return p(le,{get when(){return e()?.nodes?.length>0},get fallback(){return E0()},get children(){var z=P0(),w=s;return typeof w=="function"?At(w,z):s=z,z}})}}),C),o(k,p(Ee,{get each(){return Object.entries(f).slice(0,6)},children:([z,w])=>(()=>{var N=F0(),v=N.firstChild,A=v.nextSibling;return o(v,w),o(A,z),N})()})),o(L,p(Qe,{get isOpen(){return l()},onClose:()=>i(!1),get title(){return`${r()?.type}: ${r()?.name}`},size:"lg",get children(){return p(le,{get when(){return r()},get children(){var z=N0(),w=z.firstChild,N=w.firstChild,v=N.nextSibling,A=v.firstChild,O=A.nextSibling,ee=O.firstChild,I=ee.nextSibling;I.firstChild;var j=w.nextSibling,Y=j.firstChild,be=Y.firstChild,ye=be.nextSibling,K=ye.nextSibling;K.nextSibling;var ge=Y.nextSibling;return o(N,()=>f[r().type]||""),o(A,()=>r().name),o(ee,()=>r().type),o(I,()=>r().namespace||Ue(),null),o(Y,()=>g(r().id).length,K),o(ge,p(Ee,{get each(){return g(r().id)},children:we=>(()=>{var Se=H0(),B=Se.firstChild,he=B.nextSibling,Q=he.firstChild,H=Q.nextSibling;return he.nextSibling,Se.$$click=()=>n(we),o(B,()=>f[we.type]||""),o(Q,()=>we.name),o(H,()=>we.type),te(G=>ke(B,"background",`${u[we.type]}20`)),Se})()}),null),o(ge,p(le,{get when(){return g(r().id).length===0},get children(){return T0()}}),null),te(we=>{var Se=`${u[r().type]}15`,B=`${u[r().type]}25`,he=u[r().type];return Se!==we.e&&ke(w,"background",we.e=Se),B!==we.t&&ke(N,"background",we.t=B),he!==we.a&&ke(ee,"background",we.a=he),we},{e:void 0,t:void 0,a:void 0}),z}})}}),null),L})()};qe(["click"]);var j0=m('<div class="text-center py-8"><div class="spinner mx-auto mb-4"></div><p style=color:var(--text-muted)>Running diagnostics...'),O0=m('<div class="text-center py-8"style=color:var(--text-muted)><svg class="w-12 h-12 mx-auto mb-4 text-green-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><p class=text-lg>All checks passed!</p><p class=text-sm>No issues found in the selected scope.'),V0=m('<div class=space-y-6><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>Security & Diagnostics</h1><p style=color:var(--text-secondary)>Cluster health checks, security posture, and best practices analysis</p></div><button class="flex items-center gap-2 px-4 py-2 rounded-lg transition-colors"style=background:var(--bg-tertiary);color:var(--text-primary)><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>Run Diagnostics</button></div><div class="grid grid-cols-1 md:grid-cols-4 gap-6"><div class="card p-6"><div class=text-center><div class="text-5xl font-bold mb-2"></div><div style=color:var(--text-secondary)>Health Score</div><div class="mt-4 h-2 rounded-full overflow-hidden"style=background:var(--bg-tertiary)><div class="h-full rounded-full transition-all"></div></div></div></div><div class="card p-6"><div class=text-center><div class="text-3xl font-bold"style=color:var(--error-color)></div><div class=text-sm style=color:var(--text-secondary)>Critical Issues</div></div></div><div class="card p-6"><div class=text-center><div class="text-3xl font-bold"style=color:var(--warning-color)></div><div class=text-sm style=color:var(--text-secondary)>Warnings</div></div></div><div class="card p-6"><div class=text-center><div class="text-3xl font-bold"style=color:var(--accent-primary)></div><div class=text-sm style=color:var(--text-secondary)>Info</div></div></div></div><div class="flex gap-2 flex-wrap"><button class="px-3 py-1.5 rounded-lg text-sm transition-colors">All Categories</button></div><div class="card p-6"><h3 class="font-semibold mb-4 flex items-center gap-2"style=color:var(--text-primary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg>Findings (<!>)</h3><div class=space-y-3></div></div><div class="card p-6"><h3 class="font-semibold mb-4 flex items-center gap-2"style=color:var(--text-primary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>Security Best Practices</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="p-4 rounded-lg"style=background:var(--bg-tertiary)><h4 class="font-medium mb-2"style=color:var(--text-primary)>Pod Security</h4><ul class="space-y-1 text-sm"style=color:var(--text-secondary)><li>- Run containers as non-root user</li><li>- Use read-only root filesystem</li><li>- Drop all capabilities and add only needed ones</li><li>- Use Pod Security Standards</li></ul></div><div class="p-4 rounded-lg"style=background:var(--bg-tertiary)><h4 class="font-medium mb-2"style=color:var(--text-primary)>Network Security</h4><ul class="space-y-1 text-sm"style=color:var(--text-secondary)><li>- Implement NetworkPolicies</li><li>- Use TLS for all communications</li><li>- Restrict egress traffic</li><li>- Use service mesh for mTLS</li></ul></div><div class="p-4 rounded-lg"style=background:var(--bg-tertiary)><h4 class="font-medium mb-2"style=color:var(--text-primary)>Access Control</h4><ul class="space-y-1 text-sm"style=color:var(--text-secondary)><li>- Use RBAC with least privilege</li><li>- Avoid cluster-admin bindings</li><li>- Use dedicated service accounts</li><li>- Enable audit logging</li></ul></div><div class="p-4 rounded-lg"style=background:var(--bg-tertiary)><h4 class="font-medium mb-2"style=color:var(--text-primary)>Image Security</h4><ul class="space-y-1 text-sm"style=color:var(--text-secondary)><li>- Scan images for vulnerabilities</li><li>- Use trusted base images</li><li>- Sign and verify images</li><li>- Keep images up to date'),U0=m('<span class="ml-1 opacity-70">(<!>)'),Y0=m('<button class="px-3 py-1.5 rounded-lg text-sm transition-colors">'),G0=m('<div class="mt-2 text-xs flex items-start gap-1"style=color:var(--accent-primary)><svg class="w-3 h-3 mt-0.5 flex-shrink-0"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>'),q0=m('<div class="p-4 rounded-lg border"><div class="flex items-start justify-between gap-4"><div class="flex items-start gap-3 flex-1"><div class=mt-0.5></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1"><span class=font-medium style=color:var(--text-primary)></span><span class="px-2 py-0.5 rounded text-xs"></span><span class="px-2 py-0.5 rounded text-xs"style=background:var(--bg-tertiary);color:var(--text-muted)></span></div><div class="text-sm mb-1"style=color:var(--text-secondary)></div><div class=text-xs style=color:var(--text-muted)><span class=font-mono>'),J0=m('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"style=color:var(--error-color)><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z">'),W0=m('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"style=color:var(--warning-color)><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z">'),X0=m('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"style=color:var(--accent-primary)><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">'),K0=m("<span> in ");const Q0=()=>{const[e,t]=F(""),[r]=De(Me.getDiagnosticsCategories),[n,{refetch:l}]=De(()=>({ns:Ue(),cat:e()}),async u=>{const d=u.ns==="_all"?void 0:u.ns,g=u.cat||void 0;return Me.runDiagnostics(d,g)}),i=u=>{switch(u){case"critical":return"var(--error-color)";case"warning":return"var(--warning-color)";case"info":return"var(--accent-primary)";default:return"var(--text-secondary)"}},s=u=>{switch(u){case"critical":return"rgba(239, 68, 68, 0.1)";case"warning":return"rgba(245, 158, 11, 0.1)";case"info":return"rgba(6, 182, 212, 0.1)";default:return"var(--bg-tertiary)"}},a=u=>{switch(u){case"critical":return"rgba(239, 68, 68, 0.3)";case"warning":return"rgba(245, 158, 11, 0.3)";case"info":return"rgba(6, 182, 212, 0.3)";default:return"var(--border-color)"}},c=()=>{const u=n()?.summary;if(!u||u.total===0)return 100;const d=u.critical*20,g=u.warning*5;return Math.max(0,100-d-g)};return(()=>{var u=V0(),d=u.firstChild,g=d.firstChild,h=g.firstChild;h.nextSibling;var f=g.nextSibling,L=d.nextSibling,S=L.firstChild,$=S.firstChild,x=$.firstChild,M=x.nextSibling,D=M.nextSibling,_=D.firstChild,T=S.nextSibling,X=T.firstChild,V=X.firstChild;V.nextSibling;var P=T.nextSibling,R=P.firstChild,U=R.firstChild;U.nextSibling;var C=P.nextSibling,b=C.firstChild,k=b.firstChild;k.nextSibling;var y=L.nextSibling,z=y.firstChild,w=y.nextSibling,N=w.firstChild,v=N.firstChild,A=v.nextSibling,O=A.nextSibling;O.nextSibling;var ee=N.nextSibling,I=w.nextSibling,j=I.firstChild,Y=j.nextSibling,be=Y.firstChild,ye=be.firstChild;ye.nextSibling;var K=be.nextSibling,ge=K.firstChild;ge.nextSibling;var we=K.nextSibling,Se=we.firstChild;Se.nextSibling;var B=we.nextSibling,he=B.firstChild;return he.nextSibling,f.$$click=()=>l(),o(x,c),o(V,()=>n()?.summary?.critical||0),o(U,()=>n()?.summary?.warning||0),o(k,()=>n()?.summary?.info||0),z.$$click=()=>t(""),o(y,p(Ee,{get each(){return r()||[]},children:Q=>(()=>{var H=Y0();return H.$$click=()=>t(Q.id),o(H,()=>Q.name,null),o(H,p(le,{get when(){return n()?.summary?.byCategory?.[Q.id]},get children(){var G=U0(),re=G.firstChild,oe=re.nextSibling;return oe.nextSibling,o(G,()=>n()?.summary?.byCategory?.[Q.id],oe),G}}),null),te(G=>{var re=e()===Q.id?"var(--accent-primary)":"var(--bg-tertiary)",oe=e()===Q.id?"white":"var(--text-secondary)";return re!==G.e&&ke(H,"background",G.e=re),oe!==G.t&&ke(H,"color",G.t=oe),G},{e:void 0,t:void 0}),H})()}),null),o(N,()=>n()?.total||0,O),o(w,p(le,{get when(){return n.loading},get children(){var Q=j0(),H=Q.firstChild;return H.nextSibling,Q}}),ee),o(w,p(le,{get when(){return Re(()=>!n.loading)()&&(n()?.findings?.length||0)===0},get children(){return O0()}}),ee),o(ee,p(Ee,{get each(){return n()?.findings||[]},children:Q=>(()=>{var H=q0(),G=H.firstChild,re=G.firstChild,oe=re.firstChild,ie=oe.nextSibling,$e=ie.firstChild,fe=$e.firstChild,ne=fe.nextSibling,ae=ne.nextSibling,xe=$e.nextSibling,ve=xe.nextSibling,J=ve.firstChild;return o(oe,(()=>{var W=Re(()=>Q.severity==="critical");return()=>W()?J0():Re(()=>Q.severity==="warning")()?W0():X0()})()),o(fe,()=>Q.rule),o(ne,()=>Q.severity),o(ae,()=>Q.category),o(xe,()=>Q.message),o(J,()=>Q.resource),o(ve,(()=>{var W=Re(()=>!!Q.namespace);return()=>W()&&(()=>{var me=K0();return me.firstChild,o(me,()=>Q.namespace,null),me})()})(),null),o(ie,p(le,{get when(){return Q.remediation},get children(){var W=G0(),me=W.firstChild,pe=me.nextSibling;return o(pe,()=>Q.remediation),W}}),null),te(W=>{var me=s(Q.severity),pe=a(Q.severity),de=s(Q.severity),se=i(Q.severity),q=`1px solid ${a(Q.severity)}`;return me!==W.e&&ke(H,"background",W.e=me),pe!==W.t&&ke(H,"border-color",W.t=pe),de!==W.a&&ke(ne,"background",W.a=de),se!==W.o&&ke(ne,"color",W.o=se),q!==W.i&&ke(ne,"border",W.i=q),W},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),H})()})),te(Q=>{var H=c()>=80?"var(--success-color)":c()>=60?"var(--warning-color)":"var(--error-color)",G=`${c()}%`,re=c()>=80?"var(--success-color)":c()>=60?"var(--warning-color)":"var(--error-color)",oe=e()===""?"var(--accent-primary)":"var(--bg-tertiary)",ie=e()===""?"white":"var(--text-secondary)";return H!==Q.e&&ke(x,"color",Q.e=H),G!==Q.t&&ke(_,"width",Q.t=G),re!==Q.a&&ke(_,"background",Q.a=re),oe!==Q.o&&ke(z,"background",Q.o=oe),ie!==Q.i&&ke(z,"color",Q.i=ie),Q},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),u})()};qe(["click"]);var Z0=m('<svg viewBox="0 0 512 512"class="w-8 h-8"><path fill=#0F1689 d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0z"></path><g fill=#fff><circle cx=256 cy=256 r=50></circle><rect x=248 y=96 width=16 height=80 rx=8></rect><rect x=248 y=336 width=16 height=80 rx=8></rect><rect x=96 y=248 width=80 height=16 rx=8></rect><rect x=336 y=248 width=80 height=16 rx=8></rect><rect x=132 y=132 width=16 height=80 rx=8 transform="rotate(-45 140 172)"></rect><rect x=364 y=300 width=16 height=80 rx=8 transform="rotate(-45 372 340)"></rect><rect x=300 y=132 width=16 height=80 rx=8 transform="rotate(45 308 172)"></rect><rect x=132 y=300 width=16 height=80 rx=8 transform="rotate(45 140 340)">'),e1=m('<svg viewBox="0 0 128 128"class="w-8 h-8"><defs><linearGradient id=argoGrad x1=0% y1=0% x2=100% y2=100%><stop offset=0% style=stop-color:#EF7B4D></stop><stop offset=100% style=stop-color:#E96D3F></stop></linearGradient></defs><circle cx=64 cy=64 r=60 fill=url(#argoGrad)></circle><g fill=#fff><ellipse cx=64 cy=52 rx=28 ry=24></ellipse><circle cx=52 cy=48 r=6 fill=#E96D3F></circle><circle cx=76 cy=48 r=6 fill=#E96D3F></circle><circle cx=52 cy=48 r=3 fill=#1a1a1a></circle><circle cx=76 cy=48 r=3 fill=#1a1a1a></circle><path d="M44 76 Q34 90 28 100"stroke=#fff stroke-width=8 stroke-linecap=round fill=none></path><path d="M52 78 Q48 94 44 106"stroke=#fff stroke-width=8 stroke-linecap=round fill=none></path><path d="M64 80 Q64 96 64 108"stroke=#fff stroke-width=8 stroke-linecap=round fill=none></path><path d="M76 78 Q80 94 84 106"stroke=#fff stroke-width=8 stroke-linecap=round fill=none></path><path d="M84 76 Q94 90 100 100"stroke=#fff stroke-width=8 stroke-linecap=round fill=none>'),t1=m('<svg viewBox="0 0 128 128"class="w-8 h-8"><defs><linearGradient id=fluxGrad x1=0% y1=0% x2=100% y2=100%><stop offset=0% style=stop-color:#5468FF></stop><stop offset=100% style=stop-color:#316CE6></stop></linearGradient></defs><circle cx=64 cy=64 r=60 fill=url(#fluxGrad)></circle><g fill=none stroke=#fff stroke-width=8 stroke-linecap=round><path d="M24 44 Q44 28 64 44 Q84 60 104 44"></path><path d="M24 64 Q44 48 64 64 Q84 80 104 64"></path><path d="M24 84 Q44 68 64 84 Q84 100 104 84">'),r1=m('<svg viewBox="0 0 128 128"class="w-8 h-8"><defs><linearGradient id=kustomizeGrad x1=0% y1=0% x2=100% y2=100%><stop offset=0% style=stop-color:#326CE5></stop><stop offset=100% style=stop-color:#1D4ED8></stop></linearGradient></defs><circle cx=64 cy=64 r=60 fill=url(#kustomizeGrad)></circle><g fill=#fff><rect x=32 y=28 width=16 height=72 rx=2></rect><polygon points="48,64 80,28 96,28 56,72 96,100 80,100"></polygon></g><g fill=none stroke=#fff stroke-width=3><rect x=76 y=52 width=20 height=20 rx=2></rect><rect x=86 y=62 width=20 height=20 rx=2>'),n1=m('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">'),l1=m('<div class="card p-6"><h3 class="font-semibold mb-4"style=color:var(--text-primary)>Quick Stats</h3><div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div class="p-4 rounded-lg text-center"style=background:var(--bg-tertiary)><div class="text-2xl font-bold"style=color:var(--accent-primary)>--</div><div class=text-sm style=color:var(--text-secondary)>Helm Releases</div></div><div class="p-4 rounded-lg text-center"style=background:var(--bg-tertiary)><div class="text-2xl font-bold"style=color:var(--accent-secondary)>--</div><div class=text-sm style=color:var(--text-secondary)>ArgoCD Apps</div></div><div class="p-4 rounded-lg text-center"style=background:var(--bg-tertiary)><div class="text-2xl font-bold"style=color:#8b5cf6>--</div><div class=text-sm style=color:var(--text-secondary)>Flux Resources</div></div><div class="p-4 rounded-lg text-center"style=background:var(--bg-tertiary)><div class="text-2xl font-bold"style=color:var(--success-color)></div><div class=text-sm style=color:var(--text-secondary)>Active Plugins'),s1=m("<table class=data-table><thead><tr><th>Name</th><th>Namespace</th><th>Chart</th><th>Revision</th><th>Status</th><th>Updated</th><th>Actions</th></tr></thead><tbody>"),il=m('<div class="card overflow-hidden">'),i1=m("<table class=data-table><thead><tr><th>Name</th><th>Project</th><th>Sync Status</th><th>Health</th><th>Age</th><th>Actions</th></tr></thead><tbody>"),a1=m("<table class=data-table><thead><tr><th>Name</th><th>Kind</th><th>Namespace</th><th>Ready</th><th>Status</th></tr></thead><tbody>"),Bs=m("<div>"),o1=m('<div class="border rounded-lg overflow-hidden"style=border-color:var(--border-color)><table class="data-table w-full"><thead><tr><th>Revision</th><th>Status</th><th>Updated</th><th>Description</th><th>Actions</th></tr></thead><tbody>'),c1=m('<div class=space-y-4><div class="grid grid-cols-2 gap-4"><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Chart</div><div style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Current Revision</div><div style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Namespace</div><div style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Status</div><div><span class="badge badge-success"></span></div></div><div class="p-3 rounded-lg col-span-2"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Last Updated</div><div style=color:var(--text-primary)></div></div></div><div><h4 class="font-semibold mb-3 flex items-center gap-2"style=color:var(--text-primary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>Release History'),d1=m('<div class=space-y-4><div class="flex gap-2"><button class="flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors"style=background:var(--accent-primary);color:#fff><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button><button class="flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors"style="background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div><div class="grid grid-cols-2 gap-4"><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Project</div><div style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Namespace</div><div style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Sync Status</div><div><span></span></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Health</div><div><span></span></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Age</div><div style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Revision</div><div style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg col-span-2"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Repository</div><div class="text-sm break-all"style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Path</div><div style=color:var(--text-primary)></div></div><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Cluster</div><div class="text-sm break-all"style=color:var(--text-primary)>'),u1=m('<div class=space-y-6><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>Plugins</h1><p style=color:var(--text-secondary)>GitOps and package management integrations</p></div><div class="flex gap-2 border-b"style=border-color:var(--border-color)>'),h1=m('<button class="px-4 py-2 -mb-px transition-colors">'),f1=m('<div class="card p-6"><div class="flex items-center gap-3 mb-4"><div class=flex-shrink-0></div><div><div class=font-semibold style=color:var(--text-primary)></div><div class=text-sm style=color:var(--text-muted)></div></div></div><p class="text-sm mb-4"style=color:var(--text-secondary)></p><div class="flex items-center justify-between"><span></span><button class=text-sm style=color:var(--accent-primary)>View '),al=m('<div class="p-8 text-center"><div class="spinner mx-auto">'),p1=m('<tr><td colspan=7 class="text-center py-8"style=color:var(--text-muted)>No Helm releases found'),g1=m('<tr class="cursor-pointer hover:bg-[var(--bg-tertiary)]"><td class=font-medium style=color:var(--accent-primary)></td><td></td><td></td><td></td><td><span></span></td><td></td><td><button class=action-btn title="Details &amp; History"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z">'),v1=m('<div class="p-8 text-center"style=color:var(--text-muted)><svg class="w-12 h-12 mx-auto mb-4 opacity-50"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><p>No ArgoCD applications found</p><p class="text-sm mt-2">ArgoCD may not be installed or configured'),m1=m('<tr class="cursor-pointer hover:bg-[var(--bg-tertiary)]"><td class=font-medium style=color:var(--accent-primary)></td><td></td><td><span></span></td><td><span></span></td><td></td><td class="flex gap-1"><button class=action-btn title=Sync><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button><button class=action-btn title=Refresh><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button><button class=action-btn title=Details><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">'),x1=m('<div class="p-8 text-center"style=color:var(--text-muted)><svg class="w-12 h-12 mx-auto mb-4 opacity-50"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg><p>No Flux resources found</p><p class="text-sm mt-2">Flux may not be installed or configured'),b1=m("<tr><td class=font-medium style=color:var(--accent-primary)></td><td></td><td></td><td><span></span></td><td>"),y1=m('<div class="p-4 text-center"><div class="spinner mx-auto">'),$1=m('<div class="p-4 text-center"style=color:var(--text-muted)>No history available'),_1=m('<span class="ml-2 badge badge-success">current'),w1=m('<button class="px-3 py-1.5 rounded transition-colors font-medium"style=background:var(--warning-color);color:#000>'),k1=m('<tr><td style=color:var(--accent-primary)></td><td><span></span></td><td style=color:var(--text-secondary)></td><td class="max-w-xs truncate"style=color:var(--text-muted)></td><td>');const C1=()=>{const[e,t]=F("overview"),[r,n]=F(null),[l,i]=F(null),[s,a]=F(!1),[c,u]=F(!1),[d,g]=F([]),[h,f]=F(!1),[L,S]=F(!1),[$,x]=F(null),[M,{refetch:D}]=De(()=>e()==="helm",async()=>Me.getHelmReleases()),[_,{refetch:T}]=De(()=>e()==="argocd",async()=>Me.getArgoCDApps()),[X]=De(()=>e()==="flux",async()=>Me.getFluxResources()),V=async(A,O)=>{f(!0);try{const ee=await Me.getHelmReleaseHistory(A,O);g(ee.history||[])}catch(ee){console.error("Failed to fetch release history:",ee),g([])}f(!1)},P=async A=>{const O=r();if(O){S(!0),x(null);try{await Me.rollbackHelmRelease(O.name,O.namespace,A),x({type:"success",text:`Rolled back to revision ${A}`}),V(O.name,O.namespace),D()}catch(ee){x({type:"error",text:ee.message||"Rollback failed"})}S(!1)}},R=async()=>{const A=l();if(A){S(!0),x(null);try{await Me.syncArgoCDApp(A.name,A.namespace),x({type:"success",text:"Sync triggered successfully"}),T()}catch(O){x({type:"error",text:O.message||"Sync failed"})}S(!1)}},U=async()=>{const A=l();if(A){S(!0),x(null);try{await Me.refreshArgoCDApp(A.name,A.namespace),x({type:"success",text:"Refresh triggered successfully"}),T()}catch(O){x({type:"error",text:O.message||"Refresh failed"})}S(!1)}},C=A=>{n(A),a(!0),x(null),V(A.name,A.namespace)},b=A=>{i(A),u(!0),x(null)},k=()=>Z0(),y=()=>e1(),z=()=>t1(),w=()=>r1(),N=[{name:"Helm",version:"v3",enabled:!0,description:"Package manager for Kubernetes",icon:p(k,{})},{name:"ArgoCD",version:"v2",enabled:!0,description:"GitOps continuous delivery",icon:p(y,{})},{name:"Flux",version:"v2",enabled:!0,description:"GitOps toolkit for Kubernetes",icon:p(z,{})},{name:"Kustomize",version:"v5",enabled:!0,description:"Kubernetes native configuration management",icon:p(w,{})}],v=[{id:"overview",label:"Overview"},{id:"helm",label:"Helm Releases"},{id:"argocd",label:"ArgoCD Apps"},{id:"flux",label:"Flux Resources"}];return(()=>{var A=u1(),O=A.firstChild,ee=O.firstChild;ee.nextSibling;var I=O.nextSibling;return o(I,p(Ee,{each:v,children:j=>(()=>{var Y=h1();return Y.$$click=()=>t(j.id),o(Y,()=>j.label),te(be=>{var ye=e()===j.id?"var(--accent-primary)":"var(--text-secondary)",K=e()===j.id?"2px solid var(--accent-primary)":"2px solid transparent";return ye!==be.e&&ke(Y,"color",be.e=ye),K!==be.t&&ke(Y,"border-bottom",be.t=K),be},{e:void 0,t:void 0}),Y})()})),o(A,p(le,{get when(){return e()==="overview"},get children(){return[(()=>{var j=n1();return o(j,p(Ee,{each:N,children:Y=>(()=>{var be=f1(),ye=be.firstChild,K=ye.firstChild,ge=K.nextSibling,we=ge.firstChild,Se=we.nextSibling,B=ye.nextSibling,he=B.nextSibling,Q=he.firstChild,H=Q.nextSibling;return o(K,()=>Y.icon),o(we,()=>Y.name),o(Se,()=>Y.version),o(B,()=>Y.description),o(Q,()=>Y.enabled?"Enabled":"Disabled"),H.$$click=()=>t(Y.name.toLowerCase()),te(()=>Ie(Q,`badge ${Y.enabled?"badge-success":"badge-warning"}`)),be})()})),j})(),(()=>{var j=l1(),Y=j.firstChild,be=Y.nextSibling,ye=be.firstChild,K=ye.firstChild;K.nextSibling;var ge=ye.nextSibling,we=ge.firstChild;we.nextSibling;var Se=ge.nextSibling,B=Se.firstChild;B.nextSibling;var he=Se.nextSibling,Q=he.firstChild;return Q.nextSibling,o(Q,()=>N.filter(H=>H.enabled).length),j})()]}}),null),o(A,p(le,{get when(){return e()==="helm"},get children(){var j=il();return o(j,p(le,{get when(){return!M.loading},get fallback(){return al()},get children(){var Y=s1(),be=Y.firstChild,ye=be.nextSibling;return o(ye,p(Ee,{get each(){return M()||[]},get fallback(){return(()=>{var K=p1();return K.firstChild,K})()},children:K=>(()=>{var ge=g1(),we=ge.firstChild,Se=we.nextSibling,B=Se.nextSibling,he=B.nextSibling,Q=he.nextSibling,H=Q.firstChild,G=Q.nextSibling,re=G.nextSibling,oe=re.firstChild;return ge.$$click=()=>C(K),o(we,()=>K.name),o(Se,()=>K.namespace),o(B,()=>K.chart),o(he,()=>K.revision),o(H,()=>K.status),o(G,()=>K.updated),oe.$$click=ie=>{ie.stopPropagation(),C(K)},te(()=>Ie(H,`badge ${K.status==="deployed"?"badge-success":"badge-warning"}`)),ge})()})),Y}})),j}}),null),o(A,p(le,{get when(){return e()==="argocd"},get children(){var j=il();return o(j,p(le,{get when(){return!_.loading},get fallback(){return al()},get children(){return p(le,{get when(){return(_()||[]).length>0},get fallback(){return v1()},get children(){var Y=i1(),be=Y.firstChild,ye=be.nextSibling;return o(ye,p(Ee,{get each(){return _()||[]},children:K=>(()=>{var ge=m1(),we=ge.firstChild,Se=we.nextSibling,B=Se.nextSibling,he=B.firstChild,Q=B.nextSibling,H=Q.firstChild,G=Q.nextSibling,re=G.nextSibling,oe=re.firstChild,ie=oe.nextSibling,$e=ie.nextSibling;return ge.$$click=()=>b(K),o(we,()=>K.name),o(Se,()=>K.project),o(he,()=>K.syncStatus),o(H,()=>K.health),o(G,()=>K.age),oe.$$click=fe=>{fe.stopPropagation(),i(K),R()},ie.$$click=fe=>{fe.stopPropagation(),i(K),U()},$e.$$click=fe=>{fe.stopPropagation(),b(K)},te(fe=>{var ne=`badge ${K.syncStatus==="Synced"?"badge-success":"badge-warning"}`,ae=`badge ${K.health==="Healthy"?"badge-success":"badge-error"}`;return ne!==fe.e&&Ie(he,fe.e=ne),ae!==fe.t&&Ie(H,fe.t=ae),fe},{e:void 0,t:void 0}),ge})()})),Y}})}})),j}}),null),o(A,p(le,{get when(){return e()==="flux"},get children(){var j=il();return o(j,p(le,{get when(){return!X.loading},get fallback(){return al()},get children(){return p(le,{get when(){return(X()||[]).length>0},get fallback(){return x1()},get children(){var Y=a1(),be=Y.firstChild,ye=be.nextSibling;return o(ye,p(Ee,{get each(){return X()||[]},children:K=>(()=>{var ge=b1(),we=ge.firstChild,Se=we.nextSibling,B=Se.nextSibling,he=B.nextSibling,Q=he.firstChild,H=he.nextSibling;return o(we,()=>K.name),o(Se,()=>K.kind),o(B,()=>K.namespace),o(Q,()=>K.ready?"True":"False"),o(H,()=>K.status),te(()=>Ie(Q,`badge ${K.ready?"badge-success":"badge-error"}`)),ge})()})),Y}})}})),j}}),null),o(A,p(Qe,{get isOpen(){return s()},onClose:()=>a(!1),get title(){return`Helm Release: ${r()?.name}`},size:"lg",get children(){return p(le,{get when(){return r()},get children(){var j=c1(),Y=j.firstChild,be=Y.firstChild,ye=be.firstChild,K=ye.nextSibling,ge=be.nextSibling,we=ge.firstChild,Se=we.nextSibling,B=ge.nextSibling,he=B.firstChild,Q=he.nextSibling,H=B.nextSibling,G=H.firstChild,re=G.nextSibling,oe=re.firstChild,ie=H.nextSibling,$e=ie.firstChild,fe=$e.nextSibling,ne=Y.nextSibling;return ne.firstChild,o(j,p(le,{get when(){return $()},get children(){var ae=Bs();return o(ae,()=>$()?.text),te(()=>Ie(ae,`p-3 rounded-lg ${$()?.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`)),ae}}),Y),o(K,()=>r()?.chart),o(Se,()=>r()?.revision),o(Q,()=>r()?.namespace),o(oe,()=>r()?.status),o(fe,()=>r()?.updated),o(ne,p(le,{get when(){return!h()},get fallback(){return y1()},get children(){return p(le,{get when(){return d().length>0},get fallback(){return $1()},get children(){var ae=o1(),xe=ae.firstChild,ve=xe.firstChild,J=ve.nextSibling;return o(J,p(Ee,{get each(){return d()},children:W=>(()=>{var me=k1(),pe=me.firstChild,de=pe.nextSibling,se=de.firstChild,q=de.nextSibling,ue=q.nextSibling,Le=ue.nextSibling;return o(pe,()=>W.revision,null),o(pe,p(le,{get when(){return W.revision===r()?.revision},get children(){return _1()}}),null),o(se,()=>W.status),o(q,()=>W.updated),o(ue,()=>W.description||"-"),o(Le,p(le,{get when(){return W.revision!==r()?.revision},get children(){var Ae=w1();return Ae.$$click=()=>P(W.revision),o(Ae,()=>L()?"Rolling back...":"Rollback"),te(E=>{var Z=L(),ce=L()?.5:1;return Z!==E.e&&(Ae.disabled=E.e=Z),ce!==E.t&&ke(Ae,"opacity",E.t=ce),E},{e:void 0,t:void 0}),Ae}})),te(()=>Ie(se,`badge ${W.status==="deployed"?"badge-success":W.status==="superseded"?"badge-secondary":"badge-warning"}`)),me})()})),ae}})}}),null),j}})}}),null),o(A,p(Qe,{get isOpen(){return c()},onClose:()=>u(!1),get title(){return`ArgoCD App: ${l()?.name}`},size:"lg",get children(){return p(le,{get when(){return l()},get children(){var j=d1(),Y=j.firstChild,be=Y.firstChild;be.firstChild;var ye=be.nextSibling;ye.firstChild;var K=Y.nextSibling,ge=K.firstChild,we=ge.firstChild,Se=we.nextSibling,B=ge.nextSibling,he=B.firstChild,Q=he.nextSibling,H=B.nextSibling,G=H.firstChild,re=G.nextSibling,oe=re.firstChild,ie=H.nextSibling,$e=ie.firstChild,fe=$e.nextSibling,ne=fe.firstChild,ae=ie.nextSibling,xe=ae.firstChild,ve=xe.nextSibling,J=ae.nextSibling,W=J.firstChild,me=W.nextSibling,pe=J.nextSibling,de=pe.firstChild,se=de.nextSibling,q=pe.nextSibling,ue=q.firstChild,Le=ue.nextSibling,Ae=q.nextSibling,E=Ae.firstChild,Z=E.nextSibling;return o(j,p(le,{get when(){return $()},get children(){var ce=Bs();return o(ce,()=>$()?.text),te(()=>Ie(ce,`p-3 rounded-lg ${$()?.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`)),ce}}),Y),be.$$click=R,o(be,()=>L()?"Syncing...":"Sync",null),ye.$$click=U,o(ye,()=>L()?"Refreshing...":"Refresh",null),o(Se,()=>l()?.project),o(Q,()=>l()?.namespace),o(oe,()=>l()?.syncStatus),o(ne,()=>l()?.health),o(ve,()=>l()?.age),o(me,()=>l()?.revision||"-"),o(se,()=>l()?.repoURL||"-"),o(Le,()=>l()?.path||"-"),o(Z,()=>l()?.cluster||"-"),te(ce=>{var Ne=L(),Te=L()?.5:1,ze=L(),Ce=L()?.5:1,Fe=`badge ${l()?.syncStatus==="Synced"?"badge-success":"badge-warning"}`,Be=`badge ${l()?.health==="Healthy"?"badge-success":"badge-error"}`;return Ne!==ce.e&&(be.disabled=ce.e=Ne),Te!==ce.t&&ke(be,"opacity",ce.t=Te),ze!==ce.a&&(ye.disabled=ce.a=ze),Ce!==ce.o&&ke(ye,"opacity",ce.o=Ce),Fe!==ce.i&&Ie(oe,ce.i=Fe),Be!==ce.n&&Ie(ne,ce.n=Be),ce},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),j}})}}),null),A})()};qe(["click"]);var S1=m('<svg class="w-8 h-8"viewBox="0 0 48 48"><path fill=#4285F4 d="M24 4L6 14v20l18 10 18-10V14L24 4z"></path><path fill=#EA4335 d="M24 4L6 14l18 10 18-10L24 4z"></path><path fill=#34A853 d="M6 34l18 10V24L6 14v20z"></path><path fill=#FBBC05 d="M42 34V14L24 24v20l18-10z"></path><path fill=#fff d="M24 17l-7 4v8l7 4 7-4v-8l-7-4z"opacity=.3>'),M1=m('<svg class="w-8 h-8"viewBox="0 0 48 48"><path fill=#FF9900 d="M8 24c0-8.8 7.2-16 16-16s16 7.2 16 16-7.2 16-16 16S8 32.8 8 24z"></path><path fill=#252F3E d="M16 22c0-4.4 3.6-8 8-8s8 3.6 8 8-3.6 8-8 8-8-3.6-8-8z">'),A1=m('<svg class="w-8 h-8"viewBox="0 0 48 48"><path fill=#0089D6 d="M24 4L8 24l8 16h16l8-16L24 4z">'),z1=m('<svg class="w-8 h-8"fill=none stroke=currentColor viewBox="0 0 24 24"style=color:var(--text-muted)><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z">'),L1=m('<div class="text-center py-8"style=color:var(--text-muted)>No namespace cost data available'),P1=m('<span class="text-xs px-1.5 py-0.5 rounded"style="background:rgba(34, 197, 94, 0.2);color:var(--success-color)">~70% savings'),T1=m('<div class="mt-4 pt-3 border-t"style=border-color:var(--border-color)><div class="flex justify-between text-sm"><span style=color:var(--text-secondary)>On-Demand Nodes</span><span style=color:var(--text-primary)></span></div><div class="flex justify-between text-sm mt-1"><span style=color:var(--text-secondary)>Spot/Preemptible Nodes</span><span class="flex items-center gap-1"><span style=color:var(--success-color)>'),N1=m('<div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><div class="card p-6"><h3 class="font-semibold mb-4"style=color:var(--text-primary)>Cost by Namespace</h3><div class=space-y-3></div></div><div class="card p-6"><h3 class="font-semibold mb-4"style=color:var(--text-primary)>Resource Allocation</h3><div class=space-y-4><div><div class="flex justify-between text-sm mb-2"><span style=color:var(--text-secondary)>CPU (<!>)</span><span style=color:var(--text-muted)>Cluster Total</span></div><div class="h-3 rounded-full overflow-hidden"style=background:var(--bg-tertiary)><div class="h-full rounded-full"style=width:100%;background:var(--accent-primary)></div></div></div><div><div class="flex justify-between text-sm mb-2"><span style=color:var(--text-secondary)>Memory (<!>)</span><span style=color:var(--text-muted)>Cluster Total</span></div><div class="h-3 rounded-full overflow-hidden"style=background:var(--bg-tertiary)><div class="h-full rounded-full"style=width:100%;background:var(--accent-secondary)></div></div></div><div><div class="flex justify-between text-sm mb-2"><span style=color:var(--text-secondary)>Nodes</span><span style=color:var(--text-muted)></span></div></div></div><div class="mt-6 pt-4 border-t"style=border-color:var(--border-color)><h4 class="text-sm font-medium mb-3"style=color:var(--text-primary)>Pricing Rates (<!>)</h4><div class="space-y-2 text-sm"><div class="flex justify-between"><span style=color:var(--text-secondary)>CPU (per core/hour)</span><span style=color:var(--text-primary)>$</span></div><div class="flex justify-between"><span style=color:var(--text-secondary)>Memory (per GB/hour)</span><span style=color:var(--text-primary)>$</span></div><div class="flex justify-between"><span style=color:var(--text-secondary)>Storage (per GB/month)</span><span style=color:var(--text-primary)>$</span></div></div><p class="text-xs mt-3"style=color:var(--text-muted)>'),D1=m('<div class="card overflow-hidden"><table class=data-table><thead><tr><th>Namespace</th><th>Pods</th><th>CPU</th><th>Memory</th><th>Hourly</th><th>Daily</th><th>Monthly</th></tr></thead><tbody>'),R1=m('<div class="card p-6 mb-6"><div class="flex items-center gap-3"><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"style=color:var(--success-color)><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><h3 class=font-semibold style=color:var(--text-primary)>Optimization Opportunities</h3><p class=text-sm style=color:var(--text-secondary)>Resources using less than 10% of their requests could be scaled down to save costs'),I1=m('<div class="card overflow-hidden"><table class=data-table><thead><tr><th>Resource</th><th>Namespace</th><th>Kind</th><th>CPU Usage</th><th>Memory Usage</th><th>Wasted Cost/hr</th></tr></thead><tbody>'),E1=m('<div class=space-y-6><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>Cost Analysis</h1><p style=color:var(--text-secondary)></p></div><div class="flex items-center gap-3 px-4 py-2 rounded-lg"style=background:var(--bg-tertiary)><div><div class=font-medium style=color:var(--text-primary)></div><div class=text-xs style=color:var(--text-muted)></div></div></div></div><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="card p-6"><div class=text-sm style=color:var(--text-muted)>Hourly Cost</div><div class="text-3xl font-bold mt-2"style=color:var(--accent-primary)></div><div class="text-xs mt-1"style=color:var(--text-secondary)> nodes</div></div><div class="card p-6"><div class=text-sm style=color:var(--text-muted)>Daily Cost</div><div class="text-3xl font-bold mt-2"style=color:var(--accent-secondary)></div><div class="text-xs mt-1"style=color:var(--text-secondary)> CPU</div></div><div class="card p-6"><div class=text-sm style=color:var(--text-muted)>Monthly Estimate</div><div class="text-3xl font-bold mt-2"style=color:#f59e0b></div><div class="text-xs mt-1"style=color:var(--text-secondary)> Memory</div></div><div class="card p-6"><div class=text-sm style=color:var(--text-muted)>Potential Savings</div><div class="text-3xl font-bold mt-2"style=color:var(--success-color)></div><div class="text-xs mt-1"style=color:var(--text-secondary)> idle resources</div></div></div><div class="flex gap-2 border-b"style=border-color:var(--border-color)>'),F1=m('<button class="px-4 py-2 -mb-px transition-colors">'),H1=m('<div class="flex items-center justify-between p-3 rounded-lg"style=background:var(--bg-tertiary)><div><div class=font-medium style=color:var(--text-primary)></div><div class=text-xs style=color:var(--text-muted)> pods  <!> CPU  <!> mem</div></div><div class=text-right><div class=font-bold style=color:var(--warning-color)>/mo</div><div class=text-xs style=color:var(--text-muted)>/day'),B1=m('<tr><td colspan=7 class="text-center py-8"style=color:var(--text-muted)>No namespace cost data available'),j1=m("<tr class=hover:bg-[var(--bg-tertiary)]><td class=font-medium style=color:var(--accent-primary)></td><td></td><td></td><td></td><td></td><td></td><td class=font-bold style=color:var(--warning-color)>"),O1=m('<tr><td colspan=6 class="text-center py-8"style=color:var(--text-muted)><svg class="w-12 h-12 mx-auto mb-4 text-green-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><p>No idle resources found</p><p class=text-sm>All resources are being utilized efficiently'),V1=m('<tr class=hover:bg-[var(--bg-tertiary)]><td class=font-medium style=color:var(--accent-primary)></td><td></td><td><span class="badge badge-info"></span></td><td><div class="flex items-center gap-2"><div class="w-16 h-2 rounded-full overflow-hidden"style=background:var(--bg-tertiary)><div class="h-full rounded-full"style=background:var(--warning-color)></div></div><span class=text-xs style=color:var(--text-muted)>%</span></div></td><td><div class="flex items-center gap-2"><div class="w-16 h-2 rounded-full overflow-hidden"style=background:var(--bg-tertiary)><div class="h-full rounded-full"style=background:var(--accent-secondary)></div></div><span class=text-xs style=color:var(--text-muted)>%</span></div></td><td class=font-bold style=color:var(--success-color)>');const U1=()=>{const[e,t]=F("overview"),[r,n]=F(null),[l,{refetch:i}]=De(async()=>{try{const h=await Me.getClusterCost();return console.log("Cost API response:",h),h}catch(h){return console.error("Cost API error:",h),null}}),[s]=De(Me.getStatus),[a]=De(()=>Me.getIdleResources());De(Me.getNamespaces);const c=h=>h==null?"--":`$${h.toFixed(2)}`,u=h=>h==null?"--":h<1?`${(h*1e3).toFixed(0)}m`:`${h.toFixed(2)} cores`,d=h=>h==null?"--":h<1?`${(h*1024).toFixed(0)} Mi`:`${h.toFixed(2)} Gi`,g=[{id:"overview",label:"Overview"},{id:"namespaces",label:"By Namespace"},{id:"idle",label:"Idle Resources"}];return(()=>{var h=E1(),f=h.firstChild,L=f.firstChild,S=L.firstChild,$=S.nextSibling,x=L.nextSibling,M=x.firstChild,D=M.firstChild,_=D.nextSibling,T=f.nextSibling,X=T.firstChild,V=X.firstChild,P=V.nextSibling,R=P.nextSibling,U=R.firstChild,C=X.nextSibling,b=C.firstChild,k=b.nextSibling,y=k.nextSibling,z=y.firstChild,w=C.nextSibling,N=w.firstChild,v=N.nextSibling,A=v.nextSibling,O=A.firstChild,ee=w.nextSibling,I=ee.firstChild,j=I.nextSibling,Y=j.nextSibling,be=Y.firstChild,ye=T.nextSibling;return o($,(()=>{var K=Re(()=>!!s()?.cluster);return()=>K()?`Cluster: ${s()?.cluster}`:"Cluster cost estimation and optimization opportunities"})()),o(x,p(le,{get when(){return l()?.cloud?.provider==="gcp"},get children(){return S1()}}),M),o(x,p(le,{get when(){return l()?.cloud?.provider==="aws"},get children(){return M1()}}),M),o(x,p(le,{get when(){return l()?.cloud?.provider==="azure"},get children(){return A1()}}),M),o(x,p(le,{get when(){return!l()?.cloud?.provider||l()?.cloud?.provider==="unknown"},get children(){return z1()}}),M),o(D,(()=>{var K=Re(()=>!!l.loading);return()=>K()?"Loading...":l()?.cloud?.displayName||"Unknown Cloud"})()),o(_,(()=>{var K=Re(()=>!!l.loading);return()=>K()?"...":l()?.cloud?.region||"Unknown region"})()),o(P,()=>c(l()?.hourlyCost)),o(R,()=>l()?.nodeCount||0,U),o(k,()=>c(l()?.dailyCost)),o(y,()=>u(l()?.totalCpu),z),o(v,()=>c(l()?.monthlyCost)),o(A,()=>d(l()?.totalMemory),O),o(j,()=>c((a()?.idleResources||[]).reduce((K,ge)=>K+(ge.wastedCost||0),0)*720)),o(Y,()=>(a()?.idleResources||[]).length,be),o(ye,p(Ee,{each:g,children:K=>(()=>{var ge=F1();return ge.$$click=()=>t(K.id),o(ge,()=>K.label),te(we=>{var Se=e()===K.id?"var(--accent-primary)":"var(--text-secondary)",B=e()===K.id?"2px solid var(--accent-primary)":"2px solid transparent";return Se!==we.e&&ke(ge,"color",we.e=Se),B!==we.t&&ke(ge,"border-bottom",we.t=B),we},{e:void 0,t:void 0}),ge})()})),o(h,p(le,{get when(){return e()==="overview"},get children(){var K=N1(),ge=K.firstChild,we=ge.firstChild,Se=we.nextSibling,B=ge.nextSibling,he=B.firstChild,Q=he.nextSibling,H=Q.firstChild,G=H.firstChild,re=G.firstChild,oe=re.firstChild,ie=oe.nextSibling;ie.nextSibling,re.nextSibling;var $e=G.nextSibling;$e.firstChild;var fe=H.nextSibling,ne=fe.firstChild,ae=ne.firstChild,xe=ae.firstChild,ve=xe.nextSibling;ve.nextSibling,ae.nextSibling;var J=ne.nextSibling;J.firstChild;var W=fe.nextSibling,me=W.firstChild,pe=me.firstChild,de=pe.nextSibling,se=Q.nextSibling,q=se.firstChild,ue=q.firstChild,Le=ue.nextSibling;Le.nextSibling;var Ae=q.nextSibling,E=Ae.firstChild,Z=E.firstChild,ce=Z.nextSibling;ce.firstChild;var Ne=E.nextSibling,Te=Ne.firstChild,ze=Te.nextSibling;ze.firstChild;var Ce=Ne.nextSibling,Fe=Ce.firstChild,Be=Fe.nextSibling;Be.firstChild;var et=Ae.nextSibling;return o(Se,p(Ee,{get each(){return(l()?.namespaceCosts||[]).slice(0,8)},children:Ve=>(()=>{var yt=H1(),wt=yt.firstChild,kt=wt.firstChild,Ct=kt.nextSibling,jt=Ct.firstChild,$t=jt.nextSibling,er=$t.nextSibling,fr=er.nextSibling;fr.nextSibling;var Wn=wt.nextSibling,tr=Wn.firstChild,_r=tr.firstChild,wr=tr.nextSibling,en=wr.firstChild;return o(kt,()=>Ve.namespace),o(Ct,()=>Ve.podCount,jt),o(Ct,()=>u(Ve.totalCpu),$t),o(Ct,()=>d(Ve.totalMemory),fr),o(tr,()=>c(Ve.monthlyCost),_r),o(wr,()=>c(Ve.dailyCost),en),yt})()}),null),o(Se,p(le,{get when(){return(l()?.namespaceCosts||[]).length===0},get children(){return L1()}}),null),o(re,()=>u(l()?.totalCpu),ie),o(ae,()=>d(l()?.totalMemory),ve),o(de,()=>l()?.nodeCount||0),o(q,()=>l()?.pricing?.provider||"Generic",Le),o(q,(()=>{var Ve=Re(()=>!!l()?.pricing?.region);return()=>Ve()?` - ${l()?.pricing?.region}`:""})(),Le),o(ce,()=>(l()?.pricing?.cpuPerCoreHour||.0336).toFixed(4),null),o(ze,()=>(l()?.pricing?.memoryPerGBHour||.0045).toFixed(4),null),o(Be,()=>(l()?.pricing?.storagePerGBMonth||.1).toFixed(2),null),o(se,p(le,{get when(){return l()?.pricing?.spotNodesCount!==void 0},get children(){var Ve=T1(),yt=Ve.firstChild,wt=yt.firstChild,kt=wt.nextSibling,Ct=yt.nextSibling,jt=Ct.firstChild,$t=jt.nextSibling,er=$t.firstChild;return o(kt,()=>l()?.pricing?.onDemandNodesCount||0),o(er,()=>l()?.pricing?.spotNodesCount||0),o($t,p(le,{get when(){return(l()?.pricing?.spotNodesCount||0)>0},get children(){return P1()}}),null),Ve}}),et),o(et,p(le,{get when(){return l()?.cloud?.provider==="gcp"},fallback:"Rates auto-detected from cluster. Actual costs may vary.",get children(){return["GCP ",Re(()=>l()?.cloud?.region)," region pricing applied automatically."]}})),K}}),null),o(h,p(le,{get when(){return e()==="namespaces"},get children(){var K=D1(),ge=K.firstChild,we=ge.firstChild,Se=we.nextSibling;return o(Se,p(Ee,{get each(){return l()?.namespaceCosts||[]},get fallback(){return(()=>{var B=B1();return B.firstChild,B})()},children:B=>(()=>{var he=j1(),Q=he.firstChild,H=Q.nextSibling,G=H.nextSibling,re=G.nextSibling,oe=re.nextSibling,ie=oe.nextSibling,$e=ie.nextSibling;return o(Q,()=>B.namespace),o(H,()=>B.podCount),o(G,()=>u(B.totalCpu)),o(re,()=>d(B.totalMemory)),o(oe,()=>c(B.hourlyCost)),o(ie,()=>c(B.dailyCost)),o($e,()=>c(B.monthlyCost)),he})()})),K}}),null),o(h,p(le,{get when(){return e()==="idle"},get children(){return[(()=>{var K=R1(),ge=K.firstChild,we=ge.firstChild,Se=we.nextSibling,B=Se.firstChild;return B.nextSibling,K})(),(()=>{var K=I1(),ge=K.firstChild,we=ge.firstChild,Se=we.nextSibling;return o(Se,p(Ee,{get each(){return a()?.idleResources||[]},get fallback(){return(()=>{var B=O1();return B.firstChild,B})()},children:B=>(()=>{var he=V1(),Q=he.firstChild,H=Q.nextSibling,G=H.nextSibling,re=G.firstChild,oe=G.nextSibling,ie=oe.firstChild,$e=ie.firstChild,fe=$e.firstChild,ne=$e.nextSibling,ae=ne.firstChild,xe=oe.nextSibling,ve=xe.firstChild,J=ve.firstChild,W=J.firstChild,me=J.nextSibling,pe=me.firstChild,de=xe.nextSibling;return o(Q,()=>B.name),o(H,()=>B.namespace),o(re,()=>B.kind),o(ne,()=>(B.cpuUsage/B.cpuRequest*100).toFixed(1),ae),o(me,()=>(B.memoryUsage/B.memoryRequest*100).toFixed(1),pe),o(de,()=>c(B.wastedCost)),te(se=>{var q=`${Math.min(100,B.cpuUsage/B.cpuRequest*100)}%`,ue=`${Math.min(100,B.memoryUsage/B.memoryRequest*100)}%`;return q!==se.e&&ke(fe,"width",se.e=q),ue!==se.t&&ke(W,"width",se.t=ue),se},{e:void 0,t:void 0}),he})()})),K})()]}}),null),h})()};qe(["click"]);var Y1=m('<div class="card p-8"><div class=text-center><div class="spinner mx-auto mb-4"></div><p style=color:var(--text-muted)>Checking for configuration drift...'),G1=m('<div class="card p-8"><div class=text-center><svg class="w-16 h-16 mx-auto mb-4"fill=none stroke=currentColor viewBox="0 0 24 24"style=color:var(--success-color)><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><h3 class="text-lg font-semibold"style=color:var(--text-primary)>No Configuration Drift Detected</h3><p style=color:var(--text-secondary)>All resources are in sync with their expected state'),q1=m('<div class="card overflow-hidden"><div class="p-4 border-b"style=border-color:var(--border-color)><h3 class="font-semibold flex items-center gap-2"style=color:var(--text-primary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"style=color:var(--error-color)><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>Drifted Resources (<!>)</h3></div><table class=data-table><thead><tr><th>Resource</th><th>Kind</th><th>Namespace</th><th>Changes</th><th>Last Checked</th><th>Actions</th></tr></thead><tbody>'),J1=m("<div class=space-y-3>"),W1=m('<div class=space-y-4><div class="p-3 rounded-lg"style=background:var(--bg-tertiary)><div class=text-sm style=color:var(--text-muted)>Namespace</div><div style=color:var(--text-primary)></div></div><h4 class=font-medium style=color:var(--text-primary)>Changes Detected</h4><div class="flex justify-end gap-2 mt-4"><button class="px-4 py-2 rounded-lg"style=background:var(--bg-tertiary);color:var(--text-primary)>Close</button><button class="px-4 py-2 rounded-lg"style=background:var(--success-color);color:white>Revert to Expected'),X1=m('<div class=space-y-6><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold"style=color:var(--text-primary)>Configuration Drift</h1><p style=color:var(--text-secondary)>Detect and remediate configuration drift from desired state</p></div><button class="flex items-center gap-2 px-4 py-2 rounded-lg transition-colors"style=background:var(--bg-tertiary);color:var(--text-primary)><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>Check Drift</button></div><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="card p-6"><div class=text-sm style=color:var(--text-muted)>Resources Checked</div><div class="text-3xl font-bold mt-2"style=color:var(--accent-primary)></div></div><div class="card p-6"><div class=text-sm style=color:var(--text-muted)>In Sync</div><div class="text-3xl font-bold mt-2"style=color:var(--success-color)></div></div><div class="card p-6"><div class=text-sm style=color:var(--text-muted)>Drifted</div><div class="text-3xl font-bold mt-2"></div></div><div class="card p-6"><div class=text-sm style=color:var(--text-muted)>Health</div><div class="text-3xl font-bold mt-2">%</div></div></div><div class="card p-6"><h3 class="font-semibold mb-4 flex items-center gap-2"style=color:var(--text-primary)><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>About Configuration Drift</h3><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="p-4 rounded-lg"style=background:var(--bg-tertiary)><h4 class="font-medium mb-2"style=color:var(--text-primary)>What is Drift?</h4><p class=text-sm style=color:var(--text-secondary)>Configuration drift occurs when the actual state of a resource differs from its expected or desired state, often due to manual changes.</p></div><div class="p-4 rounded-lg"style=background:var(--bg-tertiary)><h4 class="font-medium mb-2"style=color:var(--text-primary)>Detection Method</h4><p class=text-sm style=color:var(--text-secondary)>We compare resource specifications against their last-applied-configuration annotation or GitOps source of truth.</p></div><div class="p-4 rounded-lg"style=background:var(--bg-tertiary)><h4 class="font-medium mb-2"style=color:var(--text-primary)>Remediation</h4><p class=text-sm style=color:var(--text-secondary)>Revert drifted resources to their expected state automatically, or use GitOps to sync from your repository.'),K1=m('<tr class=hover:bg-[var(--bg-tertiary)]><td class=font-medium style=color:var(--accent-primary)></td><td><span class="badge badge-info"></span></td><td></td><td><span class="badge badge-warning"> changes</span></td><td class=text-sm style=color:var(--text-muted)></td><td><div class="flex items-center gap-2"><button class=action-btn title="View Diff"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></button><button class=action-btn title="Revert to Expected"style=color:var(--success-color)><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6">'),Q1=m('<div class="text-center py-4"style=color:var(--text-muted)>No detailed changes available'),Z1=m('<div class="p-3 rounded-lg border"style=background:var(--bg-secondary);border-color:var(--border-color)><div class="font-mono text-sm mb-2"style=color:var(--accent-primary)></div><div class="grid grid-cols-2 gap-4 text-sm"><div><div class="text-xs mb-1"style=color:var(--text-muted)>Expected</div><div class="p-2 rounded font-mono text-xs break-all"style="background:rgba(34, 197, 94, 0.1);color:var(--success-color)"></div></div><div><div class="text-xs mb-1"style=color:var(--text-muted)>Actual</div><div class="p-2 rounded font-mono text-xs break-all"style="background:rgba(239, 68, 68, 0.1);color:var(--error-color)">');const ev=()=>{const[e,t]=F(!1),[r,n]=F(null),[l,{refetch:i}]=De(()=>Ue(),async d=>{const g=d==="_all"?"default":d;return Me.getDriftSummary(g)}),s=d=>{n(d),t(!0)},a=async d=>{if(confirm(`Revert ${d.kind}/${d.name} to its expected state?`))try{await Me.revertDrift(d.kind,d.name,d.namespace),i()}catch(g){console.error("Failed to revert drift:",g),alert("Failed to revert. Check console for details.")}},c=()=>(l()?.drifted||[]).length,u=()=>l()?.total||0;return(()=>{var d=X1(),g=d.firstChild,h=g.firstChild,f=h.firstChild;f.nextSibling;var L=h.nextSibling,S=g.nextSibling,$=S.firstChild,x=$.firstChild,M=x.nextSibling,D=$.nextSibling,_=D.firstChild,T=_.nextSibling,X=D.nextSibling,V=X.firstChild,P=V.nextSibling,R=X.nextSibling,U=R.firstChild,C=U.nextSibling,b=C.firstChild,k=S.nextSibling,y=k.firstChild,z=y.nextSibling,w=z.firstChild,N=w.firstChild;N.nextSibling;var v=w.nextSibling,A=v.firstChild;A.nextSibling;var O=v.nextSibling,ee=O.firstChild;return ee.nextSibling,L.$$click=()=>i(),o(M,u),o(T,()=>u()-c()),o(P,c),o(C,(()=>{var I=Re(()=>u()>0);return()=>I()?Math.round((u()-c())/u()*100):100})(),b),o(d,p(le,{get when(){return l.loading},get children(){var I=Y1(),j=I.firstChild,Y=j.firstChild;return Y.nextSibling,I}}),k),o(d,p(le,{get when(){return Re(()=>!l.loading)()&&c()===0},get children(){var I=G1(),j=I.firstChild,Y=j.firstChild,be=Y.nextSibling;return be.nextSibling,I}}),k),o(d,p(le,{get when(){return Re(()=>!l.loading)()&&c()>0},get children(){var I=q1(),j=I.firstChild,Y=j.firstChild,be=Y.firstChild,ye=be.nextSibling,K=ye.nextSibling;K.nextSibling;var ge=j.nextSibling,we=ge.firstChild,Se=we.nextSibling;return o(Y,c,K),o(Se,p(Ee,{get each(){return l()?.drifted||[]},children:B=>(()=>{var he=K1(),Q=he.firstChild,H=Q.nextSibling,G=H.firstChild,re=H.nextSibling,oe=re.nextSibling,ie=oe.firstChild,$e=ie.firstChild,fe=oe.nextSibling,ne=fe.nextSibling,ae=ne.firstChild,xe=ae.firstChild,ve=xe.nextSibling;return o(Q,()=>B.name),o(G,()=>B.kind),o(re,()=>B.namespace),o(ie,()=>B.driftDetails?.length||0,$e),o(fe,()=>B.lastChecked||"Just now"),xe.$$click=()=>s(B),ve.$$click=()=>a(B),he})()})),I}}),k),o(d,p(Qe,{get isOpen(){return e()},onClose:()=>t(!1),get title(){return`Drift Details: ${r()?.kind}/${r()?.name}`},size:"lg",get children(){return p(le,{get when(){return r()},get children(){var I=W1(),j=I.firstChild,Y=j.firstChild,be=Y.nextSibling,ye=j.nextSibling,K=ye.nextSibling,ge=K.firstChild,we=ge.nextSibling;return o(be,()=>r()?.namespace),o(I,p(le,{get when(){return(r()?.driftDetails||[]).length>0},get fallback(){return Q1()},get children(){var Se=J1();return o(Se,p(Ee,{get each(){return r()?.driftDetails||[]},children:B=>(()=>{var he=Z1(),Q=he.firstChild,H=Q.nextSibling,G=H.firstChild,re=G.firstChild,oe=re.nextSibling,ie=G.nextSibling,$e=ie.firstChild,fe=$e.nextSibling;return o(Q,()=>B.field),o(oe,()=>B.expected||"(not set)"),o(fe,()=>B.actual||"(not set)"),he})()})),Se}}),K),ge.$$click=()=>t(!1),we.$$click=()=>{r()&&a(r()),t(!1)},I}})}}),null),te(I=>{var j=c()>0?"var(--error-color)":"var(--success-color)",Y=c()===0?"var(--success-color)":c()<5?"var(--warning-color)":"var(--error-color)";return j!==I.e&&ke(P,"color",I.e=j),Y!==I.t&&ke(C,"color",I.t=Y),I},{e:void 0,t:void 0}),d})()};qe(["click"]);function Rl(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let hr=Rl();function Vi(e){hr=e}const Ui=/[&<>"']/,tv=new RegExp(Ui.source,"g"),Yi=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,rv=new RegExp(Yi.source,"g"),nv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},js=e=>nv[e];function xt(e,t){if(t){if(Ui.test(e))return e.replace(tv,js)}else if(Yi.test(e))return e.replace(rv,js);return e}const lv=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function sv(e){return e.replace(lv,(t,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const iv=/(^|[^\[])\^/g;function Ye(e,t){let r=typeof e=="string"?e:e.source;t=t||"";const n={replace:(l,i)=>{let s=typeof i=="string"?i:i.source;return s=s.replace(iv,"$1"),r=r.replace(l,s),n},getRegex:()=>new RegExp(r,t)};return n}function Os(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const jr={exec:()=>null};function Vs(e,t){const r=e.replace(/\|/g,(i,s,a)=>{let c=!1,u=s;for(;--u>=0&&a[u]==="\\";)c=!c;return c?"|":" |"}),n=r.split(/ \|/);let l=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;l<n.length;l++)n[l]=n[l].trim().replace(/\\\|/g,"|");return n}function mn(e,t,r){const n=e.length;if(n===0)return"";let l=0;for(;l<n&&e.charAt(n-l-1)===t;)l++;return e.slice(0,n-l)}function av(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}function Us(e,t,r,n){const l=t.href,i=t.title?xt(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){n.state.inLink=!0;const a={type:"link",raw:r,href:l,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:l,title:i,text:xt(s)}}function ov(e,t){const r=e.match(/^(\s+)(?:```)/);if(r===null)return t;const n=r[1];return t.split(`
`).map(l=>{const i=l.match(/^\s+/);if(i===null)return l;const[s]=i;return s.length>=n.length?l.slice(n.length):l}).join(`
`)}class Fn{options;rules;lexer;constructor(t){this.options=t||hr}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:mn(n,`
`)}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],l=ov(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:l}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const l=mn(n,"#");(this.options.pedantic||!l||/ $/.test(l))&&(n=l.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){let n=r[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);n=mn(n.replace(/^ *>[ \t]?/gm,""),`
`);const l=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=l,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const l=n.length>1,i={type:"list",raw:"",ordered:l,start:l?+n.slice(0,-1):"",loose:!1,items:[]};n=l?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=l?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a="",c="",u=!1;for(;t;){let d=!1;if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;a=r[0],t=t.substring(a.length);let g=r[2].split(`
`,1)[0].replace(/^\t+/,x=>" ".repeat(3*x.length)),h=t.split(`
`,1)[0],f=0;this.options.pedantic?(f=2,c=g.trimStart()):(f=r[2].search(/[^ ]/),f=f>4?1:f,c=g.slice(f),f+=r[1].length);let L=!1;if(!g&&/^ *$/.test(h)&&(a+=h+`
`,t=t.substring(h.length+1),d=!0),!d){const x=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),M=new RegExp(`^ {0,${Math.min(3,f-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),D=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:\`\`\`|~~~)`),_=new RegExp(`^ {0,${Math.min(3,f-1)}}#`);for(;t;){const T=t.split(`
`,1)[0];if(h=T,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),D.test(h)||_.test(h)||x.test(h)||M.test(t))break;if(h.search(/[^ ]/)>=f||!h.trim())c+=`
`+h.slice(f);else{if(L||g.search(/[^ ]/)>=4||D.test(g)||_.test(g)||M.test(g))break;c+=`
`+h}!L&&!h.trim()&&(L=!0),a+=T+`
`,t=t.substring(T.length+1),g=h.slice(f)}}i.loose||(u?i.loose=!0:/\n *\n *$/.test(a)&&(u=!0));let S=null,$;this.options.gfm&&(S=/^\[[ xX]\] /.exec(c),S&&($=S[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!S,checked:$,loose:!1,text:c,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=c.trimEnd(),i.raw=i.raw.trimEnd();for(let d=0;d<i.items.length;d++)if(this.lexer.state.top=!1,i.items[d].tokens=this.lexer.blockTokens(i.items[d].text,[]),!i.loose){const g=i.items[d].tokens.filter(f=>f.type==="space"),h=g.length>0&&g.some(f=>/\n.*\n/.test(f.raw));i.loose=h}if(i.loose)for(let d=0;d<i.items.length;d++)i.items[d].loose=!0;return i}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),l=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:l,title:i}}}table(t){const r=this.rules.block.table.exec(t);if(!r||!/[:|]/.test(r[2]))return;const n=Vs(r[1]),l=r[2].replace(/^\||\| *$/g,"").split("|"),i=r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===l.length){for(const a of l)/^ *-+: *$/.test(a)?s.align.push("right"):/^ *:-+: *$/.test(a)?s.align.push("center"):/^ *:-+ *$/.test(a)?s.align.push("left"):s.align.push(null);for(const a of n)s.header.push({text:a,tokens:this.lexer.inline(a)});for(const a of i)s.rows.push(Vs(a,s.header.length).map(c=>({text:c,tokens:this.lexer.inline(c)})));return s}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:xt(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=mn(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=av(r[2],"()");if(s>-1){const c=(r[0].indexOf("!")===0?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,c).trim(),r[3]=""}}let l=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);s&&(l=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(n)?l=l.slice(1):l=l.slice(1,-1)),Us(r,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const l=(n[2]||n[1]).replace(/\s+/g," "),i=r[l.toLowerCase()];if(!i){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Us(n,i,n[0],this.lexer)}}emStrong(t,r,n=""){let l=this.rules.inline.emStrongLDelim.exec(t);if(!l||l[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=[...l[0]].length-1;let a,c,u=s,d=0;const g=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(g.lastIndex=0,r=r.slice(-1*t.length+s);(l=g.exec(r))!=null;){if(a=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!a)continue;if(c=[...a].length,l[3]||l[4]){u+=c;continue}else if((l[5]||l[6])&&s%3&&!((s+c)%3)){d+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+d);const h=[...l[0]][0].length,f=t.slice(0,s+l.index+h+c);if(Math.min(s,c)%2){const S=f.slice(1,-1);return{type:"em",raw:f,text:S,tokens:this.lexer.inlineTokens(S)}}const L=f.slice(2,-2);return{type:"strong",raw:f,text:L,tokens:this.lexer.inlineTokens(L)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const l=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return l&&i&&(n=n.substring(1,n.length-1)),n=xt(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,l;return r[2]==="@"?(n=xt(r[1]),l="mailto:"+n):(n=xt(r[1]),l=n),{type:"link",raw:r[0],text:n,href:l,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,l;if(r[2]==="@")n=xt(r[0]),l="mailto:"+n;else{let i;do i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])?.[0]??"";while(i!==r[0]);n=xt(r[0]),r[1]==="www."?l="http://"+r[0]:l=r[0]}return{type:"link",raw:r[0],text:n,href:l,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return this.lexer.state.inRawBlock?n=r[0]:n=xt(r[0]),{type:"text",raw:r[0],text:n}}}}const cv=/^(?: *(?:\n|$))+/,dv=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,uv=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Qr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,hv=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Gi=/(?:[*+-]|\d{1,9}[.)])/,qi=Ye(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Gi).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Il=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,fv=/^[^\n]+/,El=/(?!\s*\])(?:\\.|[^\[\]\\])+/,pv=Ye(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",El).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),gv=Ye(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Gi).getRegex(),Jn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Fl=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,vv=Ye("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Fl).replace("tag",Jn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ji=Ye(Il).replace("hr",Qr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jn).getRegex(),mv=Ye(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ji).getRegex(),Hl={blockquote:mv,code:dv,def:pv,fences:uv,heading:hv,hr:Qr,html:vv,lheading:qi,list:gv,newline:cv,paragraph:Ji,table:jr,text:fv},Ys=Ye("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Qr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jn).getRegex(),xv={...Hl,table:Ys,paragraph:Ye(Il).replace("hr",Qr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ys).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jn).getRegex()},bv={...Hl,html:Ye(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Fl).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:jr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ye(Il).replace("hr",Qr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",qi).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Wi=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,yv=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Xi=/^( {2,}|\\)\n(?!\s*$)/,$v=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Zr="\\p{P}\\p{S}",_v=Ye(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Zr).getRegex(),wv=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,kv=Ye(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Zr).getRegex(),Cv=Ye("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Zr).getRegex(),Sv=Ye("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Zr).getRegex(),Mv=Ye(/\\([punct])/,"gu").replace(/punct/g,Zr).getRegex(),Av=Ye(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),zv=Ye(Fl).replace("(?:-->|$)","-->").getRegex(),Lv=Ye("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",zv).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Hn=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Pv=Ye(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Hn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ki=Ye(/^!?\[(label)\]\[(ref)\]/).replace("label",Hn).replace("ref",El).getRegex(),Qi=Ye(/^!?\[(ref)\](?:\[\])?/).replace("ref",El).getRegex(),Tv=Ye("reflink|nolink(?!\\()","g").replace("reflink",Ki).replace("nolink",Qi).getRegex(),Bl={_backpedal:jr,anyPunctuation:Mv,autolink:Av,blockSkip:wv,br:Xi,code:yv,del:jr,emStrongLDelim:kv,emStrongRDelimAst:Cv,emStrongRDelimUnd:Sv,escape:Wi,link:Pv,nolink:Qi,punctuation:_v,reflink:Ki,reflinkSearch:Tv,tag:Lv,text:$v,url:jr},Nv={...Bl,link:Ye(/^!?\[(label)\]\((.*?)\)/).replace("label",Hn).getRegex(),reflink:Ye(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Hn).getRegex()},wl={...Bl,escape:Ye(Wi).replace("])","~|])").getRegex(),url:Ye(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Dv={...wl,br:Ye(Xi).replace("{2,}","*").getRegex(),text:Ye(wl.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},xn={normal:Hl,gfm:xv,pedantic:bv},Dr={normal:Bl,gfm:wl,breaks:Dv,pedantic:Nv};class Rt{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||hr,this.options.tokenizer=this.options.tokenizer||new Fn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:xn.normal,inline:Dr.normal};this.options.pedantic?(r.block=xn.pedantic,r.inline=Dr.pedantic):this.options.gfm&&(r.block=xn.gfm,this.options.breaks?r.inline=Dr.breaks:r.inline=Dr.gfm),this.tokenizer.rules=r}static get rules(){return{block:xn,inline:Dr}}static lex(t,r){return new Rt(r).lex(t)}static lexInline(t,r){return new Rt(r).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(a,c,u)=>c+"    ".repeat(u.length));let n,l,i,s;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(n=a.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),n.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),l=r[r.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+n.raw,l.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=l.text):r.push(n);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),l=r[r.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+n.raw,l.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=l.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=t.slice(1);let u;this.options.extensions.startBlock.forEach(d=>{u=d.call({lexer:this},c),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){l=r[r.length-1],s&&l.type==="paragraph"?(l.raw+=`
`+n.raw,l.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):r.push(n),s=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),l=r[r.length-1],l&&l.type==="text"?(l.raw+=`
`+n.raw,l.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):r.push(n);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,l,i,s=t,a,c,u;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(c||(u=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(n=d.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),l=r[r.length-1],l&&n.type==="text"&&l.type==="text"?(l.raw+=n.raw,l.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),l=r[r.length-1],l&&n.type==="text"&&l.type==="text"?(l.raw+=n.raw,l.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,u)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const g=t.slice(1);let h;this.options.extensions.startInline.forEach(f=>{h=f.call({lexer:this},g),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(i=t.substring(0,d+1))}if(n=this.tokenizer.inlineText(i)){t=t.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),c=!0,l=r[r.length-1],l&&l.type==="text"?(l.raw+=n.raw,l.text+=n.text):r.push(n);continue}if(t){const d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return r}}class Bn{options;constructor(t){this.options=t||hr}code(t,r,n){const l=(r||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+`
`,l?'<pre><code class="language-'+xt(l)+'">'+(n?t:xt(t,!0))+`</code></pre>
`:"<pre><code>"+(n?t:xt(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t,r){return t}heading(t,r,n){return`<h${r}>${t}</h${r}>
`}hr(){return`<hr>
`}list(t,r,n){const l=r?"ol":"ul",i=r&&n!==1?' start="'+n+'"':"";return"<"+l+i+`>
`+t+"</"+l+`>
`}listitem(t,r,n){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>
`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){const l=Os(t);if(l===null)return n;t=l;let i='<a href="'+t+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){const l=Os(t);if(l===null)return n;t=l;let i=`<img src="${t}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=">",i}text(t){return t}}class jl{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class It{options;renderer;textRenderer;constructor(t){this.options=t||hr,this.options.renderer=this.options.renderer||new Bn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new jl}static parse(t,r){return new It(r).parse(t)}static parseInline(t,r){return new It(r).parseInline(t)}parse(t,r=!0){let n="";for(let l=0;l<t.length;l++){const i=t[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=i,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{const s=i;n+=this.renderer.heading(this.parseInline(s.tokens),s.depth,sv(this.parseInline(s.tokens,this.textRenderer)));continue}case"code":{const s=i;n+=this.renderer.code(s.text,s.lang,!!s.escaped);continue}case"table":{const s=i;let a="",c="";for(let d=0;d<s.header.length;d++)c+=this.renderer.tablecell(this.parseInline(s.header[d].tokens),{header:!0,align:s.align[d]});a+=this.renderer.tablerow(c);let u="";for(let d=0;d<s.rows.length;d++){const g=s.rows[d];c="";for(let h=0;h<g.length;h++)c+=this.renderer.tablecell(this.parseInline(g[h].tokens),{header:!1,align:s.align[h]});u+=this.renderer.tablerow(c)}n+=this.renderer.table(a,u);continue}case"blockquote":{const s=i,a=this.parse(s.tokens);n+=this.renderer.blockquote(a);continue}case"list":{const s=i,a=s.ordered,c=s.start,u=s.loose;let d="";for(let g=0;g<s.items.length;g++){const h=s.items[g],f=h.checked,L=h.task;let S="";if(h.task){const $=this.renderer.checkbox(!!f);u?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=$+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=$+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:$+" "}):S+=$+" "}S+=this.parse(h.tokens,u),d+=this.renderer.listitem(S,L,!!f)}n+=this.renderer.list(d,a,c);continue}case"html":{const s=i;n+=this.renderer.html(s.text,s.block);continue}case"paragraph":{const s=i;n+=this.renderer.paragraph(this.parseInline(s.tokens));continue}case"text":{let s=i,a=s.tokens?this.parseInline(s.tokens):s.text;for(;l+1<t.length&&t[l+1].type==="text";)s=t[++l],a+=`
`+(s.tokens?this.parseInline(s.tokens):s.text);n+=r?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let l=0;l<t.length;l++){const i=t[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=this.options.extensions.renderers[i.type].call({parser:this},i);if(s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=s||"";continue}}switch(i.type){case"escape":{const s=i;n+=r.text(s.text);break}case"html":{const s=i;n+=r.html(s.text);break}case"link":{const s=i;n+=r.link(s.href,s.title,this.parseInline(s.tokens,r));break}case"image":{const s=i;n+=r.image(s.href,s.title,s.text);break}case"strong":{const s=i;n+=r.strong(this.parseInline(s.tokens,r));break}case"em":{const s=i;n+=r.em(this.parseInline(s.tokens,r));break}case"codespan":{const s=i;n+=r.codespan(s.text);break}case"br":{n+=r.br();break}case"del":{const s=i;n+=r.del(this.parseInline(s.tokens,r));break}case"text":{const s=i;n+=r.text(s.text);break}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}}class kn{options;constructor(t){this.options=t||hr}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}}class Rv{defaults=Rl();options=this.setOptions;parse=this.#e(Rt.lex,It.parse);parseInline=this.#e(Rt.lexInline,It.parseInline);Parser=It;Renderer=Bn;TextRenderer=jl;Lexer=Rt;Tokenizer=Fn;Hooks=kn;constructor(...t){this.use(...t)}walkTokens(t,r){let n=[];for(const l of t)switch(n=n.concat(r.call(this,l)),l.type){case"table":{const i=l;for(const s of i.header)n=n.concat(this.walkTokens(s.tokens,r));for(const s of i.rows)for(const a of s)n=n.concat(this.walkTokens(a.tokens,r));break}case"list":{const i=l;n=n.concat(this.walkTokens(i.items,r));break}default:{const i=l;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{const a=i[s].flat(1/0);n=n.concat(this.walkTokens(a,r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const l={...n};if(l.async=this.defaults.async||l.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=r.renderers[i.name];s?r.renderers[i.name]=function(...a){let c=i.renderer.apply(this,a);return c===!1&&(c=s.apply(this,a)),c}:r.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=r[i.level];s?s.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&(i.level==="block"?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:i.level==="inline"&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),l.extensions=r),n.renderer){const i=this.defaults.renderer||new Bn(this.defaults);for(const s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(s==="options")continue;const a=s,c=n.renderer[a],u=i[a];i[a]=(...d)=>{let g=c.apply(i,d);return g===!1&&(g=u.apply(i,d)),g||""}}l.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new Fn(this.defaults);for(const s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const a=s,c=n.tokenizer[a],u=i[a];i[a]=(...d)=>{let g=c.apply(i,d);return g===!1&&(g=u.apply(i,d)),g}}l.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new kn;for(const s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const a=s,c=n.hooks[a],u=i[a];kn.passThroughHooks.has(s)?i[a]=d=>{if(this.defaults.async)return Promise.resolve(c.call(i,d)).then(h=>u.call(i,h));const g=c.call(i,d);return u.call(i,g)}:i[a]=(...d)=>{let g=c.apply(i,d);return g===!1&&(g=u.apply(i,d)),g}}l.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;l.walkTokens=function(a){let c=[];return c.push(s.call(this,a)),i&&(c=c.concat(i.call(this,a))),c}}this.defaults={...this.defaults,...l}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return Rt.lex(t,r??this.defaults)}parser(t,r){return It.parse(t,r??this.defaults)}#e(t,r){return(n,l)=>{const i={...l},s={...this.defaults,...i};this.defaults.async===!0&&i.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const a=this.#t(!!s.silent,!!s.async);if(typeof n>"u"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(c=>t(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>r(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(a);try{s.hooks&&(n=s.hooks.preprocess(n));let c=t(n,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let u=r(c,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(c){return a(c)}}}#t(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const l="<p>An error occurred:</p><pre>"+xt(n.message+"",!0)+"</pre>";return r?Promise.resolve(l):l}if(r)return Promise.reject(n);throw n}}}const ur=new Rv;function Oe(e,t){return ur.parse(e,t)}Oe.options=Oe.setOptions=function(e){return ur.setOptions(e),Oe.defaults=ur.defaults,Vi(Oe.defaults),Oe};Oe.getDefaults=Rl;Oe.defaults=hr;Oe.use=function(...e){return ur.use(...e),Oe.defaults=ur.defaults,Vi(Oe.defaults),Oe};Oe.walkTokens=function(e,t){return ur.walkTokens(e,t)};Oe.parseInline=ur.parseInline;Oe.Parser=It;Oe.parser=It.parse;Oe.Renderer=Bn;Oe.TextRenderer=jl;Oe.Lexer=Rt;Oe.lexer=Rt.lex;Oe.Tokenizer=Fn;Oe.Hooks=kn;Oe.parse=Oe;Oe.options;Oe.setOptions;Oe.use;Oe.walkTokens;Oe.parseInline;It.parse;Rt.lex;const[fm,Iv]=F(null),[ol,ir]=F([]),[Cn,Gs]=F(!1),[qs,Zi]=F("ollama"),[Js,pm]=F([{id:"ollama",name:"Ollama (Local)",icon:"llama"},{id:"openai",name:"OpenAI GPT-4",icon:"openai"},{id:"anthropic",name:"Claude",icon:"anthropic"}]);async function Ev(){try{const e=await fetch("/api/ai/status");if(e.ok){const t=await e.json();if(t.available&&t.provider){const r=t.provider.split(" ")[0];Zi(r)}}}catch(e){console.error("Failed to fetch AI status:",e)}}async function Ws(e){if(!e.trim()||Cn())return;const t={id:crypto.randomUUID(),role:"user",content:e,timestamp:new Date};ir(r=>[...r,t]),Gs(!0);try{if(!(await(await fetch("/api/ai/status")).json()).available){const i={id:crypto.randomUUID(),role:"assistant",content:"No AI provider available. Configure Ollama (local), OpenAI (OPENAI_API_KEY), or Claude (ANTHROPIC_API_KEY) to enable AI features.",timestamp:new Date};ir(s=>[...s,i]);return}const l=await fetch("/api/ai/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e})});if(l.ok){const i=await l.json();if(i.error){const s={id:crypto.randomUUID(),role:"assistant",content:`Error: ${i.error}`,timestamp:new Date};ir(a=>[...a,s])}else{const s={id:crypto.randomUUID(),role:"assistant",content:i.response,timestamp:new Date};ir(a=>[...a,s])}}else{const i=await l.text(),s={id:crypto.randomUUID(),role:"assistant",content:`Error: ${i}`,timestamp:new Date};ir(a=>[...a,s])}}catch(r){const n={id:crypto.randomUUID(),role:"assistant",content:`Failed to send message: ${r}`,timestamp:new Date};ir(l=>[...l,n])}finally{Gs(!1)}}function ea(){ir([]),Iv(null)}function Fv(e){Zi(e),ea()}var Hv=m('<div class="text-center py-8"><div class="w-16 h-16 rounded-full bg-gradient-to-br from-purple-600/20 to-indigo-600/20 flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg></div><h3 class="text-white font-medium mb-2">How can I help?</h3><p class="text-gray-500 text-sm mb-6">Ask me about your Kubernetes cluster, resources, or troubleshooting</p><div class=space-y-2>'),Bv=m('<div class="flex justify-start"><div class="bg-k8s-dark rounded-lg px-4 py-3"><div class="flex items-center gap-2"><div class="flex gap-1"><div class="w-2 h-2 rounded-full bg-purple-500 animate-bounce"style=animation-delay:0ms></div><div class="w-2 h-2 rounded-full bg-purple-500 animate-bounce"style=animation-delay:150ms></div><div class="w-2 h-2 rounded-full bg-purple-500 animate-bounce"style=animation-delay:300ms></div></div><span class="text-gray-500 text-sm">Thinking...'),jv=m('<div class="fixed top-0 right-0 w-[420px] h-full bg-k8s-card border-l border-k8s-border flex flex-col z-50 animate-slide-in"><div class="flex items-center justify-between px-4 py-3 border-b border-k8s-border"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-lg bg-gradient-to-br from-purple-600 to-indigo-600 flex items-center justify-center"><svg class="w-6 h-6 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><div><h2 class="text-white font-semibold">AI Assistant</h2><p class="text-gray-500 text-xs">Kubernetes expert</p></div></div><div class="flex items-center gap-2"><select class="bg-k8s-dark border border-k8s-border rounded-lg px-2 py-1 text-sm text-gray-400 focus:border-k8s-blue focus:outline-none"></select><button class="p-2 rounded-lg hover:bg-k8s-border/50 transition-colors text-gray-400 hover:text-white"title="Clear chat"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button><button class="p-2 rounded-lg hover:bg-k8s-border/50 transition-colors text-gray-400 hover:text-white"title=Close><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div></div><div class="flex-1 overflow-y-auto p-4 space-y-4"><div></div></div><form class="p-4 border-t border-k8s-border"><div class="flex items-center gap-2"><input type=text placeholder="Ask about your cluster..."class="flex-1 bg-k8s-dark border border-k8s-border rounded-lg px-4 py-2.5 text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none disabled:opacity-50"><button type=submit class="p-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-lg text-white hover:from-purple-700 hover:to-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></button></div><p class="mt-2 text-xs text-gray-500 text-center">Using '),Ov=m("<option>"),Vv=m('<button class="w-full text-left px-4 py-2 bg-k8s-dark hover:bg-k8s-border/50 rounded-lg text-sm text-gray-400 hover:text-white transition-colors">'),Uv=m('<div class="prose prose-invert prose-sm max-w-none">'),Yv=m('<div class="mt-2 pt-2 border-t border-k8s-border/50 text-xs text-gray-500">Tokens: '),Gv=m("<div><div>"),qv=m('<p class="text-sm whitespace-pre-wrap">');const Jv=()=>{let e,t;const[r,n]=F(""),l=["Show me pods with high restart counts","List deployments not fully available","What services expose port 80?","Show cluster resource usage"];On(()=>{Ev(),t?.focus()}),Wt(()=>{ol(),setTimeout(()=>{e?.scrollIntoView({behavior:"smooth"})},100)});async function i(c){c.preventDefault();const u=r().trim();u&&(n(""),await Ws(u))}function s(c){Ws(c)}function a(c){try{return Oe.parse(c,{async:!1})}catch{return c}}return(()=>{var c=jv(),u=c.firstChild,d=u.firstChild,g=d.nextSibling,h=g.firstChild,f=h.nextSibling,L=f.nextSibling,S=u.nextSibling,$=S.firstChild,x=S.nextSibling,M=x.firstChild,D=M.firstChild,_=D.nextSibling,T=M.nextSibling;T.firstChild,h.addEventListener("change",P=>Fv(P.target.value)),o(h,p(Ee,{get each(){return Js()},children:P=>(()=>{var R=Ov();return o(R,()=>P.name),te(()=>R.value=P.id),R})()})),cr(f,"click",ea,!0),L.$$click=()=>ai(!1),o(S,p(le,{get when(){return ol().length===0},get children(){var P=Hv(),R=P.firstChild,U=R.nextSibling,C=U.nextSibling,b=C.nextSibling;return o(b,p(Ee,{each:l,children:k=>(()=>{var y=Vv();return y.$$click=()=>s(k),o(y,k),y})()})),P}}),$),o(S,p(Ee,{get each(){return ol()},children:P=>(()=>{var R=Gv(),U=R.firstChild;return o(U,p(le,{get when(){return P.role==="assistant"},get fallback(){return(()=>{var C=qv();return o(C,()=>P.content),C})()},get children(){return[(()=>{var C=Uv();return te(()=>C.innerHTML=a(P.content)),C})(),p(le,{get when(){return P.usage},get children(){var C=Yv();return C.firstChild,o(C,()=>P.usage?.totalTokens,null),C}})]}})),te(C=>{var b=`flex ${P.role==="user"?"justify-end":"justify-start"}`,k=`max-w-[85%] rounded-lg px-4 py-3 ${P.role==="user"?"bg-k8s-blue text-white":"bg-k8s-dark text-gray-300"}`;return b!==C.e&&Ie(R,C.e=b),k!==C.t&&Ie(U,C.t=k),C},{e:void 0,t:void 0}),R})()}),$),o(S,p(le,{get when(){return Cn()},get children(){var P=Bv(),R=P.firstChild,U=R.firstChild,C=U.firstChild,b=C.firstChild,k=b.nextSibling;return k.nextSibling,P}}),$);var X=e;typeof X=="function"?At(X,$):e=$,x.addEventListener("submit",i),D.$$input=P=>n(P.target.value);var V=t;return typeof V=="function"?At(V,D):t=D,o(T,()=>Js().find(P=>P.id===qs())?.name||"AI",null),te(P=>{var R=Cn(),U=Cn()||!r().trim();return R!==P.e&&(D.disabled=P.e=R),U!==P.t&&(_.disabled=P.t=U),P},{e:void 0,t:void 0}),te(()=>h.value=qs()),te(()=>D.value=r()),c})()};qe(["click","input"]);class Wv{ws=null;reconnectAttempts=0;maxReconnectAttempts=10;reconnectDelay=1e3;handlers=new Set;pingInterval=null;connect(){if(this.ws?.readyState===WebSocket.OPEN)return;const r=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;try{this.ws=new WebSocket(r),this.ws.onopen=()=>{console.log("WebSocket connected"),this.reconnectAttempts=0,this.startPing(),this.notifyHandlers({type:"connection",data:{connected:!0}})},this.ws.onmessage=n=>{try{const l=JSON.parse(n.data);this.notifyHandlers(l)}catch(l){console.error("Failed to parse WebSocket message:",l)}},this.ws.onclose=()=>{console.log("WebSocket disconnected"),this.stopPing(),this.notifyHandlers({type:"connection",data:{connected:!1}}),this.attemptReconnect()},this.ws.onerror=n=>{console.error("WebSocket error:",n)}}catch(n){console.error("Failed to create WebSocket:",n),this.attemptReconnect()}}disconnect(){this.stopPing(),this.ws&&(this.ws.close(),this.ws=null)}attemptReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.log("Max reconnect attempts reached");return}this.reconnectAttempts++;const t=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log(`Reconnecting in ${t}ms (attempt ${this.reconnectAttempts})`),setTimeout(()=>this.connect(),t)}startPing(){this.pingInterval=window.setInterval(()=>{this.ws?.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:"ping"}))},3e4)}stopPing(){this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null)}subscribe(t){return this.handlers.add(t),()=>this.handlers.delete(t)}notifyHandlers(t){this.handlers.forEach(r=>{try{r(t)}catch(n){console.error("Handler error:",n)}})}send(t){this.ws?.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(t))}}const Sn=new Wv,[gm,Xv]=F(!1);Sn.subscribe(e=>{e.type==="connection"&&Xv(e.data.connected)});var Kv=m('<div class="px-4 py-2 flex items-center gap-2"style="background:rgba(239, 68, 68, 0.1);border-bottom:1px solid rgba(239, 68, 68, 0.3);color:var(--error-color)"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg><span>Cluster connection unavailable. Some features may be limited.</span><button class="ml-auto px-3 py-1 rounded text-sm"style="background:rgba(239, 68, 68, 0.2)">Retry'),Qv=m('<div class="flex items-center gap-2 px-3 py-2 rounded-lg text-xs"style=background:var(--bg-secondary);color:var(--text-muted)><span></span><span>'),Zv=m('<div class="flex h-screen overflow-hidden"style=background:var(--bg-primary)><div><main class="flex-1 overflow-auto p-6"></main><footer class="px-6 py-3 border-t flex items-center justify-between text-xs"style=background:var(--bg-secondary);border-color:var(--border-color);color:var(--text-muted)><div class="flex items-center gap-4"><span class="flex items-center gap-2"><svg class="w-4 h-4"viewBox="0 0 100 100"xmlns=http://www.w3.org/2000/svg><defs><linearGradient id=footer-lg x1=0% y1=0% x2=100% y2=100%><stop offset=0% style=stop-color:#06b6d4></stop><stop offset=100% style=stop-color:#8b5cf6></stop></linearGradient></defs><circle cx=50 cy=50 r=12 fill=url(#footer-lg)></circle><circle cx=50 cy=50 r=40 fill=none stroke=url(#footer-lg) stroke-width=3></circle></svg><span style=color:var(--text-secondary)>KubeGraf</span><span class="px-1.5 py-0.5 rounded"style=background:var(--bg-tertiary);color:var(--accent-primary)>v1.0.0</span></span><span class="hidden sm:inline">|</span><span class="hidden sm:flex items-center gap-1">Cluster: <span></span></span></div><div class="flex items-center gap-4"><span class="flex items-center gap-1"><span></span></span><a href=https://github.com/kubegraf/kubegraf target=_blank class=hover:underline style=color:var(--accent-primary)>GitHub</a></div></footer></div><div class="fixed bottom-4 right-4 z-50 flex flex-col gap-2"></div><div class="fixed bottom-4 z-50"style=left:80px>'),em=m('<div class="animate-slide-in px-4 py-3 rounded-lg shadow-lg border max-w-sm"><div class="flex items-start gap-2"><span></span><span class=text-sm>');const tm={dashboard:Yc,pods:kd,deployments:Dd,statefulsets:Ud,daemonsets:Zd,cronjobs:ou,jobs:mu,services:zu,ingresses:Hu,configmaps:Wu,certificates:lh,nodes:xh,resourcemap:B0,security:Q0,plugins:C1,cost:U1,drift:ev},rm=()=>{const[e]=De(Me.getStatus),[t,r]=F(!1);On(()=>{Sn.connect();const l=Sn.subscribe(i=>{i.type==="connection"&&r(i.data.connected)});return()=>{l(),Sn.disconnect()}});const n=()=>e()?.connected!==!1;return(()=>{var l=Zv(),i=l.firstChild,s=i.firstChild,a=s.nextSibling,c=a.firstChild,u=c.firstChild,d=u.firstChild,g=d.firstChild,h=g.firstChild,f=h.firstChild;f.nextSibling;var L=d.nextSibling;L.nextSibling;var S=u.nextSibling,$=S.nextSibling,x=$.firstChild,M=x.nextSibling,D=c.nextSibling,_=D.firstChild,T=_.firstChild;_.nextSibling;var X=i.nextSibling,V=X.nextSibling;return o(l,p(fo,{}),i),o(i,p(yc,{}),s),o(i,p(le,{get when(){return!n()},get children(){var P=Kv(),R=P.firstChild,U=R.nextSibling,C=U.nextSibling;return C.$$click=()=>location.reload(),P}}),s),o(s,p(Ka,{get component(){return tm[hl()]}})),o(M,()=>e()?.cluster||"Not connected"),o(_,()=>e()?.connected?"Connected":"Disconnected",null),o(l,p(le,{get when(){return ii()},get children(){return p(Jv,{})}}),X),o(X,p(Ee,{get each(){return eo()},children:P=>(()=>{var R=em(),U=R.firstChild,C=U.firstChild,b=C.nextSibling;return o(C,(()=>{var k=Re(()=>P.type==="error");return()=>k()?"":Re(()=>P.type==="warning")()?"":P.type==="success"?"":""})()),o(b,()=>P.message),te(k=>{var y=P.type==="error"?"rgba(239, 68, 68, 0.1)":P.type==="warning"?"rgba(245, 158, 11, 0.1)":P.type==="success"?"rgba(34, 197, 94, 0.1)":"rgba(6, 182, 212, 0.1)",z=P.type==="error"?"rgba(239, 68, 68, 0.3)":P.type==="warning"?"rgba(245, 158, 11, 0.3)":P.type==="success"?"rgba(34, 197, 94, 0.3)":"rgba(6, 182, 212, 0.3)",w=P.type==="error"?"var(--error-color)":P.type==="warning"?"var(--warning-color)":P.type==="success"?"var(--success-color)":"var(--accent-primary)";return y!==k.e&&ke(R,"background",k.e=y),z!==k.t&&ke(R,"border-color",k.t=z),w!==k.a&&ke(R,"color",k.a=w),k},{e:void 0,t:void 0,a:void 0}),R})()})),o(V,p(le,{get when(){return vt()},get children(){var P=Qv(),R=P.firstChild,U=R.nextSibling;return o(U,()=>t()?"Live":"Offline"),te(()=>Ie(R,`w-2 h-2 rounded-full ${t()?"bg-green-500":"bg-red-500"}`)),P}})),te(P=>{var R=`flex-1 flex flex-col overflow-hidden transition-all duration-300 ${vt()?"ml-16":"ml-52"}`,U=e()?.cluster?"var(--text-primary)":"var(--text-muted)",C=`w-2 h-2 rounded-full ${e()?.connected?"bg-green-500":"bg-red-500"}`;return R!==P.e&&Ie(i,P.e=R),U!==P.t&&ke(M,"color",P.t=U),C!==P.a&&Ie(T,P.a=C),P},{e:void 0,t:void 0,a:void 0}),l})()};qe(["click"]);const Xs=document.getElementById("root");Xs&&Ba(()=>p(rm,{}),Xs);
