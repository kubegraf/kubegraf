{"version":3,"file":"MLflow-z1sIY9wZ.js","sources":["../../src/features/mlflow/MLflowPanel.tsx","../../src/routes/MLflow.tsx"],"sourcesContent":["// Copyright 2025 KubeGraf Contributors\n\nimport { Component, createResource, createSignal, Show } from 'solid-js';\nimport { mlflowService, MLflowStatus } from '../../services/mlflow';\n\nconst MLflowPanel: Component = () => {\n  const [status, { refetch }] = createResource(mlflowService.getStatus);\n  const [showUI, setShowUI] = createSignal(false);\n\n  const openUI = () => {\n    if (status()?.installed && status()?.serviceName) {\n      // Open MLflow UI via port-forward proxy\n      const url = `/api/mlflow/proxy/?namespace=${status()?.namespace || 'mlflow'}`;\n      window.open(url, '_blank');\n    }\n  };\n\n  const restartPods = async () => {\n    if (!status()?.installed) return;\n    \n    try {\n      // Restart deployment by scaling down and up\n      const response = await fetch(`/api/deployments/${status()?.namespace}/${status()?.deployment}/restart`, {\n        method: 'POST',\n      });\n      if (response.ok) {\n        alert('MLflow pods are restarting...');\n        setTimeout(() => refetch(), 5000);\n      }\n    } catch (error) {\n      console.error('Failed to restart pods:', error);\n      alert('Failed to restart pods');\n    }\n  };\n\n  return (\n    <div class=\"p-6 space-y-6\" style={{ background: 'var(--bg-primary)' }}>\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <h2 class=\"text-2xl font-bold\" style={{ color: 'var(--text-primary)' }}>MLflow</h2>\n          <p class=\"text-sm mt-1\" style={{ color: 'var(--text-secondary)' }}>\n            Open source platform for managing the ML lifecycle\n          </p>\n        </div>\n        <Show when={status()?.installed}>\n          <button\n            onClick={() => refetch()}\n            class=\"px-4 py-2 rounded-lg text-sm transition-colors hover:opacity-80\"\n            style={{ background: 'var(--accent-primary)', color: '#000' }}\n          >\n            Refresh\n          </button>\n        </Show>\n      </div>\n\n      <Show when={status.loading}>\n        <div class=\"text-center py-8\" style={{ color: 'var(--text-secondary)' }}>Loading MLflow status...</div>\n      </Show>\n\n      <Show when={status.error}>\n        <div class=\"rounded-lg p-4 border\" style={{\n          background: 'rgba(239, 68, 68, 0.1)',\n          borderColor: 'var(--error-color)',\n          color: 'var(--error-color)'\n        }}>\n          Error: {status.error?.message || 'Failed to load MLflow status'}\n        </div>\n      </Show>\n\n      <Show when={!status.loading && !status()?.installed}>\n        <div class=\"card p-8 text-center border\" style={{\n          background: 'var(--bg-card)',\n          borderColor: 'var(--border-color)'\n        }}>\n          <p class=\"text-lg font-medium mb-2\" style={{ color: 'var(--text-primary)' }}>MLflow is not installed</p>\n          <p class=\"text-sm mb-4\" style={{ color: 'var(--text-secondary)' }}>\n            Install MLflow from the Marketplace → ML Apps section\n          </p>\n          <a\n            href=\"/apps?tab=marketplace&category=ML Apps\"\n            class=\"inline-block px-6 py-2 rounded-lg text-white transition-colors hover:opacity-80\"\n            style={{ background: 'var(--accent-primary)', color: '#000' }}\n          >\n            Go to Marketplace\n          </a>\n        </div>\n      </Show>\n\n      <Show when={status()?.installed}>\n        <div class=\"space-y-4\">\n          <div class=\"grid grid-cols-2 gap-4\">\n            <div class=\"card rounded-lg p-4 border\" style={{\n              background: 'var(--bg-card)',\n              borderColor: 'var(--border-color)'\n            }}>\n              <div class=\"text-sm mb-1\" style={{ color: 'var(--text-secondary)' }}>Status</div>\n              <div class=\"text-lg font-semibold text-green-500\">Installed</div>\n            </div>\n            <div class=\"card rounded-lg p-4 border\" style={{\n              background: 'var(--bg-card)',\n              borderColor: 'var(--border-color)'\n            }}>\n              <div class=\"text-sm mb-1\" style={{ color: 'var(--text-secondary)' }}>Version</div>\n              <div class=\"text-lg font-semibold\" style={{ color: 'var(--text-primary)' }}>{status()?.version || 'Unknown'}</div>\n            </div>\n            <div class=\"card rounded-lg p-4 border\" style={{\n              background: 'var(--bg-card)',\n              borderColor: 'var(--border-color)'\n            }}>\n              <div class=\"text-sm mb-1\" style={{ color: 'var(--text-secondary)' }}>Namespace</div>\n              <div class=\"text-lg font-semibold\" style={{ color: 'var(--text-primary)' }}>{status()?.namespace || 'N/A'}</div>\n            </div>\n            <div class=\"card rounded-lg p-4 border\" style={{\n              background: 'var(--bg-card)',\n              borderColor: 'var(--border-color)'\n            }}>\n              <div class=\"text-sm mb-1\" style={{ color: 'var(--text-secondary)' }}>Deployment</div>\n              <div class=\"text-lg font-semibold\" style={{ color: 'var(--text-primary)' }}>{status()?.deployment || 'N/A'}</div>\n            </div>\n            <div class=\"card rounded-lg p-4 border\" style={{\n              background: 'var(--bg-card)',\n              borderColor: 'var(--border-color)'\n            }}>\n              <div class=\"text-sm mb-1\" style={{ color: 'var(--text-secondary)' }}>Service</div>\n              <div class=\"text-lg font-semibold\" style={{ color: 'var(--text-primary)' }}>{status()?.serviceName || 'N/A'}</div>\n            </div>\n            <Show when={status()?.backendStore}>\n              <div class=\"card rounded-lg p-4 border\" style={{\n                background: 'var(--bg-card)',\n                borderColor: 'var(--border-color)'\n              }}>\n                <div class=\"text-sm mb-1\" style={{ color: 'var(--text-secondary)' }}>Backend Store</div>\n                <div class=\"text-lg font-semibold\" style={{ color: 'var(--text-primary)' }}>{status()?.backendStore || 'N/A'}</div>\n              </div>\n            </Show>\n            <Show when={status()?.artifactStore}>\n              <div class=\"card rounded-lg p-4 border\" style={{\n                background: 'var(--bg-card)',\n                borderColor: 'var(--border-color)'\n              }}>\n                <div class=\"text-sm mb-1\" style={{ color: 'var(--text-secondary)' }}>Artifact Store</div>\n                <div class=\"text-lg font-semibold\" style={{ color: 'var(--text-primary)' }}>{status()?.artifactStore || 'N/A'}</div>\n              </div>\n            </Show>\n          </div>\n\n          <div class=\"flex gap-3\">\n            <button\n              onClick={openUI}\n              class=\"px-6 py-2 rounded-lg text-white transition-colors hover:opacity-80\"\n              style={{ background: 'var(--accent-primary)', color: '#000' }}\n            >\n              Open Tracking UI\n            </button>\n            <button\n              onClick={restartPods}\n              class=\"px-6 py-2 rounded-lg border transition-colors hover:opacity-80\"\n              style={{\n                background: 'var(--bg-secondary)',\n                borderColor: 'var(--border-color)',\n                color: 'var(--text-primary)'\n              }}\n            >\n              Restart Pods\n            </button>\n          </div>\n\n          <div class=\"card rounded-lg p-4 border\" style={{\n            background: 'var(--bg-card)',\n            borderColor: 'var(--border-color)'\n          }}>\n            <h3 class=\"font-semibold mb-3\" style={{ color: 'var(--text-primary)' }}>Quick Links</h3>\n            <div class=\"space-y-2 text-sm\">\n              <a\n                href={`/api/mlflow/proxy/?namespace=${status()?.namespace || 'mlflow'}`}\n                target=\"_blank\"\n                class=\"block transition-colors hover:opacity-80\"\n                style={{ color: 'var(--accent-primary)' }}\n              >\n                → MLflow Tracking UI\n              </a>\n              <a\n                href={`/api/mlflow/proxy/api/2.0/mlflow/experiments/search?namespace=${status()?.namespace || 'mlflow'}`}\n                target=\"_blank\"\n                class=\"block transition-colors hover:opacity-80\"\n                style={{ color: 'var(--accent-primary)' }}\n              >\n                → MLflow API (Experiments)\n              </a>\n            </div>\n          </div>\n        </div>\n      </Show>\n    </div>\n  );\n};\n\nexport default MLflowPanel;\n\n","// Copyright 2025 KubeGraf Contributors\n\nimport { Component } from 'solid-js';\nimport MLflowPanel from '../features/mlflow/MLflowPanel';\n\nconst MLflow: Component = () => {\n  return <MLflowPanel />;\n};\n\nexport default MLflow;\n\n"],"names":["MLflowPanel","status","refetch","createResource","mlflowService","getStatus","createSignal","openUI","installed","serviceName","url","namespace","window","open","restartPods","response","fetch","deployment","method","ok","alert","setTimeout","error","console","_el$","_tmpl$8","_el$2","firstChild","_el$3","_el$4","nextSibling","_$insert","_$createComponent","Show","when","children","_el$6","_tmpl$","$$click","loading","_tmpl$2","_el$8","_tmpl$3","message","_$memo","_el$0","_tmpl$4","_el$1","_el$10","_el$12","_tmpl$7","_el$13","_el$14","_el$16","_el$17","_el$18","_el$19","_el$20","_el$21","_el$22","_el$23","_el$24","_el$25","_el$26","_el$27","_el$34","_el$35","_el$36","_el$37","_el$38","_el$39","_el$40","_el$41","version","backendStore","_el$28","_tmpl$5","_el$29","_el$30","artifactStore","_el$31","_tmpl$6","_el$32","_el$33","_$effect","_p$","_v$","_v$2","e","_$setAttribute","t","undefined","_$delegateEvents","MLflow"],"mappings":"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"}