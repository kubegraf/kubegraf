{"version":3,"file":"Drift-ekieueYw.js","sources":["../../src/routes/Drift.tsx"],"sourcesContent":["import { Component, For, Show, createResource, createSignal } from 'solid-js';\nimport { api } from '../services/api';\nimport { namespace } from '../stores/cluster';\nimport Modal from '../components/Modal';\n\ninterface DriftResult {\n  kind: string;\n  name: string;\n  namespace: string;\n  hasDrift: boolean;\n  driftDetails: Array<{\n    field: string;\n    expected: string;\n    actual: string;\n  }>;\n  lastChecked: string;\n}\n\nconst Drift: Component = () => {\n  const [showDiffModal, setShowDiffModal] = createSignal(false);\n  const [selectedDrift, setSelectedDrift] = createSignal<DriftResult | null>(null);\n\n  const [driftData, { refetch }] = createResource(\n    () => namespace(),\n    async (ns) => {\n      try {\n        const actualNs = ns === '_all' || !ns ? 'default' : ns;\n        console.log('[Drift] Fetching drift summary for namespace:', actualNs);\n        const data = await api.getDriftSummary(actualNs);\n        console.log('[Drift] Received drift data:', data);\n        // Ensure we have the correct structure\n        if (data && typeof data === 'object') {\n          const result = {\n            total: data.total || 0,\n            synced: data.synced || 0,\n            drifted: data.drifted || 0,\n            missing: data.missing || 0,\n            unknown: data.unknown || 0,\n            driftedResources: data.driftedResources || data.drifted || [],\n          };\n          console.log('[Drift] Processed drift result:', result);\n          return result;\n        }\n        console.warn('[Drift] Invalid data structure received');\n        return { total: 0, synced: 0, drifted: 0, missing: 0, unknown: 0, driftedResources: [] };\n      } catch (error) {\n        console.error('[Drift] Failed to fetch drift summary:', error);\n        return { total: 0, synced: 0, drifted: 0, missing: 0, unknown: 0, driftedResources: [] };\n      }\n    }\n  );\n\n  const viewDiff = (drift: DriftResult) => {\n    setSelectedDrift(drift);\n    setShowDiffModal(true);\n  };\n\n  const handleRevert = async (drift: DriftResult) => {\n    if (confirm(`Revert ${drift.kind}/${drift.name} to its expected state?`)) {\n      try {\n        await api.revertDrift(drift.kind, drift.name, drift.namespace);\n        refetch();\n      } catch (error) {\n        console.error('Failed to revert drift:', error);\n        alert('Failed to revert. Check console for details.');\n      }\n    }\n  };\n\n  const totalDrifted = () => driftData()?.drifted || 0;\n  const totalChecked = () => driftData()?.total || 0;\n\n  return (\n    <div class=\"space-y-6\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <h1 class=\"text-2xl font-bold\" style={{ color: 'var(--text-primary)' }}>Configuration Drift</h1>\n          <p style={{ color: 'var(--text-secondary)' }}>Detect and remediate configuration drift from desired state</p>\n        </div>\n        <button\n          onClick={() => refetch()}\n          class=\"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors\"\n          style={{ background: 'var(--bg-tertiary)', color: 'var(--text-primary)' }}\n        >\n          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n          </svg>\n          Check Drift\n        </button>\n      </div>\n\n      {/* Summary Cards */}\n      <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div class=\"card p-6\">\n          <div class=\"text-sm\" style={{ color: 'var(--text-muted)' }}>Resources Checked</div>\n          <div class=\"text-3xl font-bold mt-2\" style={{ color: 'var(--accent-primary)' }}>\n            {totalChecked()}\n          </div>\n        </div>\n        <div class=\"card p-6\">\n          <div class=\"text-sm\" style={{ color: 'var(--text-muted)' }}>In Sync</div>\n          <div class=\"text-3xl font-bold mt-2\" style={{ color: 'var(--success-color)' }}>\n            {totalChecked() - totalDrifted()}\n          </div>\n        </div>\n        <div class=\"card p-6\">\n          <div class=\"text-sm\" style={{ color: 'var(--text-muted)' }}>Drifted</div>\n          <div class=\"text-3xl font-bold mt-2\" style={{ color: totalDrifted() > 0 ? 'var(--error-color)' : 'var(--success-color)' }}>\n            {totalDrifted()}\n          </div>\n        </div>\n        <div class=\"card p-6\">\n          <div class=\"text-sm\" style={{ color: 'var(--text-muted)' }}>Health</div>\n          <div class=\"text-3xl font-bold mt-2\" style={{\n            color: totalDrifted() === 0 ? 'var(--success-color)' :\n                   totalDrifted() < 5 ? 'var(--warning-color)' : 'var(--error-color)'\n          }}>\n            {totalChecked() > 0 ? Math.round(((totalChecked() - totalDrifted()) / totalChecked()) * 100) : 100}%\n          </div>\n        </div>\n      </div>\n\n      {/* Drift Status */}\n      <Show when={driftData.loading}>\n        <div class=\"card p-8\">\n          <div class=\"text-center\">\n            <div class=\"spinner mx-auto mb-4\" />\n            <p style={{ color: 'var(--text-muted)' }}>Checking for configuration drift...</p>\n          </div>\n        </div>\n      </Show>\n\n      <Show when={!driftData.loading && totalDrifted() === 0}>\n        <div class=\"card p-8\">\n          <div class=\"text-center\">\n            <svg class=\"w-16 h-16 mx-auto mb-4\" style={{ color: 'var(--success-color)' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <h3 class=\"text-lg font-semibold\" style={{ color: 'var(--text-primary)' }}>No Configuration Drift Detected</h3>\n            <p style={{ color: 'var(--text-secondary)' }}>All resources are in sync with their expected state</p>\n          </div>\n        </div>\n      </Show>\n\n      <Show when={!driftData.loading && totalDrifted() > 0}>\n        <div class=\"card overflow-hidden\">\n          <div class=\"p-4 border-b\" style={{ 'border-color': 'var(--border-color)' }}>\n            <h3 class=\"font-semibold flex items-center gap-2\" style={{ color: 'var(--text-primary)' }}>\n              <svg class=\"w-5 h-5\" style={{ color: 'var(--error-color)' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n              </svg>\n              Drifted Resources ({totalDrifted()})\n            </h3>\n          </div>\n          <table class=\"data-table\">\n            <thead>\n              <tr>\n                <th>Resource</th>\n                <th>Kind</th>\n                <th>Namespace</th>\n                <th>Changes</th>\n                <th>Last Checked</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              <For each={driftData()?.driftedResources || []}>\n                {(drift: DriftResult) => (\n                  <tr class=\"hover:bg-[var(--bg-tertiary)]\">\n                    <td class=\"font-medium\" style={{ color: 'var(--accent-primary)' }}>{drift.name}</td>\n                    <td>\n                      <span class=\"badge badge-info\">{drift.kind}</span>\n                    </td>\n                    <td>{drift.namespace}</td>\n                    <td>\n                      <span class=\"badge badge-warning\">{drift.driftDetails?.length || 0} changes</span>\n                    </td>\n                    <td class=\"text-sm\" style={{ color: 'var(--text-muted)' }}>{drift.lastChecked || 'Just now'}</td>\n                    <td>\n                      <div class=\"flex items-center gap-2\">\n                        <button\n                          onClick={() => viewDiff(drift)}\n                          class=\"action-btn\"\n                          title=\"View Diff\"\n                        >\n                          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n                          </svg>\n                        </button>\n                        <button\n                          onClick={() => handleRevert(drift)}\n                          class=\"action-btn\"\n                          style={{ color: 'var(--success-color)' }}\n                          title=\"Revert to Expected\"\n                        >\n                          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\" />\n                          </svg>\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                )}\n              </For>\n            </tbody>\n          </table>\n        </div>\n      </Show>\n\n      {/* How Drift Detection Works */}\n      <div class=\"card p-6\">\n        <h3 class=\"font-semibold mb-4 flex items-center gap-2\" style={{ color: 'var(--text-primary)' }}>\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          About Configuration Drift\n        </h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div class=\"p-4 rounded-lg\" style={{ background: 'var(--bg-tertiary)' }}>\n            <h4 class=\"font-medium mb-2\" style={{ color: 'var(--text-primary)' }}>What is Drift?</h4>\n            <p class=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>\n              Configuration drift occurs when the actual state of a resource differs from its expected or desired state, often due to manual changes.\n            </p>\n          </div>\n          <div class=\"p-4 rounded-lg\" style={{ background: 'var(--bg-tertiary)' }}>\n            <h4 class=\"font-medium mb-2\" style={{ color: 'var(--text-primary)' }}>Detection Method</h4>\n            <p class=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>\n              We compare resource specifications against their last-applied-configuration annotation or GitOps source of truth.\n            </p>\n          </div>\n          <div class=\"p-4 rounded-lg\" style={{ background: 'var(--bg-tertiary)' }}>\n            <h4 class=\"font-medium mb-2\" style={{ color: 'var(--text-primary)' }}>Remediation</h4>\n            <p class=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>\n              Revert drifted resources to their expected state automatically, or use GitOps to sync from your repository.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Diff Modal */}\n      <Modal\n        isOpen={showDiffModal()}\n        onClose={() => setShowDiffModal(false)}\n        title={`Drift Details: ${selectedDrift()?.kind}/${selectedDrift()?.name}`}\n        size=\"lg\"\n      >\n        <Show when={selectedDrift()}>\n          <div class=\"space-y-4\">\n            <div class=\"p-3 rounded-lg\" style={{ background: 'var(--bg-tertiary)' }}>\n              <div class=\"text-sm\" style={{ color: 'var(--text-muted)' }}>Namespace</div>\n              <div style={{ color: 'var(--text-primary)' }}>{selectedDrift()?.namespace}</div>\n            </div>\n\n            <h4 class=\"font-medium\" style={{ color: 'var(--text-primary)' }}>Changes Detected</h4>\n\n            <Show when={(selectedDrift()?.driftDetails || []).length > 0} fallback={\n              <div class=\"text-center py-4\" style={{ color: 'var(--text-muted)' }}>\n                No detailed changes available\n              </div>\n            }>\n              <div class=\"space-y-3\">\n                <For each={selectedDrift()?.driftDetails || []}>\n                  {(change) => (\n                    <div class=\"p-3 rounded-lg border\" style={{ background: 'var(--bg-secondary)', 'border-color': 'var(--border-color)' }}>\n                      <div class=\"font-mono text-sm mb-2\" style={{ color: 'var(--accent-primary)' }}>{change.field}</div>\n                      <div class=\"grid grid-cols-2 gap-4 text-sm\">\n                        <div>\n                          <div class=\"text-xs mb-1\" style={{ color: 'var(--text-muted)' }}>Expected</div>\n                          <div class=\"p-2 rounded font-mono text-xs break-all\" style={{ background: 'rgba(34, 197, 94, 0.1)', color: 'var(--success-color)' }}>\n                            {change.expected || '(not set)'}\n                          </div>\n                        </div>\n                        <div>\n                          <div class=\"text-xs mb-1\" style={{ color: 'var(--text-muted)' }}>Actual</div>\n                          <div class=\"p-2 rounded font-mono text-xs break-all\" style={{ background: 'rgba(239, 68, 68, 0.1)', color: 'var(--error-color)' }}>\n                            {change.actual || '(not set)'}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </For>\n              </div>\n            </Show>\n\n            <div class=\"flex justify-end gap-2 mt-4\">\n              <button\n                onClick={() => setShowDiffModal(false)}\n                class=\"px-4 py-2 rounded-lg\"\n                style={{ background: 'var(--bg-tertiary)', color: 'var(--text-primary)' }}\n              >\n                Close\n              </button>\n              <button\n                onClick={() => {\n                  if (selectedDrift()) handleRevert(selectedDrift()!);\n                  setShowDiffModal(false);\n                }}\n                class=\"px-4 py-2 rounded-lg\"\n                style={{ background: 'var(--success-color)', color: 'white' }}\n              >\n                Revert to Expected\n              </button>\n            </div>\n          </div>\n        </Show>\n      </Modal>\n    </div>\n  );\n};\n\nexport default Drift;\n"],"names":["Drift","showDiffModal","setShowDiffModal","createSignal","selectedDrift","setSelectedDrift","driftData","refetch","createResource","namespace","ns","actualNs","console","log","data","api","getDriftSummary","result","total","synced","drifted","missing","unknown","driftedResources","warn","error","viewDiff","drift","handleRevert","confirm","kind","name","revertDrift","alert","totalDrifted","totalChecked","_el$","_tmpl$6","_el$2","firstChild","_el$3","_el$4","nextSibling","_el$6","_el$7","_el$8","_el$9","_el$0","_el$1","_el$10","_el$11","_el$12","_el$13","_el$14","_el$15","_el$16","_el$17","_el$18","_el$38","_el$39","_el$40","_el$41","_el$42","_el$44","_el$45","_el$47","_el$48","$$click","_$insert","_c$","_$memo","Math","round","_$createComponent","Show","when","loading","children","_el$19","_tmpl$","_el$20","_el$21","_el$23","_tmpl$2","_el$24","_el$25","_el$26","_el$28","_tmpl$3","_el$29","_el$30","_el$31","_el$32","_el$34","_el$35","_el$36","_el$37","For","each","_el$59","_tmpl$7","_el$60","_el$61","_el$62","_el$63","_el$64","_el$65","_el$66","_el$67","_el$68","_el$69","_el$70","_el$71","driftDetails","length","lastChecked","Modal","isOpen","onClose","title","size","_el$50","_tmpl$5","_el$51","_el$52","_el$53","_el$54","_el$56","_el$57","_el$58","fallback","_tmpl$8","_el$55","_tmpl$4","change","_el$73","_tmpl$9","_el$74","_el$75","_el$76","_el$77","_el$78","_el$79","_el$80","_el$81","field","expected","actual","_$effect","_p$","_v$","_v$2","e","_$setStyleProperty","t","undefined","_$delegateEvents"],"mappings":"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"}