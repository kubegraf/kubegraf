{"version":3,"file":"TimeHelix-CNNLbh8X.js","sources":["../../src/routes/TimeHelix.tsx"],"sourcesContent":["import { Component, createSignal, onMount, onCleanup, Show, createEffect } from 'solid-js';\nimport { namespace } from '../stores/cluster';\nimport { addNotification } from '../stores/ui';\n\ninterface MetricPoint {\n  timestamp: number;\n  cpuUsage: number;\n  memoryUsage: number;\n  memoryRSS: number;\n  memoryCache: number;\n  memoryFree: number;\n  events?: string[];\n}\n\nconst TimeHelix: Component = () => {\n  const [metricsData, setMetricsData] = createSignal<MetricPoint[]>([]);\n  const [isLoading, setIsLoading] = createSignal(true);\n  let canvasRef: HTMLCanvasElement | undefined;\n  let animationFrameId: number;\n  let intervalId: number;\n\n  const SPIRAL_TURNS = 3;\n  const POINTS_PER_TURN = 60; // 1 minute per turn at 1 second intervals\n  const MAX_POINTS = SPIRAL_TURNS * POINTS_PER_TURN; // 3 minutes of data\n\n  const fetchMetrics = async () => {\n    try {\n      const ns = namespace();\n      const params = new URLSearchParams();\n      if (ns && ns !== 'All Namespaces') {\n        params.append('namespace', ns);\n      }\n\n      const response = await fetch(`/api/metrics?${params.toString()}`);\n      if (!response.ok) throw new Error('Failed to fetch metrics');\n\n      const data = await response.json();\n\n      // Add new data point\n      const newPoint: MetricPoint = {\n        timestamp: Date.now(),\n        cpuUsage: parseFloat(data.cpu || 0),\n        memoryUsage: parseFloat(data.memory || 0),\n        memoryRSS: parseFloat(data.memory || 0) * 0.6, // Approximate RSS as 60% of total\n        memoryCache: parseFloat(data.memory || 0) * 0.3, // Approximate cache as 30%\n        memoryFree: parseFloat(data.memory || 0) * 0.1, // Approximate free as 10%\n      };\n\n      setMetricsData(prev => {\n        const updated = [...prev, newPoint];\n        // Keep only last MAX_POINTS\n        return updated.slice(-MAX_POINTS);\n      });\n\n      setIsLoading(false);\n    } catch (error) {\n      console.error('Failed to fetch metrics:', error);\n      setIsLoading(false);\n    }\n  };\n\n  const drawSpiral = () => {\n    if (!canvasRef) return;\n\n    const canvas = canvasRef;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    const width = canvas.width;\n    const height = canvas.height;\n    const centerX = width / 2;\n    const centerY = height / 2;\n    const maxRadius = Math.min(width, height) * 0.4;\n\n    // Clear canvas\n    ctx.clearRect(0, 0, width, height);\n\n    const metrics = metricsData();\n    if (metrics.length === 0) return;\n\n    // Draw spiral path\n    ctx.strokeStyle = 'rgba(100, 100, 100, 0.3)';\n    ctx.lineWidth = 1;\n    ctx.beginPath();\n\n    for (let i = 0; i <= MAX_POINTS; i++) {\n      const angle = (i / POINTS_PER_TURN) * Math.PI * 2;\n      const progress = i / MAX_POINTS;\n      const radius = maxRadius * progress;\n      const x = centerX + radius * Math.cos(angle);\n      const y = centerY + radius * Math.sin(angle);\n\n      if (i === 0) {\n        ctx.moveTo(x, y);\n      } else {\n        ctx.lineTo(x, y);\n      }\n    }\n    ctx.stroke();\n\n    // Draw data points\n    metrics.forEach((point, index) => {\n      const angle = (index / POINTS_PER_TURN) * Math.PI * 2;\n      const progress = index / MAX_POINTS;\n      const radius = maxRadius * progress;\n      const x = centerX + radius * Math.cos(angle);\n      const y = centerY + radius * Math.sin(angle);\n\n      // CPU = glow intensity\n      const cpuIntensity = point.cpuUsage / 100;\n      const glowSize = 3 + cpuIntensity * 15;\n\n      // Memory = ribbon thickness (stacked)\n      const totalMemory = point.memoryRSS + point.memoryCache + point.memoryFree;\n      const memThickness = 2 + (totalMemory / 100) * 8;\n\n      // Draw memory ribbon (thicker line)\n      ctx.beginPath();\n      ctx.arc(x, y, memThickness / 2, 0, Math.PI * 2);\n\n      // Color based on memory composition\n      const rssRatio = point.memoryRSS / totalMemory;\n      const cacheRatio = point.memoryCache / totalMemory;\n      ctx.fillStyle = `rgba(${100 + rssRatio * 155}, ${100 + cacheRatio * 100}, 150, 0.6)`;\n      ctx.fill();\n\n      // Draw CPU glow\n      const gradient = ctx.createRadialGradient(x, y, 0, x, y, glowSize);\n      gradient.addColorStop(0, `rgba(6, 182, 212, ${cpuIntensity * 0.8})`);\n      gradient.addColorStop(0.5, `rgba(6, 182, 212, ${cpuIntensity * 0.4})`);\n      gradient.addColorStop(1, 'rgba(6, 182, 212, 0)');\n\n      ctx.fillStyle = gradient;\n      ctx.beginPath();\n      ctx.arc(x, y, glowSize, 0, Math.PI * 2);\n      ctx.fill();\n\n      // Highlight recent points\n      if (index > metrics.length - 10) {\n        ctx.strokeStyle = 'rgba(255, 255, 255, 0.8)';\n        ctx.lineWidth = 1;\n        ctx.beginPath();\n        ctx.arc(x, y, glowSize + 2, 0, Math.PI * 2);\n        ctx.stroke();\n      }\n    });\n\n    // Draw center dot (now)\n    ctx.fillStyle = '#06b6d4';\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, 6, 0, Math.PI * 2);\n    ctx.fill();\n\n    ctx.strokeStyle = 'rgba(6, 182, 212, 0.5)';\n    ctx.lineWidth = 2;\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, 10, 0, Math.PI * 2);\n    ctx.stroke();\n\n    // Draw time labels\n    ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';\n    ctx.font = '12px Inter, sans-serif';\n    ctx.textAlign = 'center';\n\n    for (let turn = 0; turn <= SPIRAL_TURNS; turn++) {\n      const angle = 0; // Always at 12 o'clock\n      const progress = turn / SPIRAL_TURNS;\n      const radius = maxRadius * progress;\n      const x = centerX + radius * Math.cos(angle - Math.PI / 2);\n      const y = centerY + radius * Math.sin(angle - Math.PI / 2) - 15;\n\n      const minutesAgo = (SPIRAL_TURNS - turn) * 1;\n      ctx.fillText(`-${minutesAgo}m`, x, y);\n    }\n\n    // Draw legend\n    ctx.textAlign = 'left';\n    ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';\n    ctx.font = '14px Inter, sans-serif';\n    ctx.fillText('Time Helix - Last 3 Minutes', 20, 30);\n\n    ctx.font = '12px Inter, sans-serif';\n    ctx.fillStyle = 'rgba(6, 182, 212, 0.9)';\n    ctx.fillText('● Glow = CPU Usage', 20, 55);\n    ctx.fillStyle = 'rgba(139, 92, 246, 0.9)';\n    ctx.fillText('● Thickness = Memory (RSS + Cache + Free)', 20, 75);\n  };\n\n  const animate = () => {\n    drawSpiral();\n    animationFrameId = requestAnimationFrame(animate);\n  };\n\n  onMount(() => {\n    // Initial fetch\n    fetchMetrics();\n\n    // Fetch every second\n    intervalId = setInterval(fetchMetrics, 1000);\n\n    // Start animation\n    if (canvasRef) {\n      // Set canvas size\n      const rect = canvasRef.getBoundingClientRect();\n      canvasRef.width = rect.width;\n      canvasRef.height = rect.height;\n\n      animate();\n    }\n  });\n\n  onCleanup(() => {\n    if (animationFrameId) {\n      cancelAnimationFrame(animationFrameId);\n    }\n    if (intervalId) {\n      clearInterval(intervalId);\n    }\n  });\n\n  // Handle window resize\n  createEffect(() => {\n    const handleResize = () => {\n      if (canvasRef) {\n        const rect = canvasRef.getBoundingClientRect();\n        canvasRef.width = rect.width;\n        canvasRef.height = rect.height;\n      }\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  });\n\n  const currentMetrics = () => {\n    const metrics = metricsData();\n    return metrics[metrics.length - 1];\n  };\n\n  return (\n    <div class=\"p-6 space-y-6\">\n      {/* Header */}\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <h1 class=\"text-2xl font-bold\" style={{ color: 'var(--text-primary)' }}>\n            Time Helix\n          </h1>\n          <p class=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>\n            Spiral timeline showing CPU intensity and memory thickness over the last 3 minutes\n          </p>\n        </div>\n      </div>\n\n      <Show when={!isLoading()} fallback={\n        <div class=\"text-center py-12\">\n          <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-white\"></div>\n          <p class=\"mt-4 text-sm opacity-70\">Loading metrics...</p>\n        </div>\n      }>\n        {/* Current Stats */}\n        <Show when={currentMetrics()}>\n          {(current) => (\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div class=\"card p-4\">\n                <div class=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>CPU Usage</div>\n                <div class=\"text-3xl font-bold mt-2\" style={{ color: '#06b6d4' }}>\n                  {current().cpuUsage.toFixed(1)}%\n                </div>\n              </div>\n              <div class=\"card p-4\">\n                <div class=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>Memory Usage</div>\n                <div class=\"text-3xl font-bold mt-2\" style={{ color: '#8b5cf6' }}>\n                  {current().memoryUsage.toFixed(1)}%\n                </div>\n              </div>\n            </div>\n          )}\n        </Show>\n\n        {/* Canvas */}\n        <div class=\"card p-6\">\n          <canvas\n            ref={canvasRef}\n            class=\"w-full\"\n            style={{ height: '600px', background: 'rgba(0, 0, 0, 0.2)', 'border-radius': '8px' }}\n          />\n        </div>\n\n        {/* Info */}\n        <div class=\"card p-4\">\n          <div class=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>\n            <strong>How to read:</strong>\n            <ul class=\"mt-2 space-y-1 list-disc list-inside\">\n              <li>Time spirals outward from center (now) to edge (3 minutes ago)</li>\n              <li>Brighter glow = higher CPU usage</li>\n              <li>Thicker ribbon = more memory allocated (RSS + Cache + Free)</li>\n              <li>Recent points (last 10 seconds) are highlighted with white rings</li>\n              <li>Perfect for spotting repeating spikes and \"just happened\" incidents</li>\n            </ul>\n          </div>\n        </div>\n      </Show>\n    </div>\n  );\n};\n\nexport default TimeHelix;\n"],"names":["TimeHelix","metricsData","setMetricsData","createSignal","isLoading","setIsLoading","canvasRef","animationFrameId","intervalId","SPIRAL_TURNS","POINTS_PER_TURN","MAX_POINTS","fetchMetrics","ns","namespace","params","URLSearchParams","append","response","fetch","toString","ok","Error","data","json","newPoint","timestamp","Date","now","cpuUsage","parseFloat","cpu","memoryUsage","memory","memoryRSS","memoryCache","memoryFree","prev","updated","slice","error","console","drawSpiral","canvas","ctx","getContext","width","height","centerX","centerY","maxRadius","Math","min","clearRect","metrics","length","strokeStyle","lineWidth","beginPath","i","angle","PI","progress","radius","x","cos","y","sin","moveTo","lineTo","stroke","forEach","point","index","cpuIntensity","glowSize","totalMemory","memThickness","arc","rssRatio","cacheRatio","fillStyle","fill","gradient","createRadialGradient","addColorStop","font","textAlign","turn","minutesAgo","fillText","animate","requestAnimationFrame","onMount","setInterval","rect","getBoundingClientRect","onCleanup","cancelAnimationFrame","clearInterval","createEffect","handleResize","window","addEventListener","removeEventListener","currentMetrics","_el$","_tmpl$3","_el$2","firstChild","_el$3","_el$4","nextSibling","_$insert","_$createComponent","Show","when","fallback","_tmpl$4","children","current","_el$1","_tmpl$5","_el$10","_el$11","_el$12","_el$13","_el$14","_el$15","_el$16","_el$17","toFixed","_el$6","_tmpl$","_el$7","_ref$","_$use","_el$8","_tmpl$2"],"mappings":"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"}