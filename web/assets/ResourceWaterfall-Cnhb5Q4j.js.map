{"version":3,"file":"ResourceWaterfall-Cnhb5Q4j.js","sources":["../../src/routes/ResourceWaterfall.tsx"],"sourcesContent":["import { Component, createSignal, onMount, onCleanup, Show, createEffect } from 'solid-js';\nimport { namespace } from '../stores/cluster';\nimport { addNotification } from '../stores/ui';\n\ninterface MetricSnapshot {\n  timestamp: number;\n  cpuUsage: number;\n  memoryUsage: number;\n  cpuCores?: number[];\n  memoryBreakdown?: {\n    rss: number;\n    cache: number;\n    free: number;\n  };\n}\n\nconst ResourceWaterfall: Component = () => {\n  const [metricsHistory, setMetricsHistory] = createSignal<MetricSnapshot[]>([]);\n  const [isLoading, setIsLoading] = createSignal(true);\n  let canvasRef: HTMLCanvasElement | undefined;\n  let animationFrameId: number;\n  let intervalId: number;\n\n  const MAX_SNAPSHOTS = 60; // 60 seconds of history\n  const RIDGE_DEPTH = 50; // How many \"rows\" deep the 3D effect goes\n\n  const fetchMetrics = async () => {\n    try {\n      const ns = namespace();\n      const params = new URLSearchParams();\n      if (ns && ns !== 'All Namespaces') {\n        params.append('namespace', ns);\n      }\n\n      const response = await fetch(`/api/metrics?${params.toString()}`);\n      if (!response.ok) throw new Error('Failed to fetch metrics');\n\n      const data = await response.json();\n\n      const snapshot: MetricSnapshot = {\n        timestamp: Date.now(),\n        cpuUsage: parseFloat(data.cpu || 0),\n        memoryUsage: parseFloat(data.memory || 0),\n        memoryBreakdown: {\n          rss: parseFloat(data.memory || 0) * 0.6,\n          cache: parseFloat(data.memory || 0) * 0.3,\n          free: parseFloat(data.memory || 0) * 0.1,\n        },\n      };\n\n      setMetricsHistory(prev => {\n        const updated = [...prev, snapshot];\n        const result = updated.slice(-MAX_SNAPSHOTS);\n        console.log('[ResourceWaterfall] Metrics history updated:', result.length, 'points', snapshot);\n        return result;\n      });\n\n      setIsLoading(false);\n    } catch (error) {\n      console.error('Failed to fetch metrics:', error);\n      setIsLoading(false);\n    }\n  };\n\n  const drawWaterfall = () => {\n    if (!canvasRef) {\n      console.log('[drawWaterfall] No canvasRef');\n      return;\n    }\n\n    const canvas = canvasRef;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n      console.log('[drawWaterfall] No context');\n      return;\n    }\n\n    // Get display dimensions (accounting for device pixel ratio)\n    const dpr = window.devicePixelRatio || 1;\n    const rect = canvas.getBoundingClientRect();\n    const width = rect.width;\n    const height = rect.height;\n    \n    // Don't draw if canvas has no dimensions\n    if (width <= 0 || height <= 0) {\n      console.log('[drawWaterfall] Canvas has invalid dimensions:', width, 'x', height);\n      return;\n    }\n    \n    const history = metricsHistory();\n\n    console.log('[drawWaterfall] Canvas:', width, 'x', height, 'History length:', history.length);\n\n    if (history.length === 0) {\n      // Clear and show \"waiting for data\" message\n      ctx.fillStyle = 'rgba(10, 10, 20, 1)';\n      ctx.fillRect(0, 0, width, height);\n      ctx.fillStyle = 'rgba(255, 255, 255, 0.5)';\n      ctx.font = '16px Inter, sans-serif';\n      ctx.textAlign = 'center';\n      ctx.fillText('Collecting metrics data...', width / 2, height / 2);\n      return;\n    }\n\n    // Clear canvas with dark background\n    ctx.fillStyle = 'rgba(10, 10, 20, 1)';\n    ctx.fillRect(0, 0, width, height);\n\n    // 3D perspective settings\n    const vanishingPointX = width / 2;\n    const vanishingPointY = height * 0.2;\n    const nearPlaneY = height * 0.9;\n    const ridgeSpacing = height * 0.6 / RIDGE_DEPTH;\n\n    // Draw grid lines for depth perception\n    ctx.strokeStyle = 'rgba(50, 50, 80, 0.3)';\n    ctx.lineWidth = 1;\n\n    for (let i = 0; i < RIDGE_DEPTH; i++) {\n      const progress = i / RIDGE_DEPTH;\n      const y = nearPlaneY - progress * (nearPlaneY - vanishingPointY);\n\n      ctx.beginPath();\n      ctx.moveTo(0, y);\n      ctx.lineTo(width, y);\n      ctx.stroke();\n    }\n\n    // Draw CPU ridge (front ridge - cyan/blue)\n    const cpuRidgeY = nearPlaneY - (nearPlaneY - vanishingPointY) * 0.4;\n    console.log('[ResourceWaterfall] Drawing CPU ridge at Y:', cpuRidgeY, 'with', history.length, 'points');\n    drawRidge(ctx, history, cpuRidgeY, vanishingPointX, vanishingPointY, width, 'cpu');\n\n    // Draw Memory ridge (back ridge - purple/magenta)\n    const memRidgeY = nearPlaneY - (nearPlaneY - vanishingPointY) * 0.7;\n    console.log('[ResourceWaterfall] Drawing Memory ridge at Y:', memRidgeY, 'with', history.length, 'points');\n    drawRidge(ctx, history, memRidgeY, vanishingPointX, vanishingPointY, width, 'memory');\n\n    // Draw axis labels\n    ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';\n    ctx.font = '14px Inter, sans-serif';\n    ctx.textAlign = 'left';\n    ctx.fillText('Time →', 20, height - 20);\n\n    ctx.textAlign = 'right';\n    ctx.fillText('← Past', width - 20, height - 20);\n  };\n\n  const drawRidge = (\n    ctx: CanvasRenderingContext2D,\n    history: MetricSnapshot[],\n    baseY: number,\n    vanishingX: number,\n    vanishingY: number,\n    width: number,\n    type: 'cpu' | 'memory'\n  ) => {\n    const pointCount = history.length;\n    if (pointCount < 1) return;\n\n    const isCPU = type === 'cpu';\n    const color = isCPU ? { r: 6, g: 182, b: 212 } : { r: 139, g: 92, b: 246 };\n    const altColor = isCPU ? { r: 14, g: 165, b: 233 } : { r: 168, g: 85, b: 247 };\n\n    // Calculate perspective scale (things closer to vanishing point are smaller)\n    const distanceFromVanishing = Math.abs(baseY - vanishingY);\n    const scale = distanceFromVanishing / (vanishingY * 2);\n\n    const maxHeight = 150 * scale; // Max peak height\n    const ridgeWidth = width * 0.8 * scale;\n    const ridgeStartX = (width - ridgeWidth) / 2;\n\n    console.log(`[drawRidge ${type}] scale:`, scale, 'maxHeight:', maxHeight, 'ridgeWidth:', ridgeWidth, 'baseY:', baseY);\n\n    // Draw filled ridge with gradient\n    ctx.beginPath();\n\n    // Start from baseline\n    ctx.moveTo(ridgeStartX, baseY);\n\n    // Draw the peaks\n    for (let i = 0; i < pointCount; i++) {\n      const snapshot = history[i];\n      const progress = pointCount === 1 ? 0.5 : i / (pointCount - 1);\n      const x = ridgeStartX + progress * ridgeWidth;\n      const value = isCPU ? snapshot.cpuUsage : snapshot.memoryUsage;\n      const peakHeight = (value / 100) * maxHeight;\n      const y = baseY - peakHeight;\n\n      if (i === 0) {\n        ctx.lineTo(x, y);\n      } else {\n        ctx.lineTo(x, y);\n      }\n    }\n\n    // Close the shape back to baseline\n    ctx.lineTo(ridgeStartX + ridgeWidth, baseY);\n    ctx.closePath();\n\n    // Fill with gradient\n    const gradient = ctx.createLinearGradient(0, baseY - maxHeight, 0, baseY);\n    gradient.addColorStop(0, `rgba(${color.r}, ${color.g}, ${color.b}, 0.8)`);\n    gradient.addColorStop(0.5, `rgba(${altColor.r}, ${altColor.g}, ${altColor.b}, 0.6)`);\n    gradient.addColorStop(1, `rgba(${color.r}, ${color.g}, ${color.b}, 0.2)`);\n\n    ctx.fillStyle = gradient;\n    ctx.fill();\n\n    // Draw outline for definition\n    ctx.strokeStyle = `rgba(${color.r}, ${color.g}, ${color.b}, 0.9)`;\n    ctx.lineWidth = 2;\n    ctx.stroke();\n\n    // Draw highlight on peaks\n    ctx.beginPath();\n    for (let i = 0; i < pointCount; i++) {\n      const snapshot = history[i];\n      const progress = pointCount === 1 ? 0.5 : i / (pointCount - 1);\n      const x = ridgeStartX + progress * ridgeWidth;\n      const value = isCPU ? snapshot.cpuUsage : snapshot.memoryUsage;\n      const peakHeight = (value / 100) * maxHeight;\n      const y = baseY - peakHeight;\n\n      if (i === 0) {\n        ctx.moveTo(x, y);\n      } else {\n        ctx.lineTo(x, y);\n      }\n    }\n    ctx.strokeStyle = `rgba(255, 255, 255, 0.6)`;\n    ctx.lineWidth = 1;\n    ctx.stroke();\n\n    // Add glow effect on recent peaks\n    if (pointCount > 0) {\n      const recentIndex = pointCount - 1;\n      const snapshot = history[recentIndex];\n      const progress = pointCount === 1 ? 0.5 : recentIndex / (pointCount - 1);\n      const x = ridgeStartX + progress * ridgeWidth;\n      const value = isCPU ? snapshot.cpuUsage : snapshot.memoryUsage;\n      const peakHeight = (value / 100) * maxHeight;\n      const y = baseY - peakHeight;\n\n      // Glow\n      const glowGradient = ctx.createRadialGradient(x, y, 0, x, y, 20);\n      glowGradient.addColorStop(0, `rgba(${color.r}, ${color.g}, ${color.b}, 0.8)`);\n      glowGradient.addColorStop(1, 'rgba(0, 0, 0, 0)');\n\n      ctx.fillStyle = glowGradient;\n      ctx.beginPath();\n      ctx.arc(x, y, 20, 0, Math.PI * 2);\n      ctx.fill();\n\n      // Dot on peak\n      ctx.fillStyle = '#ffffff';\n      ctx.beginPath();\n      ctx.arc(x, y, 4, 0, Math.PI * 2);\n      ctx.fill();\n    }\n\n    // Label\n    ctx.fillStyle = `rgba(${color.r}, ${color.g}, ${color.b}, 1)`;\n    ctx.font = 'bold 16px Inter, sans-serif';\n    ctx.textAlign = 'left';\n    const label = isCPU ? 'CPU' : 'Memory';\n    const labelX = ridgeStartX - 60;\n    ctx.fillText(label, labelX, baseY);\n\n    // Current value\n    if (history.length > 0) {\n      const latest = history[history.length - 1];\n      const value = isCPU ? latest.cpuUsage : latest.memoryUsage;\n      ctx.font = '14px Inter, sans-serif';\n      ctx.fillText(`${value.toFixed(1)}%`, labelX, baseY + 20);\n    }\n  };\n\n  const animate = () => {\n    drawWaterfall();\n    animationFrameId = requestAnimationFrame(animate);\n  };\n\n  // Initialize canvas when ref is available\n  createEffect(() => {\n    if (canvasRef) {\n      const rect = canvasRef.getBoundingClientRect();\n      if (rect.width > 0 && rect.height > 0) {\n        console.log('[createEffect] Canvas ref available, initializing:', rect);\n        // Use device pixel ratio for crisp rendering\n        const dpr = window.devicePixelRatio || 1;\n        const displayWidth = rect.width;\n        const displayHeight = rect.height;\n        canvasRef.width = displayWidth * dpr;\n        canvasRef.height = displayHeight * dpr;\n        const ctx = canvasRef.getContext('2d');\n        if (ctx) {\n          ctx.scale(dpr, dpr);\n        }\n        console.log('[createEffect] Canvas dimensions set:', canvasRef.width, 'x', canvasRef.height, 'display:', displayWidth, 'x', displayHeight);\n        // Start animation if not already running\n        if (!animationFrameId) {\n          animate();\n        }\n      }\n    }\n  });\n\n  onMount(() => {\n    console.log('[onMount] Starting initialization');\n    fetchMetrics();\n    intervalId = setInterval(fetchMetrics, 1000);\n  });\n\n  onCleanup(() => {\n    if (animationFrameId) {\n      cancelAnimationFrame(animationFrameId);\n    }\n    if (intervalId) {\n      clearInterval(intervalId);\n    }\n  });\n\n  createEffect(() => {\n    const handleResize = () => {\n      if (canvasRef) {\n        const rect = canvasRef.getBoundingClientRect();\n        // Only resize if we have valid dimensions\n        if (rect.width > 0 && rect.height > 0) {\n          const dpr = window.devicePixelRatio || 1;\n          const displayWidth = rect.width;\n          const displayHeight = rect.height;\n          canvasRef.width = displayWidth * dpr;\n          canvasRef.height = displayHeight * dpr;\n          const ctx = canvasRef.getContext('2d');\n          if (ctx) {\n            ctx.scale(dpr, dpr);\n          }\n          // Redraw after resize\n          drawWaterfall();\n        }\n      }\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  });\n\n  // Redraw when metrics history changes\n  createEffect(() => {\n    const history = metricsHistory();\n    if (history.length > 0 && canvasRef) {\n      // Check if canvas has valid dimensions before drawing\n      const rect = canvasRef.getBoundingClientRect();\n      if (rect.width > 0 && rect.height > 0) {\n        // Small delay to ensure canvas is ready\n        setTimeout(() => {\n          drawWaterfall();\n        }, 50);\n      }\n    }\n  });\n\n  const currentMetrics = () => {\n    const metrics = metricsHistory();\n    return metrics[metrics.length - 1];\n  };\n\n  const getMaxPeaks = () => {\n    const history = metricsHistory();\n    if (history.length === 0) return { cpu: 0, memory: 0 };\n\n    let maxCPU = 0;\n    let maxMemory = 0;\n\n    history.forEach(snapshot => {\n      if (snapshot.cpuUsage > maxCPU) maxCPU = snapshot.cpuUsage;\n      if (snapshot.memoryUsage > maxMemory) maxMemory = snapshot.memoryUsage;\n    });\n\n    return { cpu: maxCPU, memory: maxMemory };\n  };\n\n  return (\n    <div class=\"p-6 space-y-6\">\n      {/* Header */}\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <h1 class=\"text-2xl font-bold\" style={{ color: 'var(--text-primary)' }}>\n            Resource Waterfall\n          </h1>\n          <p class=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>\n            3D ridge plot showing CPU and memory trends moving toward you over time\n          </p>\n        </div>\n      </div>\n\n      <Show when={!isLoading()} fallback={\n        <div class=\"text-center py-12\">\n          <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-white\"></div>\n          <p class=\"mt-4 text-sm opacity-70\">Loading metrics...</p>\n        </div>\n      }>\n        {/* Current Stats */}\n        <Show when={currentMetrics()}>\n          {(current) => (\n            <div class=\"grid grid-cols-3 gap-4\">\n              <div class=\"card p-4\">\n                <div class=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>Current CPU</div>\n                <div class=\"text-3xl font-bold mt-2\" style={{ color: '#06b6d4' }}>\n                  {current().cpuUsage.toFixed(1)}%\n                </div>\n              </div>\n              <div class=\"card p-4\">\n                <div class=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>Current Memory</div>\n                <div class=\"text-3xl font-bold mt-2\" style={{ color: '#8b5cf6' }}>\n                  {current().memoryUsage.toFixed(1)}%\n                </div>\n              </div>\n              <div class=\"card p-4\">\n                <div class=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>Peak Values (60s)</div>\n                <div class=\"mt-2 space-y-1\">\n                  <div class=\"text-lg font-bold\" style={{ color: '#06b6d4' }}>\n                    CPU: {getMaxPeaks().cpu.toFixed(1)}%\n                  </div>\n                  <div class=\"text-lg font-bold\" style={{ color: '#8b5cf6' }}>\n                    Mem: {getMaxPeaks().memory.toFixed(1)}%\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </Show>\n\n        {/* Canvas */}\n        <div class=\"card p-6\">\n          <canvas\n            ref={canvasRef}\n            class=\"w-full\"\n            style={{ height: '600px', background: 'rgba(10, 10, 20, 1)', 'border-radius': '8px' }}\n          />\n        </div>\n\n        {/* Info - Compact */}\n        <div class=\"card p-3\">\n          <div class=\"text-xs\" style={{ color: 'var(--text-secondary)' }}>\n            <strong class=\"text-sm\">Legend:</strong>\n            <div class=\"mt-1 flex flex-wrap gap-x-4 gap-y-1\">\n              <span><span style={{ color: '#06b6d4' }}>●</span> CPU (front/cyan)</span>\n              <span><span style={{ color: '#8b5cf6' }}>●</span> Memory (back/purple)</span>\n              <span>⚪ Latest data point</span>\n              <span>← Time flows left</span>\n            </div>\n          </div>\n        </div>\n      </Show>\n    </div>\n  );\n};\n\nexport default ResourceWaterfall;\n"],"names":["ResourceWaterfall","metricsHistory","setMetricsHistory","createSignal","isLoading","setIsLoading","canvasRef","animationFrameId","intervalId","MAX_SNAPSHOTS","RIDGE_DEPTH","fetchMetrics","ns","namespace","params","URLSearchParams","append","response","fetch","toString","ok","Error","data","json","snapshot","timestamp","Date","now","cpuUsage","parseFloat","cpu","memoryUsage","memory","memoryBreakdown","rss","cache","free","prev","updated","result","slice","console","log","length","error","drawWaterfall","canvas","ctx","getContext","rect","getBoundingClientRect","width","height","history","fillStyle","fillRect","font","textAlign","fillText","vanishingPointX","vanishingPointY","nearPlaneY","strokeStyle","lineWidth","i","progress","y","beginPath","moveTo","lineTo","stroke","cpuRidgeY","drawRidge","memRidgeY","baseY","vanishingX","vanishingY","type","pointCount","isCPU","color","r","g","b","altColor","distanceFromVanishing","Math","abs","scale","maxHeight","ridgeWidth","ridgeStartX","x","value","peakHeight","closePath","gradient","createLinearGradient","addColorStop","fill","recentIndex","glowGradient","createRadialGradient","arc","PI","label","labelX","latest","toFixed","animate","requestAnimationFrame","createEffect","dpr","window","devicePixelRatio","displayWidth","displayHeight","onMount","setInterval","onCleanup","cancelAnimationFrame","clearInterval","handleResize","addEventListener","removeEventListener","setTimeout","currentMetrics","metrics","getMaxPeaks","maxCPU","maxMemory","forEach","_el$","_tmpl$3","_el$2","firstChild","_el$3","_el$4","nextSibling","_$insert","_$createComponent","Show","when","fallback","_tmpl$4","children","current","_el$15","_tmpl$5","_el$16","_el$17","_el$18","_el$19","_el$20","_el$21","_el$22","_el$23","_el$24","_el$25","_el$26","_el$27","_el$28","_el$30","_el$31","_el$32","_el$34","_el$6","_tmpl$","_el$7","_ref$","_$use","_el$8","_tmpl$2","_el$9","_el$0","_el$1","_el$10","_el$12"],"mappings":"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"}